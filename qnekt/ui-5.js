LavaPack.loadBundle([[7440,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useI18nContext":7927,"../../../ui/box":7682,"../../../ui/button":7686,"../../../ui/typography/typography":7837,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=c(e("../../../ui/box")),i=c(e("../../../ui/button")),l=c(e("../../../ui/typography/typography")),u=e("../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=({aggregators:e})=>{const t=(0,o.useI18nContext)(),n=parseInt(e.length,10)-2,[r,c]=(0,a.useState)(!1);return a.default.createElement(s.default,{display:u.DISPLAY.INLINE_FLEX,className:"detected-token-aggregators"},a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H7,fontWeight:u.FONT_WEIGHT.NORMAL},t("fromTokenLists",[n>0&&!r?a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H7,fontWeight:u.FONT_WEIGHT.NORMAL,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,a.default.createElement(i.default,{type:"link",className:"detected-token-aggregators__link",onClick:()=>c(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H7,fontWeight:u.FONT_WEIGHT.NORMAL,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};f.propTypes={aggregators:r.default.array.isRequired};var p=f;n.default=p}}},{package:"$root$"}],[7441,{"../../../../helpers/constants/design-system":7868,"../../../ui/box":7682,"../../../ui/identicon":7755,"../detected-token-address/detected-token-address":7439,"../detected-token-aggregators/detected-token-aggregators":7440,"../detected-token-values/detected-token-values":7444,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("../../../ui/box")),s=d(e("../../../ui/identicon")),i=d(e("../detected-token-values/detected-token-values")),l=d(e("../detected-token-address/detected-token-address")),u=d(e("../detected-token-aggregators/detected-token-aggregators")),c=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const f=({token:e,handleTokenSelection:t,tokensListDetected:n})=>a.default.createElement(o.default,{display:c.DISPLAY.FLEX,className:"detected-token-details",marginBottom:4},a.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),a.default.createElement(o.default,{display:c.DISPLAY.GRID,marginLeft:2,className:"detected-token-details__data"},a.default.createElement(i.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),a.default.createElement(l.default,{tokenAddress:e.address}),a.default.createElement(u.default,{aggregators:e.aggregators})));f.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var p=f;n.default=p}}},{package:"$root$"}],[7442,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useI18nContext":7927,"../../../ui/button":7686,"../../../ui/popover":7798,"../../../ui/typography/typography":7837,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../hooks/useI18nContext"),i=d(e("../../../ui/popover")),l=d(e("../../../ui/button")),u=d(e("../../../ui/typography/typography")),c=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}const f=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n})=>{const r=(0,s.useI18nContext)(),d=a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{className:"detected-token-ignored-popover__ignore-button",type:"secondary",onClick:t},r("cancel")),a.default.createElement(l.default,{className:"detected-token-ignored-popover__import-button",type:"primary",onClick:n},r("confirm")));return a.default.createElement(i.default,{title:r(e?"importSelectedTokens":"areYouSure"),className:(0,o.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),footer:d},a.default.createElement(u.default,{variant:c.TYPOGRAPHY.H6,tag:c.TYPOGRAPHY.H6,marginTop:0,marginRight:5,marginBottom:7,marginLeft:5},r(e?"importSelectedTokensDescription":"ignoreTokenWarning")))};f.propTypes={partiallyIgnoreDetectedTokens:r.default.bool.isRequired,onCancelIgnore:r.default.func.isRequired,handleClearTokensSelection:r.default.func.isRequired};var p=f;n.default=p}}},{package:"$root$"}],[7443,{"../../../../../shared/constants/metametrics":7321,"../../../../contexts/metametrics":7845,"../../../../hooks/useI18nContext":7927,"../../../../selectors":8267,"../../../ui/box":7682,"../../../ui/button":7686,"../../../ui/popover":7798,"../detected-token-details/detected-token-details":7441,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),u=e("../../../../selectors"),c=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),f=m(e("../../../ui/button")),p=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const _=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:r,setShowDetectedTokens:m,sortingBasedOnTokenSelection:h})=>{const _=(0,s.useI18nContext)(),g=(0,a.useContext)(i.MetaMetricsContext),y=(0,o.useSelector)(u.getDetectedTokensInCurrentNetwork),{selected:E=[]}=h(e),v=E.length===y.length?"All":`(${E.length})`,b=a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>r()},_("ignoreAll")),a.default.createElement(f.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n},_("importWithCount",[v])));return a.default.createElement(c.default,{className:"detected-token-selection-popover",title:1===y.length?_("tokenFoundTitle"):_("tokensFoundTitle",[y.length]),onClose:()=>{m(!1);const e=y.map((({address:e,symbol:t})=>`${t} - ${e}`));g({event:l.EVENT_NAMES.TOKEN_IMPORT_CANCELED,category:l.EVENT.CATEGORIES.WALLET,properties:{source:l.EVENT.SOURCE.TOKEN.DETECTED,tokens:e}})},footer:b},a.default.createElement(d.default,{margin:3},y.map(((n,r)=>a.default.createElement(p.default,{key:r,token:n,handleTokenSelection:t,tokensListDetected:e})))))};_.propTypes={tokensListDetected:r.default.object,handleTokenSelection:r.default.func.isRequired,onIgnoreAll:r.default.func.isRequired,onImport:r.default.func.isRequired,setShowDetectedTokens:r.default.func.isRequired,sortingBasedOnTokenSelection:r.default.func.isRequired};var g=_;n.default=g}}},{package:"$root$"}],[7444,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useTokenFiatAmount":7939,"../../../../hooks/useTokenTracker":7940,"../../../ui/box":7682,"../../../ui/check-box":7692,"../../../ui/typography":7836,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("../../../ui/box")),s=d(e("../../../ui/typography")),i=d(e("../../../ui/check-box")),l=e("../../../../helpers/constants/design-system"),u=e("../../../../hooks/useTokenTracker"),c=e("../../../../hooks/useTokenFiatAmount");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var r;const[d,f]=(0,a.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:p}=(0,u.useTokenTracker)([e]),m=null===(r=p[0])||void 0===r?void 0:r.string,h=(0,c.useTokenFiatAmount)(e.address,m,e.symbol);(0,a.useEffect)((()=>{var t;f(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,d,f]);return a.default.createElement(o.default,{display:l.DISPLAY.INLINE_FLEX,className:"detected-token-values"},a.default.createElement(o.default,{marginBottom:1},a.default.createElement(s.default,{variant:l.TYPOGRAPHY.H4},`${m||"0"} ${e.symbol}`),a.default.createElement(s.default,{variant:l.TYPOGRAPHY.H7,color:l.COLORS.TEXT_ALTERNATIVE},h||"$0")),a.default.createElement(o.default,{className:"detected-token-values__checkbox"},a.default.createElement(i.default,{checked:d,onClick:()=>{f(!d),t(e)}})))};p.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};var m=p;n.default=m}}},{package:"$root$"}],[7445,{"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/transaction":7329,"../../../contexts/metametrics":7845,"../../../selectors":8267,"../../../store/actions":8273,"./detected-token-ignored-popover/detected-token-ignored-popover":7442,"./detected-token-selection-popover/detected-token-selection-popover":7443,lodash:5584,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("lodash"),i=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),f=m(e("./detected-token-selection-popover/detected-token-selection-popover")),p=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const _=e=>(0,s.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:a,aggregators:r}=e;return{address:t,symbol:n,decimals:a,aggregators:r}})))).value(),g=({setShowDetectedTokens:e})=>{const t=(0,o.useDispatch)(),n=(0,a.useContext)(u.MetaMetricsContext),r=(0,o.useSelector)(l.getDetectedTokensInCurrentNetwork),[s,m]=(0,a.useState)((()=>r.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[h,g]=(0,a.useState)(!1),[y,E]=(0,a.useState)(!1),v=async e=>{e.forEach((e=>{n({event:d.EVENT_NAMES.TOKEN_ADDED,category:d.EVENT.CATEGORIES.WALLET,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source:d.EVENT.SOURCE.TOKEN.DETECTED,token_standard:c.TOKEN_STANDARDS.ERC20,asset_type:c.ASSET_TYPES.TOKEN}})})),await t((0,i.addImportedTokens)(e));const a=e.map((({symbol:e})=>e));t((0,i.setNewTokensImported)(a.join(", ")))};return a.default.createElement(a.default.Fragment,null,h&&a.default.createElement(p.default,{onCancelIgnore:()=>{g(!1),E(!1)},handleClearTokensSelection:async()=>{const{selected:a=[],deselected:o=[]}=_(s);o.length<r.length&&await v(a);const l=o.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.EVENT_NAMES.TOKEN_HIDDEN,category:d.EVENT.CATEGORIES.WALLET,sensitiveProperties:{tokens:l,location:d.EVENT.LOCATION.TOKEN_DETECTION,token_standard:c.TOKEN_STANDARDS.ERC20,asset_type:c.ASSET_TYPES.TOKEN}});const u=o.map((({address:e})=>e));await t((0,i.ignoreTokens)({tokensToIgnore:u,dontShowLoadingIndicator:!0})),e(!1),E(!1)},partiallyIgnoreDetectedTokens:y}),a.default.createElement(f.default,{detectedTokens:r,tokensListDetected:s,handleTokenSelection:e=>{m((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=_(s);t.length<r.length?(g(!0),E(!0)):(await v(t),e(!1))},onIgnoreAll:()=>{const e={...s};for(const t of Object.keys(s))e[t].selected=!1;m(e),g(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:_}))};g.propTypes={setShowDetectedTokens:r.default.func.isRequired};var y=g;n.default=y}}},{package:"$root$"}],[7446,{"../menu-droppo":7498,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DropdownMenuItem=n.Dropdown=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../menu-droppo"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class l extends a.Component{render(){const{containerClassName:e,isOpen:t,onClickOutside:n,style:r,innerStyle:s,children:i,useCssTransition:l}=this.props,u={borderRadius:"4px",padding:"16px 0px",background:"rgba(0, 0, 0, 0.8)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",...s};return a.default.createElement(o.default,{containerClassName:e,useCssTransition:l,isOpen:t,zIndex:55,onClickOutside:n,style:r,innerStyle:u},a.default.createElement("style",null,"\n            li.dropdown-menu-item:hover {\n              color:var(--color-text-default);\n              background-color: rgba(255, 255, 255, 0.05);\n              border-radius: 4px;\n            }\n          "),i)}}n.Dropdown=l,l.defaultProps={useCssTransition:!1},l.propTypes={isOpen:r.default.bool.isRequired,children:r.default.node,style:r.default.object.isRequired,onClickOutside:r.default.func,innerStyle:r.default.object,useCssTransition:r.default.bool,containerClassName:r.default.string};class u extends a.Component{render(){const{onClick:e,closeMenu:t,children:n,style:r}=this.props;return a.default.createElement("li",{className:"dropdown-menu-item",onClick:()=>{e(),t()},onKeyPress:n=>{"Enter"===n.key&&(e(),t())},style:{listStyle:"none",padding:"8px 0px",fontSize:"18px",fontStyle:"normal",cursor:"pointer",display:"flex",justifyContent:"flex-start",alignItems:"center",...r},tabIndex:"0"},n)}}n.DropdownMenuItem=u,u.propTypes={closeMenu:r.default.func.isRequired,onClick:r.default.func.isRequired,children:r.default.node,style:r.default.object}}}},{package:"$root$"}],[7447,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/network":7322,"../../../../shared/modules/network.utils":7338,"../../../ducks/alerts/invalid-custom-network":7849,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/routes":7872,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/button":7686,"../../ui/color-indicator":7697,"../../ui/icon/icon-check":7730,"./dropdown":7446,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=k(e("prop-types")),r=P(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("redux"),l=k(e("classnames")),u=k(e("../../ui/button")),c=P(e("../../../store/actions")),d=e("../../../ducks/alerts/invalid-custom-network"),f=e("../../../../shared/constants/network"),p=e("../../../../shared/modules/network.utils"),m=k(e("../../ui/color-indicator")),h=e("../../../helpers/constants/design-system"),_=e("../../../selectors"),g=e("../../../../app/scripts/lib/util"),y=e("../../../../shared/constants/app"),E=e("../../../../shared/constants/metametrics"),v=e("../../../helpers/constants/routes"),b=k(e("../../ui/icon/icon-check")),T=e("./dropdown");function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function k(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=["menu-icon","network-name","network-indicator","network-caret","network-component","modal-container__footer-button"],S={fontSize:"16px",lineHeight:"20px",padding:"12px 0px"};class C extends r.Component{handleClick(e){const{provider:{type:t},setProviderType:n}=this.props,{trackEvent:a}=this.context;a({category:E.EVENT.CATEGORIES.NAVIGATION,event:E.EVENT_NAMES.NAV_NETWORK_SWITCHED,properties:{from_network:t,to_network:e}}),n(e)}renderAddCustomButton(){return r.default.createElement("div",{className:"network__add-network-button"},r.default.createElement(u.default,{type:"secondary",onClick:()=>{this.props.addPopularNetworkFeatureToggledOn?this.props.history.push(v.ADD_POPULAR_CUSTOM_NETWORK):(0,g.getEnvironmentType)()===y.ENVIRONMENT_TYPE_POPUP?global.platform.openExtensionInBrowser(v.ADD_NETWORK_ROUTE):this.props.history.push(v.ADD_NETWORK_ROUTE),this.props.hideNetworkDropdown()}},this.context.t("addNetwork")))}renderCustomRpcList(e,t,n={}){return e.slice().reverse().map((e=>{const{rpcUrl:a,chainId:o,ticker:s="ETH",nickname:i=""}=e,l=t.type===f.NETWORK_TYPE_RPC&&a===t.rpcUrl;return r.default.createElement(T.DropdownMenuItem,{key:`common${a}`,closeMenu:()=>this.props.hideNetworkDropdown(),onClick:()=>{(0,p.isPrefixedFormattedHexString)(o)?this.props.setRpcTarget(a,o,s,i):this.props.displayInvalidCustomNetworkAlert(i||a)},style:{fontSize:"16px",lineHeight:"20px",padding:"16px 0px"}},l?r.default.createElement(b.default,{color:"var(--color-success-default)"}):r.default.createElement("div",{className:"network-check__transparent"},"✓"),r.default.createElement(m.default,{color:n.isLocalHost?"localhost":h.COLORS.ICON_MUTED,size:h.SIZES.LG,type:m.default.TYPES.FILLED}),r.default.createElement("span",{className:"network-name-item","data-testid":`${i}-network-item`,style:{}},i||a),l?null:r.default.createElement("i",{className:"fa fa-times delete",onClick:e=>{e.stopPropagation(),this.props.showConfirmDeleteNetworkModal({target:a,onConfirm:()=>undefined})}}))}))}getNetworkName(){const{provider:e}=this.props,t=e.type;let n;return n="mainnet"===t?this.context.t("mainnet"):"ropsten"===t?this.context.t("ropsten"):"kovan"===t?this.context.t("kovan"):"rinkeby"===t?this.context.t("rinkeby"):"goerli"===t?this.context.t("goerli"):"localhost"===t?this.context.t("localhost"):e.nickname||this.context.t("unknownNetwork"),n}renderNetworkEntry(e){const{provider:{type:t}}=this.props;return r.default.createElement(T.DropdownMenuItem,{key:e,closeMenu:this.props.hideNetworkDropdown,onClick:()=>this.handleClick(e),style:S},t===e?r.default.createElement(b.default,{color:"var(--color-success-default)"}):r.default.createElement("div",{className:"network-check__transparent"},"✓"),r.default.createElement(m.default,{color:e,size:h.SIZES.LG,type:m.default.TYPES.FILLED}),r.default.createElement("span",{className:"network-name-item","data-testid":`${e}-network-item`,style:{}},this.context.t(e)))}render(){const{history:e,hideNetworkDropdown:t,shouldShowTestNetworks:n,showTestnetMessageInDropdown:a,hideTestNetMessage:o}=this.props,s=this.props.frequentRpcListDetail,i=s.filter((e=>e.rpcUrl!==f.LOCALHOST_RPC_URL&&e.rpcUrl!==f.QTUM_MAINNET_RPC_URL&&e.rpcUrl!==f.QTUM_TESTNET_RPC_URL&&e.rpcUrl!==f.QTUM_REGTEST_RPC_URL)),c=s.filter((e=>e.rpcUrl===f.LOCALHOST_RPC_URL)),d=this.props.networkDropdownOpen,{t:p}=this.context;return r.default.createElement(T.Dropdown,{isOpen:d,onClickOutside:e=>{const{classList:n}=e.target;-1===N.findIndex((e=>n.contains(e)))&&(e.stopPropagation(),t())},containerClassName:"network-droppo",zIndex:55,style:{position:"absolute",top:"58px",width:"309px",zIndex:"55px"},innerStyle:{padding:"16px 0"}},r.default.createElement("div",{className:"network-dropdown-header"},r.default.createElement("div",{className:"network-dropdown-title"},p("networks")),r.default.createElement("div",{className:"network-dropdown-divider"}),a?r.default.createElement("div",{className:"network-dropdown-content"},p("toggleTestNetworks",[r.default.createElement("a",{href:"#",key:"advancedSettingsLink",className:"network-dropdown-content--link",onClick:n=>{n.preventDefault(),t(),e.push(`${v.ADVANCED_ROUTE}#show-testnets`)}},p("showHide"))]),r.default.createElement(u.default,{onClick:o,className:"network-dropdown-content--dismiss",style:{color:"inherit"}},p("dismiss"))):null),this.renderNetworkEntry("qtumMainnet"),this.renderNetworkEntry("qtumTestnet"),r.default.createElement("div",{className:"network-dropdown-list"},this.renderCustomRpcList(i,this.props.provider),r.default.createElement("div",{className:(0,l.default)("network-dropdown-testnets",{"network-dropdown-testnets--no-visibility":!n})},this.renderCustomRpcList(c,this.props.provider,{isLocalHost:!0}))),this.renderAddCustomButton())}}w(C,"contextTypes",{t:a.default.func,trackEvent:a.default.func}),w(C,"propTypes",{provider:a.default.shape({nickname:a.default.string,rpcUrl:a.default.string,type:a.default.string,ticker:a.default.string}).isRequired,setProviderType:a.default.func.isRequired,setRpcTarget:a.default.func.isRequired,hideNetworkDropdown:a.default.func.isRequired,frequentRpcListDetail:a.default.array.isRequired,shouldShowTestNetworks:a.default.bool,networkDropdownOpen:a.default.bool.isRequired,displayInvalidCustomNetworkAlert:a.default.func.isRequired,showConfirmDeleteNetworkModal:a.default.func.isRequired,showTestnetMessageInDropdown:a.default.bool.isRequired,hideTestNetMessage:a.default.func.isRequired,history:a.default.object,addPopularNetworkFeatureToggledOn:a.default.bool});var M=(0,i.compose)(s.withRouter,(0,o.connect)((function(e){return{provider:e.metamask.provider,shouldShowTestNetworks:(0,_.getShowTestNetworks)(e),frequentRpcListDetail:e.metamask.frequentRpcListDetail||[],networkDropdownOpen:e.appState.networkDropdownOpen,showTestnetMessageInDropdown:e.metamask.showTestnetMessageInDropdown,addPopularNetworkFeatureToggledOn:e.metamask.customNetworkListEnabled}}),(function(e){return{setProviderType:t=>{e(c.setProviderType(t))},setRpcTarget:(t,n,a,r)=>{e(c.setRpcTarget(t,n,a,r))},hideNetworkDropdown:()=>e(c.hideNetworkDropdown()),displayInvalidCustomNetworkAlert:t=>{e((0,d.openAlert)(t))},showConfirmDeleteNetworkModal:({target:t,onConfirm:n})=>e(c.showModal({name:"CONFIRM_DELETE_NETWORK",target:t,onConfirm:n})),hideTestNetMessage:()=>c.hideTestNetMessage()}})))(C);n.default=M}}},{package:"$root$"}],[7448,{"../../../contexts/i18n":7844,"../../../helpers/constants/design-system":7868,"../../ui/typography/typography":7837,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,r.useContext)(i.I18nContext);return r.default.createElement("div",{className:"edit-gas-display-education"},r.default.createElement(o.default,{as:"p",color:s.COLORS.TEXT_ALTERNATIVE,variant:s.TYPOGRAPHY.H6},e("editGasEducationModalIntro")),r.default.createElement(o.default,{color:s.COLORS.TEXT_DEFAULT,variant:s.TYPOGRAPHY.h6,fontWeight:s.FONT_WEIGHT.BOLD},e("editGasHigh")),r.default.createElement(o.default,{as:"p",color:s.COLORS.TEXT_ALTERNATIVE,variant:s.TYPOGRAPHY.H6},e("editGasEducationHighExplanation")),r.default.createElement(o.default,{color:s.COLORS.TEXT_DEFAULT,variant:s.TYPOGRAPHY.h6,fontWeight:s.FONT_WEIGHT.BOLD},e("editGasMedium")),r.default.createElement(o.default,{as:"p",color:s.COLORS.TEXT_ALTERNATIVE,variant:s.TYPOGRAPHY.H6},e("editGasEducationMediumExplanation")),r.default.createElement(o.default,{color:s.COLORS.TEXT_DEFAULT,variant:s.TYPOGRAPHY.h6,fontWeight:s.FONT_WEIGHT.BOLD},e("editGasLow")),r.default.createElement(o.default,{as:"p",color:s.COLORS.TEXT_ALTERNATIVE,variant:s.TYPOGRAPHY.H6},e("editGasEducationLowExplanation")))};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("../../ui/typography/typography"))&&a.__esModule?a:{default:a},s=e("../../../helpers/constants/design-system"),i=e("../../../contexts/i18n");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}}}},{package:"$root$"}],[7449,{"./edit-gas-display-education.component":7448},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display-education.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7450,{"../../../../shared/constants/gas":7318,"../../../../shared/constants/metametrics":7321,"../../../contexts/i18n":7844,"../../../contexts/metametrics":7845,"../../../helpers/constants/design-system":7868,"../../../helpers/utils/confirm-tx.util":7887,"../../../helpers/utils/transactions.util":7905,"../../../selectors":8267,"../../ui/actionable-message/actionable-message":7678,"../../ui/button":7686,"../../ui/error-message":7712,"../../ui/info-tooltip":7756,"../../ui/radio-group/radio-group.component":7804,"../../ui/typography/typography":7837,"../advanced-gas-controls/advanced-gas-controls.component":7354,"../gas-timing":7485,"../transaction-total-banner/transaction-total-banner.component":7660,"bignumber.js":2283,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=P(e("prop-types")),s=P(e("bignumber.js")),i=e("../../../../shared/constants/gas"),l=e("../../../../shared/constants/metametrics"),u=P(e("../../ui/button")),c=P(e("../../ui/typography/typography")),d=e("../../../selectors"),f=e("../../../helpers/constants/design-system"),p=e("../../../helpers/utils/confirm-tx.util"),m=e("../../../helpers/utils/transactions.util"),h=P(e("../../ui/info-tooltip")),_=P(e("../../ui/error-message")),g=P(e("../transaction-total-banner/transaction-total-banner.component")),y=P(e("../../ui/radio-group/radio-group.component")),E=P(e("../advanced-gas-controls/advanced-gas-controls.component")),v=P(e("../../ui/actionable-message/actionable-message")),b=e("../../../contexts/i18n"),T=P(e("../gas-timing")),O=e("../../../contexts/metametrics");function P(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function w({mode:e=i.EDIT_GAS_MODES.MODIFY_IN_PLACE,showEducationButton:t=!1,onEducationClick:n,transaction:o,defaultEstimateToUse:P,maxPriorityFeePerGas:k,setMaxPriorityFeePerGas:w,maxPriorityFeePerGasFiat:N,maxFeePerGas:S,setMaxFeePerGas:C,maxFeePerGasFiat:M,estimatedMaximumNative:x,estimatedMinimumNative:A,isGasEstimatesLoading:R,gasEstimateType:I,gasPrice:j,setGasPrice:D,gasLimit:G,setGasLimit:L,properGasLimit:$,estimateToUse:W,setEstimateToUse:F,estimatedMinimumFiat:U,estimatedMaximumFiat:q,dappSuggestedGasFeeAcknowledged:H,setDappSuggestedGasFeeAcknowledged:B,gasErrors:Y,gasWarnings:V,onManualChange:K,minimumGasLimit:z,balanceError:Q,estimatesUnavailableWarning:X,hasGasErrors:Z,txParamsHaveBeenCustomized:J,isNetworkBusy:ee}){const te=(0,a.useContext)(b.I18nContext),ne=(0,a.useRef)(null),ae=(0,r.useSelector)(d.getIsMainnet),re=(0,r.useSelector)(d.checkNetworkAndAccountSupports1559)&&!(0,m.isLegacyTransaction)(null==o?void 0:o.txParams),oe=(0,r.useSelector)(d.getAdvancedInlineGasShown),[se,ie]=(0,a.useState)(!W||W===i.CUSTOM_GAS_ESTIMATE||!re),[le,ue]=(0,a.useState)(oe);(0,a.useLayoutEffect)((()=>{var e,t;se&&ne.current&&(null===(e=(t=ne.current).scrollIntoView)||void 0===e||e.call(t))}),[se]);const ce=(0,p.areDappSuggestedAndTxParamGasFeesTheSame)(o),de=Boolean((null==o?void 0:o.dappSuggestedGasFees)&&!H&&ce);let fe;G!==undefined&&$!==undefined&&new s.default(G).lessThan(new s.default($))&&(fe=te("gasLimitRecommended",[$]));const pe=(Q||X)&&(!R||J),me=re&&I===i.GAS_ESTIMATE_TYPES.FEE_MARKET&&!de;let he;Q?he="insufficientFunds":X&&(he="gasEstimatesUnavailableWarning");const _e=(0,a.useContext)(O.MetaMetricsContext);return a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},pe&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(_.default,{errorKey:he})),fe&&a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(v.default,{className:"actionable-message--warning",message:fe,iconFillColor:"var(--color-warning-default)",useIcon:!0})),de&&!R&&a.default.createElement("div",{className:"edit-gas-display__dapp-acknowledgement-warning"},a.default.createElement(v.default,{className:"actionable-message--warning",message:te("gasDisplayDappWarning",[o.origin]),iconFillColor:"var(--color-warning-default)",useIcon:!0})),ee?a.default.createElement("div",{className:"edit-gas-display__warning"},a.default.createElement(v.default,{className:"actionable-message--warning",message:te("networkIsBusy"),iconFillColor:"var(--color-warning-default)",useIcon:!0})):null,e===i.EDIT_GAS_MODES.SPEED_UP&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.default,{color:f.COLORS.TEXT_DEFAULT,variant:f.TYPOGRAPHY.H8,fontWeight:f.FONT_WEIGHT.BOLD},te("speedUpTooltipText")," ",a.default.createElement(h.default,{position:"top",contentText:te("speedUpExplanation")}))),a.default.createElement(g.default,{total:(re||ae)&&U?`~ ${U}`:A,detail:re&&q!==undefined&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{as:"span",key:"label",fontWeight:f.FONT_WEIGHT.BOLD},te("editGasSubTextFeeLabel")),a.default.createElement(c.default,{as:"span",key:"secondary"},q),a.default.createElement(c.default,{as:"span",key:"primary"},`(${x})`)),timing:!1===Z&&re&&a.default.createElement(T.default,{maxFeePerGas:S.toString(),maxPriorityFeePerGas:k.toString(),gasWarnings:V})}),de&&a.default.createElement(u.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>B(!0)},te("gasDisplayAcknowledgeDappButtonText")),!de&&me&&oe&&a.default.createElement("button",{className:"edit-gas-display__advanced-button",onClick:()=>ue(!le)},te("showRecommendations")," ",le?a.default.createElement("i",{className:"fa fa-caret-down"}):a.default.createElement("i",{className:"fa fa-caret-up"})),me&&!le&&a.default.createElement(y.default,{name:"gas-recommendation",options:[{value:i.GAS_RECOMMENDATIONS.LOW,label:te("editGasLow"),recommended:P===i.GAS_RECOMMENDATIONS.LOW},{value:i.GAS_RECOMMENDATIONS.MEDIUM,label:te("editGasMedium"),recommended:P===i.GAS_RECOMMENDATIONS.MEDIUM},{value:i.GAS_RECOMMENDATIONS.HIGH,label:te("editGasHigh"),recommended:P===i.GAS_RECOMMENDATIONS.HIGH}],selectedValue:W,onChange:F}),!de&&me&&!oe&&a.default.createElement("button",{className:"edit-gas-display__advanced-button",onClick:()=>{ie(!se),_e({event:'Clicked "Advanced options"',category:l.EVENT.CATEGORIES.TRANSACTIONS,properties:{action:"Edit Screen",legacy_event:!0}})}},te("advancedOptions")," ",se?a.default.createElement("i",{className:"fa fa-caret-up"}):a.default.createElement("i",{className:"fa fa-caret-down"})),!de&&(se||Z||X||oe)&&a.default.createElement(E.default,{gasEstimateType:I,isGasEstimatesLoading:R,gasLimit:G,setGasLimit:L,maxPriorityFee:k,setMaxPriorityFee:w,maxFee:S,setMaxFee:C,gasPrice:j,setGasPrice:D,maxPriorityFeeFiat:N,maxFeeFiat:M,gasErrors:Y,onManualChange:K,minimumGasLimit:z,supportsEIP1559:re})),re&&!de&&t&&a.default.createElement("div",{className:"edit-gas-display__education"},a.default.createElement("button",{onClick:n},te("editGasEducationButtonText"))),a.default.createElement("div",{ref:ne,className:"edit-gas-display__scroll-bottom"}))}w.propTypes={mode:o.default.oneOf(Object.values(i.EDIT_GAS_MODES)),showEducationButton:o.default.bool,onEducationClick:o.default.func,defaultEstimateToUse:o.default.oneOf(Object.values(i.GAS_RECOMMENDATIONS)),maxPriorityFeePerGas:o.default.string,setMaxPriorityFeePerGas:o.default.func,maxPriorityFeePerGasFiat:o.default.string,maxFeePerGas:o.default.string,setMaxFeePerGas:o.default.func,maxFeePerGasFiat:o.default.string,estimatedMaximumNative:o.default.string,estimatedMinimumNative:o.default.string,isGasEstimatesLoading:o.default.bool,gasEstimateType:o.default.string,gasPrice:o.default.string,setGasPrice:o.default.func,gasLimit:o.default.number,setGasLimit:o.default.func,properGasLimit:o.default.number,estimateToUse:o.default.string,setEstimateToUse:o.default.func,estimatedMinimumFiat:o.default.string,estimatedMaximumFiat:o.default.string,dappSuggestedGasFeeAcknowledged:o.default.bool,setDappSuggestedGasFeeAcknowledged:o.default.func,transaction:o.default.object,gasErrors:o.default.object,gasWarnings:o.default.object,onManualChange:o.default.func,minimumGasLimit:o.default.string,balanceError:o.default.bool,estimatesUnavailableWarning:o.default.bool,hasGasErrors:o.default.bool,txParamsHaveBeenCustomized:o.default.bool,isNetworkBusy:o.default.bool}}}},{package:"$root$"}],[7451,{"./edit-gas-display.component":7450},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7452,{"../../../../shared/constants/gas":7318,"../../../contexts/gasFee":7843,"../../../contexts/transaction-modal":7846,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/gas":7870,"../../../hooks/useI18nContext":7927,"../../../hooks/useTransactionEventFragment":7943,"../../ui/info-tooltip/info-tooltip":7758,"../../ui/typography/typography":7837,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=m(e("react")),r=m(e("prop-types")),o=e("../../../../shared/constants/gas"),s=e("../../../helpers/constants/design-system"),i=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),f=m(e("../../ui/info-tooltip/info-tooltip")),p=m(e("../../ui/typography/typography"));function m(e){return e&&e.__esModule?e:{default:e}}function h({userAcknowledgedGasMissing:e}){const t=(0,u.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:m,estimateUsed:h,maxFeePerGas:_,maxPriorityFeePerGas:g,supportsEIP1559V2:y,transaction:E}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:v}=(0,c.useTransactionEventFragment)(),{openModal:b}=(0,d.useTransactionModalContext)();if(!y||!h||!(!m||!0===e))return null;let T=h,O=h;h===o.PRIORITY_LEVELS.HIGH&&n===o.EDIT_GAS_MODES.SWAPS?(T="swapSuggested",O="swapSuggested"):h===o.PRIORITY_LEVELS.TEN_PERCENT_INCREASED&&(T=undefined,O="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{v({gas_edit_attempted:"basic"}),b("editGasFee")},"data-testid":"edit-gas-fee-button"},T&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},i.PRIORITY_LEVEL_ICON_MAP[T]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(O)),a.default.createElement("i",{className:"fas fa-chevron-right asset-list-item__chevron-right"})),"custom"===h&&a.default.createElement("button",{onClick:()=>{v({gas_edit_attempted:"advanced"}),b("advancedGasFee")}},t("edit")),"dappSuggested"===h&&a.default.createElement(f.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==E?void 0:E.origin)&&a.default.createElement(p.default,{variant:s.TYPOGRAPHY.H7,color:s.COLORS.TEXT_ALTERNATIVE},t("dappSuggestedTooltip",[E.origin])),a.default.createElement(p.default,{variant:s.TYPOGRAPHY.H7},a.default.createElement("b",null,t("maxBaseFee"))," ",_),a.default.createElement(p.default,{variant:s.TYPOGRAPHY.H7},a.default.createElement("b",null,t("maxPriorityFee"))," ",g),a.default.createElement(p.default,{variant:s.TYPOGRAPHY.H7},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}h.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$"}],[7453,{"./edit-gas-fee-button":7452},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7454,{"../../../../shared/constants/gas":7318,"../../../contexts/gasFee":7843,"../../../contexts/transaction-modal":7846,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/error-keys":7869,"../../../helpers/constants/zendesk-url":7875,"../../../hooks/useI18nContext":7927,"../../ui/box":7682,"../../ui/error-message":7712,"../../ui/popover":7798,"../../ui/typography/typography":7837,"../app-loading-spinner":7383,"./edit-gas-item":7456,"./network-statistics":7461,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=e("../../../../shared/constants/gas"),o=e("../../../hooks/useI18nContext"),s=e("../../../contexts/transaction-modal"),i=y(e("../../ui/box")),l=y(e("../../ui/error-message")),u=y(e("../../ui/popover")),c=y(e("../../ui/typography/typography")),d=e("../../../helpers/constants/design-system"),f=e("../../../helpers/constants/error-keys"),p=e("../../../contexts/gasFee"),m=y(e("../app-loading-spinner")),h=y(e("../../../helpers/constants/zendesk-url")),_=y(e("./edit-gas-item")),g=y(e("./network-statistics"));function y(e){return e&&e.__esModule?e:{default:e}}var E=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:y,closeModal:E,currentModal:v,openModalCount:b}=(0,s.useTransactionModalContext)();if("editGasFee"!==v)return null;let T="editGasFeeModalTitle";return t===r.EDIT_GAS_MODES.CANCEL?T="editCancellationGasFeeModalTitle":t===r.EDIT_GAS_MODES.SPEED_UP&&(T="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(u.default,{title:n(T),onBack:1===b?undefined:()=>E(["editGasFee"]),onClose:y,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(i.default,null,e&&a.default.createElement(l.default,{errorKey:f.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EDIT_GAS_MODES.SWAPS&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EDIT_GAS_MODES.CANCEL||t===r.EDIT_GAS_MODES.SPEED_UP)&&a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.TEN_PERCENT_INCREASED}),t===r.EDIT_GAS_MODES.MODIFY_IN_PLACE&&a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.LOW}),a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.MEDIUM}),a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.HIGH}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EDIT_GAS_MODES.MODIFY_IN_PLACE&&a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.DAPP_SUGGESTED}),a.default.createElement(_.default,{priorityLevel:r.PRIORITY_LEVELS.CUSTOM})),a.default.createElement(i.default,null,a.default.createElement(g.default,null),a.default.createElement(c.default,{className:"edit-gas-fee-popover__know-more",align:"center",color:d.COLORS.TEXT_ALTERNATIVE,tag:d.TYPOGRAPHY.Paragraph,variant:d.TYPOGRAPHY.H7},n("learmMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:h.default.USER_GUIDE_GAS},n("learnMore"))])))))))};n.default=E}}},{package:"$root$"}],[7455,{"../../../../../shared/constants/gas":7318,"../../../../contexts/gasFee":7843,"../../../../contexts/transaction-modal":7846,"../../../../helpers/constants/common":7865,"../../../../helpers/constants/gas":7870,"../../../../helpers/utils/util":7907,"../../../../hooks/useI18nContext":7927,"../../../../hooks/useTransactionEventFragment":7943,"../../../ui/info-tooltip":7756,"../../../ui/loading-heartbeat":7763,"../../user-preferenced-currency-display":7661,"../edit-gas-tooltip/edit-gas-tooltip":7459,"./useGasItemFeeDetails":7458,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=E(e("classnames")),r=E(e("prop-types")),o=E(e("react")),s=e("../../../../../shared/constants/gas"),i=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),u=e("../../../../helpers/utils/util"),c=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),f=e("../../../../hooks/useTransactionEventFragment"),p=e("../../../../contexts/transaction-modal"),m=E(e("../../../ui/info-tooltip")),h=E(e("../../../ui/loading-heartbeat")),_=E(e("../../user-preferenced-currency-display")),g=E(e("../edit-gas-tooltip/edit-gas-tooltip")),y=e("./useGasItemFeeDetails");function E(e){return e&&e.__esModule?e:{default:e}}const v=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:E,updateTransactionUsingDAPPSuggestedValues:v,updateTransactionUsingEstimate:b,transaction:T}=(0,c.useGasFeeContext)(),{updateTransactionEventFragment:O}=(0,f.useTransactionEventFragment)(),P=(0,d.useI18nContext)(),{closeModal:k,openModal:w}=(0,p.useTransactionModalContext)(),{dappSuggestedGasFees:N}=T,{estimateGreaterThanGasUse:S,hexMaximumTransactionFee:C,maxFeePerGas:M,maxPriorityFeePerGas:x,minWaitTime:A}=(0,y.useGasItemFeeDetails)(e);if(!(e!==s.PRIORITY_LEVELS.DAPP_SUGGESTED||null!=N&&N.maxFeePerGas||null!=N&&N.gasPrice))return null;const{title:R,icon:I}=((e,t)=>{let n=e,a=e;return e===s.PRIORITY_LEVELS.DAPP_SUGGESTED?a="dappSuggestedShortLabel":e===s.PRIORITY_LEVELS.TEN_PERCENT_INCREASED?(n=null,a="tenPercentIncreased"):e===s.PRIORITY_LEVELS.HIGH&&t===s.EDIT_GAS_MODES.SWAPS&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":S}),onClick:()=>{e===s.PRIORITY_LEVELS.CUSTOM?(O({properties:{gas_edit_attempted:"advanced"}}),w("advancedGasFee")):(O({properties:{gas_edit_type:"basic"}}),k(["editGasFee"]),e===s.PRIORITY_LEVELS.TEN_PERCENT_INCREASED?E():e===s.PRIORITY_LEVELS.DAPP_SUGGESTED?v():b(e))},"aria-label":e,autoFocus:e===n,disabled:S,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},I&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},i.PRIORITY_LEVEL_ICON_MAP[I]),P(R)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==s.EDIT_GAS_MODES.SWAPS&&(A?(0,u.toHumanReadableTime)(P,A):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},C?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(h.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(_.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:C})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(g.default,{t:P,priorityLevel:e,maxFeePerGas:M,maxPriorityFeePerGas:x,editGasMode:t,gasLimit:r,transaction:T,estimateGreaterThanGasUse:S}),position:"top"})))};v.propTypes={priorityLevel:r.default.string};var b=v;n.default=b}}},{package:"$root$"}],[7456,{"./edit-gas-item":7455},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7457,{"../../../../../shared/constants/gas":7318,"../../../../ducks/metamask/metamask":7859,"../../../../store/actions":8273,"bignumber.js":2283,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),u=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const a=(0,o.useSelector)(l.getGasEstimateType),c=(0,o.useSelector)(l.getIsGasEstimatesLoading),[d,f]=(0,r.useState)(null),p=c||a!==i.GAS_ESTIMATE_TYPES.FEE_MARKET||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!c&&a===i.GAS_ESTIMATE_TYPES.FEE_MARKET&&n&&m&&(0,u.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(t,10).toString(10)).then((e=>{f(e)}))}),[a,m,c,t,n,p]),p)return{};const{low:h={},medium:_={},high:g={}}=e;let y="";return y=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(_.suggestedMaxPriorityFeePerGas)?g.minWaitTimeEstimate:h.maxWaitTimeEstimate,{waitTimeEstimate:y}}}}},{package:"$root$"}],[7458,{"../../../../../shared/constants/gas":7318,"../../../../../shared/modules/gas.utils":7335,"../../../../contexts/gasFee":7843,"../../../../helpers/utils/conversions.util":7888,"../../../../helpers/utils/gas":7892,"../../../../selectors":8267,"./useCustomTimeEstimate":7457,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../shared/constants/gas"),s=e("../../../../../shared/modules/gas.utils"),i=e("../../../../helpers/utils/conversions.util"),l=e("../../../../helpers/utils/gas"),u=e("../../../../selectors"),c=e("../../../../contexts/gasFee"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:f,gasLimit:p,maxFeePerGas:m,maxPriorityFeePerGas:h,transaction:_}=(0,c.useGasFeeContext)(),[g,y]=(0,a.useState)(!1),E=(0,r.useSelector)(u.getAdvancedGasFeeValues);let v,b,T;const{dappSuggestedGasFees:O}=_;if(null!=f&&f[e])v=f[e].suggestedMaxFeePerGas,b=f[e].suggestedMaxPriorityFeePerGas;else if(e===o.PRIORITY_LEVELS.DAPP_SUGGESTED&&O)v=(0,i.hexWEIToDecGWEI)(O.maxFeePerGas||O.gasPrice),b=(0,i.hexWEIToDecGWEI)(O.maxPriorityFeePerGas||v);else if(e===o.PRIORITY_LEVELS.CUSTOM)n===o.PRIORITY_LEVELS.CUSTOM?(v=m,b=h):E&&t!==o.EDIT_GAS_MODES.SWAPS&&(v=E.maxBaseFee,b=E.priorityFee);else if(e===o.PRIORITY_LEVELS.TEN_PERCENT_INCREASED&&_.previousGas){var P,k;v=(0,i.hexWEIToDecGWEI)((0,l.addTenPercentAndRound)(null===(P=_.previousGas)||void 0===P?void 0:P.maxFeePerGas)),b=(0,i.hexWEIToDecGWEI)((0,l.addTenPercentAndRound)(null===(k=_.previousGas)||void 0===k?void 0:k.maxPriorityFeePerGas))}const{waitTimeEstimate:w}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:f,maxFeePerGas:v,maxPriorityFeePerGas:b});T=f[e]?e===o.PRIORITY_LEVELS.HIGH?null==f?void 0:f.high.minWaitTimeEstimate:null==f?void 0:f.low.maxWaitTimeEstimate:w;const N=v?(0,s.getMaximumGasTotalInHexWei)({gasLimit:(0,i.decimalToHex)(p),maxFeePerGas:(0,i.decGWEIToHexWEI)(v)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EDIT_GAS_MODES.CANCEL&&t!==o.EDIT_GAS_MODES.SPEED_UP||e!==o.PRIORITY_LEVELS.MEDIUM&&e!==o.PRIORITY_LEVELS.HIGH)){const t=!(0,l.gasEstimateGreaterThanGasUsedPlusTenPercent)(_.previousGas||_.txParams,f,e);y(t)}}),[t,f,e,_]),{estimateGreaterThanGasUse:g,maxFeePerGas:v,maxPriorityFeePerGas:b,minWaitTime:T,hexMaximumTransactionFee:N}}}}},{package:"$root$"}],[7459,{"../../../../../shared/constants/gas":7318,"../../../../helpers/constants/design-system":7868,"../../../../helpers/utils/gas":7892,"../../../../helpers/utils/util":7907,"../../../ui/typography":7836,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=c(e("prop-types")),o=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/gas"),l=e("../../../../helpers/utils/util"),u=c(e("../../../ui/typography"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:r,maxFeePerGas:c,maxPriorityFeePerGas:d,transaction:f,t:p})=>{const m=(0,a.useMemo)((()=>{switch(r){case o.PRIORITY_LEVELS.LOW:return p("lowGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,p("low")))]);case o.PRIORITY_LEVELS.MEDIUM:return t?p("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},p(r))]):p("mediumGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,p("medium")))]);case o.PRIORITY_LEVELS.HIGH:return t?p("disabledGasOptionToolTipMessage",[a.default.createElement("span",{key:`disabled-priority-level-${r}`},p(r))]):e===o.EDIT_GAS_MODES.SWAPS?p("swapSuggestedGasSettingToolTipMessage"):p("highGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,p("high")))]);case o.PRIORITY_LEVELS.CUSTOM:return p("customGasSettingToolTipMessage",[a.default.createElement("span",{key:r},a.default.createElement("b",null,p("custom")))]);case o.PRIORITY_LEVELS.DAPP_SUGGESTED:return null!=f&&f.origin?p("dappSuggestedGasSettingToolTipMessage",[a.default.createElement("span",{key:null==f?void 0:f.origin},null==f?void 0:f.origin)]):null;default:return""}}),[e,t,r,f,p]);let h;r===o.PRIORITY_LEVELS.LOW?h=p("curveLowGasEstimate"):r===o.PRIORITY_LEVELS.MEDIUM?h=p("curveMediumGasEstimate"):r===o.PRIORITY_LEVELS.HIGH&&(h=p("curveHighGasEstimate"));const _=(0,i.isMetamaskSuggestedGasEstimate)(r)&&!(r===o.PRIORITY_LEVELS.HIGH&&e===o.EDIT_GAS_MODES.SWAPS)&&!t;return a.default.createElement("div",{className:"edit-gas-tooltip__container"},_?a.default.createElement("img",{alt:h,src:`./images/curve-${r}.svg`}):null,m&&a.default.createElement("div",{className:"edit-gas-tooltip__container__message"},a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7},m)),r===o.PRIORITY_LEVELS.CUSTOM||t?null:a.default.createElement("div",{className:"edit-gas-tooltip__container__values"},a.default.createElement("div",null,a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,fontWeight:s.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},p("maxBaseFee")),c&&a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,color:s.COLORS.TEXT_ALTERNATIVE,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(c,4))),a.default.createElement("div",null,a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,fontWeight:s.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},p("priorityFeeProperCase")),d&&a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,color:s.COLORS.TEXT_ALTERNATIVE,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),a.default.createElement("div",null,a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,fontWeight:s.FONT_WEIGHT.BOLD,className:"edit-gas-tooltip__container__label"},p("gasLimit")),n&&a.default.createElement(u.default,{variant:s.TYPOGRAPHY.H7,color:s.COLORS.TEXT_ALTERNATIVE,className:"edit-gas-tooltip__container__value"},(0,l.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};f.propTypes={estimateGreaterThanGasUse:r.default.bool,priorityLevel:r.default.string,maxFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),maxPriorityFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),t:r.default.func,editGasMode:r.default.string,gasLimit:r.default.number,transaction:r.default.object};var p=f;n.default=p}}},{package:"$root$"}],[7460,{"./edit-gas-fee-popover":7454},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7461,{"./network-statistics":7462},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7462,{"../../../../contexts/gasFee":7843,"../../../../contexts/i18n":7844,"../../../../helpers/constants/design-system":7868,"../../../../helpers/utils/gas":7892,"../../../../helpers/utils/util":7907,"../../../ui/typography/typography":7837,"./status-slider":7463,"./tooltips":7465,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("../../../../helpers/constants/design-system"),o=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),i=e("../../../../contexts/i18n"),l=e("../../../../contexts/gasFee"),u=f(e("../../../ui/typography/typography")),c=e("./tooltips"),d=f(e("./status-slider"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=()=>{const e=(0,a.useContext)(i.I18nContext),{gasFeeEstimates:t}=(0,l.useGasFeeContext)(),n=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),f=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),p=null==t?void 0:t.networkCongestion;return a.default.createElement("div",{className:"network-statistics"},a.default.createElement(u.default,{color:r.COLORS.TEXT_ALTERNATIVE,fontWeight:r.FONT_WEIGHT.BOLD,marginTop:3,marginBottom:3,variant:r.TYPOGRAPHY.H8},e("networkStatus")),a.default.createElement("div",{className:"network-statistics__info"},(0,o.isNullish)(n)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},a.default.createElement(c.BaseFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},n),a.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,o.isNullish)(f)?null:a.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},a.default.createElement(c.PriorityFeeTooltip,null,a.default.createElement("span",{className:"network-statistics__field-data"},f),a.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,o.isNullish)(p)?null:a.default.createElement("div",{className:"network-statistics__field"},a.default.createElement(d.default,null))))};n.default=m}}},{package:"$root$"}],[7463,{"./status-slider":7464},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7464,{"../../../../../../shared/constants/gas":7318,"../../../../../contexts/gasFee":7843,"../../../../../hooks/useI18nContext":7927,"../tooltips":7465,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../shared/constants/gas"),s=e("../../../../../contexts/gasFee"),i=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const u=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];var c=()=>{const e=(0,i.useI18nContext)(),{gasFeeEstimates:t}=(0,s.useGasFeeContext)(),n=(e=>{const t=null!=e?e:.5,n=Math.round(10*t),a=u[n],r=10*n;return t>=o.NETWORK_CONGESTION_THRESHOLDS.BUSY?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NETWORK_CONGESTION_THRESHOLDS.STABLE?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))};n.default=c}}},{package:"$root$"}],[7465,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useI18nContext":7927,"../../../ui/box":7682,"../../../ui/tooltip":7832,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=u(e("../../../ui/box")),i=u(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}const c=({children:e,html:t,title:n})=>a.default.createElement(i.default,{position:"top",html:t,title:n},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));c.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(c,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const f=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(c,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=f,f.propTypes={children:r.default.node.isRequired};const p=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(c,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=p,p.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$"}],[7466,{"../../../../shared/constants/gas":7318,"../../../../shared/modules/transaction.utils":7345,"../../../contexts/i18n":7844,"../../../ducks/app/app":7851,"../../../helpers/utils/conversions.util":7888,"../../../helpers/utils/transactions.util":7905,"../../../hooks/gasFeeInput/useGasFeeInputs":7911,"../../../hooks/useIncrementedGasFees":7928,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/button":7686,"../../ui/loading-heartbeat":7763,"../../ui/popover":7798,"../edit-gas-display":7451,"../edit-gas-display-education":7449,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=b(e("prop-types")),o=e("react-redux"),s=e("../../../hooks/gasFeeInput/useGasFeeInputs"),i=e("../../../ducks/app/app"),l=e("../../../../shared/modules/transaction.utils"),u=e("../../../../shared/constants/gas"),c=e("../../../helpers/utils/conversions.util"),d=b(e("../../ui/popover")),f=b(e("../../ui/button")),p=b(e("../edit-gas-display")),m=b(e("../edit-gas-display-education")),h=e("../../../contexts/i18n"),_=e("../../../store/actions"),g=b(e("../../ui/loading-heartbeat")),y=e("../../../selectors"),E=e("../../../hooks/useIncrementedGasFees"),v=e("../../../helpers/utils/transactions.util");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function P({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},defaultEstimateToUse:r=u.GAS_RECOMMENDATIONS.MEDIUM,transaction:b,mode:T,onClose:P,minimumGasLimit:k=u.GAS_LIMITS.SIMPLE}){const w=(0,a.useContext)(h.I18nContext),N=(0,o.useDispatch)(),S=(0,o.useSelector)(y.checkNetworkAndAccountSupports1559)&&!(0,v.isLegacyTransaction)(null==b?void 0:b.txParams),C=(0,o.useSelector)(i.getGasLoadingAnimationIsShowing),M=(T===u.EDIT_GAS_MODES.MODIFY_IN_PLACE||T===u.EDIT_GAS_MODES.SWAPS)&&S,[x,A]=(0,a.useState)(!1),[R,I]=(0,a.useState)(!1),j=(0,c.hexToDecimal)(k),D=(0,E.useIncrementedGasFees)(b);let G=b;T!==u.EDIT_GAS_MODES.SPEED_UP&&T!==u.EDIT_GAS_MODES.CANCEL||(G={...b,userFeeLevel:u.CUSTOM_GAS_ESTIMATE,txParams:{...b.txParams,...D}});const{maxPriorityFeePerGas:L,setMaxPriorityFeePerGas:$,maxPriorityFeePerGasFiat:W,maxFeePerGas:F,setMaxFeePerGas:U,maxFeePerGasFiat:q,estimatedMaximumNative:H,estimatedMinimumNative:B,isGasEstimatesLoading:Y,gasEstimateType:V,gasPrice:K,setGasPrice:z,gasLimit:Q,setGasLimit:X,properGasLimit:Z,estimateToUse:J,setEstimateToUse:ee,estimatedMinimumFiat:te,estimatedMaximumFiat:ne,hasGasErrors:ae,gasErrors:re,gasWarnings:oe,onManualChange:se,balanceError:ie,estimatesUnavailableWarning:le,estimatedBaseFee:ue,isNetworkBusy:ce}=(0,s.useGasFeeInputs)(r,G,k,T),de=J===u.CUSTOM_GAS_ESTIMATE||(0,l.txParamsAreDappSuggested)(G),fe=(0,a.useCallback)((()=>{P?P():N((0,_.hideModal)())}),[P,N]),pe=(0,a.useCallback)((async()=>{G&&T||fe();const e={gas:(0,c.decimalToHex)(Q),gasLimit:(0,c.decimalToHex)(Q),estimateSuggested:r,estimateUsed:J};var t;S?(e.maxFeePerGas=(0,c.decGWEIToHexWEI)(null!=F?F:K),e.maxPriorityFeePerGas=(0,c.decGWEIToHexWEI)(null!==(t=null!=L?L:F)&&void 0!==t?t:K)):e.gasPrice=(0,c.decGWEIToHexWEI)(K);const n={...G.txParams};S&&delete n.gasPrice;const a={...G,userEditedGasLimit:Q!==Number(b.originalGasEstimate),userFeeLevel:J||u.CUSTOM_GAS_ESTIMATE,txParams:{...n,...e}};switch(T){case u.EDIT_GAS_MODES.CANCEL:N((0,_.createCancelTransaction)(G.id,e,{estimatedBaseFee:ue}));break;case u.EDIT_GAS_MODES.SPEED_UP:N((0,_.createSpeedUpTransaction)(G.id,e,{estimatedBaseFee:ue}));break;case u.EDIT_GAS_MODES.MODIFY_IN_PLACE:e.userEditedGasLimit=a.userEditedGasLimit,e.userFeeLevel=a.userFeeLevel,N((0,_.showLoadingIndication)()),await N((0,_.updateTransactionGasFees)(a.id,e)),N((0,_.hideLoadingIndication)());break;case u.EDIT_GAS_MODES.SWAPS:S&&(N((0,_.updateSwapsUserFeeLevel)(J||u.CUSTOM_GAS_ESTIMATE)),N((0,_.updateCustomSwapsEIP1559GasParams)(e)))}fe()}),[G,T,N,fe,Q,K,b.originalGasEstimate,F,L,S,J,ue,r]);let me=w("editGasTitle");e?me=e:x?me=w("editGasEducationModalTitle"):T===u.EDIT_GAS_MODES.SPEED_UP?me=w("speedUpPopoverTitle"):T===u.EDIT_GAS_MODES.CANCEL&&(me=w("cancelPopoverTitle"));const he=t||w("save");return a.default.createElement(d.default,{title:me,onClose:fe,className:"edit-gas-popover__wrapper",onBack:x?()=>A(!1):undefined,footer:x?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{type:"primary",onClick:pe,disabled:ae||ie||(Y||C)&&!de},he))},a.default.createElement("div",{style:{padding:"0 20px 20px 20px",position:"relative"}},x?a.default.createElement(m.default,null):a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,null),a.default.createElement(p.default,O({showEducationButton:M,dappSuggestedGasFeeAcknowledged:R,setDappSuggestedGasFeeAcknowledged:I,maxPriorityFeePerGas:L,setMaxPriorityFeePerGas:$,maxPriorityFeePerGasFiat:W,maxFeePerGas:F,setMaxFeePerGas:U,maxFeePerGasFiat:q,estimatedMaximumNative:H,estimatedMinimumNative:B,isGasEstimatesLoading:Y,gasEstimateType:V,gasPrice:K,setGasPrice:z,gasLimit:Q,setGasLimit:X,properGasLimit:Z,estimateToUse:J,setEstimateToUse:ee,estimatedMinimumFiat:te,estimatedMaximumFiat:ne,onEducationClick:()=>A(!0),mode:T,transaction:G,gasErrors:re,gasWarnings:oe,onManualChange:se,minimumGasLimit:j,balanceError:ie,estimatesUnavailableWarning:le,hasGasErrors:ae,txParamsHaveBeenCustomized:de,isNetworkBusy:ce},n)))))}P.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(u.EDIT_GAS_MODES)),defaultEstimateToUse:r.default.string,minimumGasLimit:r.default.string}}}},{package:"$root$"}],[7467,{"./edit-gas-popover.component":7466},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7468,{"../../../../../shared/modules/conversion.utils":7332,"../../../ui/tooltip":7832,classnames:2484,lodash:5584,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=u(e("classnames")),s=e("lodash"),i=u(e("../../../ui/tooltip")),l=e("../../../../../shared/modules/conversion.utils");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(e){super(e),d(this,"onChangeGasLimit",(e=>{this.setState({gasLimit:e.target.value}),this.changeGasLimit({target:{value:e.target.value}})})),d(this,"changeGasLimit",(e=>{this.props.updateCustomGasLimit(Number(e.target.value))})),d(this,"onChangeGasPrice",(e=>{var t;e.target.value=(t=e.target.value,(0,l.conversionUtil)(t,{fromNumericBase:"dec",toNumericBase:"dec",fromDenomination:"SATOSHI",toDenomination:"GWEI"})),this.setState({gasPrice:e.target.value}),this.changeGasPrice({target:{value:e.target.value}})})),d(this,"changeGasPrice",(e=>{this.props.updateCustomGasPrice(Number(e.target.value))})),this.state={gasPrice:this.props.customGasPrice,gasLimit:this.props.customGasLimit},this.changeGasPrice=(0,s.debounce)(this.changeGasPrice,500),this.changeGasLimit=(0,s.debounce)(this.changeGasLimit,500)}componentDidUpdate(e){const{customGasPrice:t,customGasLimit:n}=e,{customGasPrice:a,customGasLimit:r}=this.props,{gasPrice:o,gasLimit:s}=this.state;a!==t&&a!==o&&this.setState({gasPrice:a}),r!==n&&r!==s&&this.setState({gasLimit:r})}gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:a,customPriceIsExcessive:r}){const{t:o}=this.context;return e?{errorText:o("insufficientBalance"),errorType:"error"}:n&&0===a?{errorText:o("zeroGasPriceOnSpeedUpError"),errorType:"error"}:t?r?{errorText:o("gasPriceExcessiveInput"),errorType:"error"}:{}:{errorText:o("gasPriceExtremelyLow"),errorType:"warning"}}gasLimitError({insufficientBalance:e,gasLimit:t,minimumGasLimit:n}){const{t:a}=this.context;return e?{errorText:a("insufficientBalance"),errorType:"error"}:t<n?{errorText:a("gasLimitTooLowWithDynamicFee",[n]),errorType:"error"}:{}}renderGasInput({value:e,onChange:t,errorComponent:n,errorType:r,label:s,testId:l,customMessageComponent:u,tooltipTitle:c,disabled:d}){return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row"},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__label"},s,a.default.createElement(i.default,{title:c,position:"top",arrow:!0},a.default.createElement("i",{className:"fa fa-info-circle"}))),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-wrapper"},a.default.createElement("input",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r}),type:"number",min:"0",value:e,onChange:t,disabled:d,"data-testid":l}),a.default.createElement("div",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input-arrows",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r,"advanced-gas-inputs__gas-edit-row__input-arrows--hidden":d})},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!d&&t({target:{value:e+1}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-up"})),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!d&&t({target:{value:Math.max(e-1,0)}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-down"}))),n||u))}render(){const{insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,customGasLimitMessage:r,minimumGasLimit:o,customPriceIsExcessive:s,networkSupportsSettingGasFees:i}=this.props;let{gasPrice:u,gasLimit:c}=this.state;var d;if(d=u,u=(0,l.conversionUtil)(d,{fromNumericBase:"dec",toNumericBase:"dec",fromDenomination:"GWEI",toDenomination:"SATOSHI"}),!i)return null;const{errorText:f,errorType:p}=this.gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:u,customPriceIsExcessive:s}),m=p?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${p}-text`},f):null,{errorText:h,errorType:_}=this.gasLimitError({insufficientBalance:e,gasLimit:c,minimumGasLimit:o}),g=_?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${_}-text`},h):null,y=r?a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__custom-text"},r):null;return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-rows"},this.renderGasInput({label:this.context.t("gasPrice"),testId:"gas-price",tooltipTitle:this.context.t("gasPriceInfoTooltipContent"),value:u,onChange:this.onChangeGasPrice,errorComponent:m,errorType:p,disabled:!i}),this.renderGasInput({label:this.context.t("gasLimit"),testId:"gas-limit",tooltipTitle:this.context.t("gasLimitInfoTooltipContent"),value:c,onChange:this.onChangeGasLimit,errorComponent:g,customMessageComponent:y,errorType:_,disabled:!i}))}}n.default=f,d(f,"contextTypes",{t:r.default.func}),d(f,"propTypes",{updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,customGasPrice:r.default.number.isRequired,customGasLimit:r.default.number.isRequired,insufficientBalance:r.default.bool,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,customGasLimitMessage:r.default.string,minimumGasLimit:r.default.number,customPriceIsExcessive:r.default.bool,networkSupportsSettingGasFees:r.default.bool}),d(f,"defaultProps",{customPriceIsExcessive:!1,networkSupportsSettingGasFees:!0})}}},{package:"$root$"}],[7469,{"../../../../helpers/utils/conversions.util":7888,"../../../../pages/send/send.constants":8143,"../../../../selectors/selectors":8270,"./advanced-gas-inputs.component":7468,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../helpers/utils/conversions.util"),s=e("../../../../selectors/selectors"),i=e("../../../../pages/send/send.constants"),l=(a=e("./advanced-gas-inputs.component"))&&a.__esModule?a:{default:a};function u(e=i.MIN_GAS_LIMIT_DEC){return parseInt(e,10)}var c=(0,r.connect)((function(e){return{networkSupportsSettingGasFees:(0,s.getNetworkSupportsSettingGasFees)(e)}}),null,(function(e,t,n){const{customGasPrice:a,customGasLimit:r,updateCustomGasPrice:s,updateCustomGasLimit:i,minimumGasLimit:l}=n;return{...n,...e,...t,customGasPrice:(d=a,Number((0,o.hexWEIToDecGWEI)(d))),customGasLimit:(c=r,parseInt(c,16)||0),minimumGasLimit:u(l),updateCustomGasPrice:e=>s((0,o.decGWEIToHexWEI)(e)),updateCustomGasLimit:e=>i((0,o.decimalToHex)(e))};var c,d}))(l.default);n.default=c}}},{package:"$root$"}],[7470,{"./advanced-gas-inputs.container":7469},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-inputs.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7471,{"../../advanced-gas-inputs":7470,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../advanced-gas-inputs"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{renderDataSummary(e){return a.default.createElement("div",{className:"advanced-tab__transaction-data-summary"},a.default.createElement("div",{className:"advanced-tab__transaction-data-summary__titles"},a.default.createElement("span",null,this.context.t("newTransactionFee"))),a.default.createElement("div",{className:"advanced-tab__transaction-data-summary__container"},a.default.createElement("div",{className:"advanced-tab__transaction-data-summary__fee"},e)))}render(){const{updateCustomGasPrice:e,updateCustomGasLimit:t,customModalGasPriceInHex:n,customModalGasLimitInHex:r,insufficientBalance:s,customPriceIsSafe:i,isSpeedUp:l,transactionFee:u,customGasLimitMessage:c,minimumGasLimit:d,customPriceIsExcessive:f}=this.props;return a.default.createElement("div",{className:"advanced-tab"},this.renderDataSummary(u),a.default.createElement("div",{className:"advanced-tab__fee-chart"},a.default.createElement("div",{className:"advanced-tab__gas-inputs"},a.default.createElement(o.default,{updateCustomGasPrice:e,updateCustomGasLimit:t,customGasPrice:n,customGasLimit:r,insufficientBalance:s,customPriceIsSafe:i,isSpeedUp:l,customGasLimitMessage:c,minimumGasLimit:d,customPriceIsExcessive:f}))))}}n.default=u,l(u,"contextTypes",{t:r.default.func}),l(u,"propTypes",{updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,customModalGasPriceInHex:r.default.string,customModalGasLimitInHex:r.default.string,transactionFee:r.default.string,insufficientBalance:r.default.bool,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,customGasLimitMessage:r.default.string,minimumGasLimit:r.default.number,customPriceIsExcessive:r.default.bool.isRequired})}}},{package:"$root$"}],[7472,{"./advanced-tab-content.component":7471},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-tab-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7473,{"../../../../ui/loading-screen":7766,"../../gas-price-button-group":7479,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("../../../../ui/loading-screen")),s=i(e("../../gas-price-button-group"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{render(){const{t:e}=this.context,{gasPriceButtonGroupProps:t}=this.props;return a.default.createElement("div",{className:"basic-tab-content"},a.default.createElement("div",{className:"basic-tab-content__title"},e("estimatedProcessingTimes")),a.default.createElement("div",{className:"basic-tab-content__blurb"},e("selectAHigherGasFee")),t.loading?a.default.createElement(o.default,null):a.default.createElement(s.default,u({className:"gas-price-button-group--alt",showCheck:!0},t)),a.default.createElement("div",{className:"basic-tab-content__footer-blurb"},e("acceleratingATransaction")))}}n.default=d,c(d,"contextTypes",{t:r.default.func}),c(d,"propTypes",{gasPriceButtonGroupProps:r.default.object})}}},{package:"$root$"}],[7474,{"./basic-tab-content.component":7473},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./basic-tab-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7475,{"../../../../../shared/constants/metametrics":7321,"../../../../store/actions":8273,"../../../ui/page-container":7791,"../../../ui/tabs":7818,"./advanced-tab-content":7472,"./basic-tab-content":7474,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("../../../ui/page-container")),s=e("../../../ui/tabs"),i=e("../../../../store/actions"),l=e("../../../../../shared/constants/metametrics"),u=d(e("./advanced-tab-content")),c=d(e("./basic-tab-content"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(e){super(e),p(this,"_beforeUnload",(()=>{this._isMounted=!1,this.state.pollingToken&&((0,i.disconnectGasFeeEstimatePoller)(this.state.pollingToken),(0,i.removePollingTokenFromAppState)(this.state.pollingToken))})),this.state={pollingToken:undefined}}componentDidMount(){this._isMounted=!0,(0,i.getGasFeeEstimatesAndStartPolling)().then((e=>{this._isMounted?((0,i.addPollingTokenToAppState)(e),this.setState({pollingToken:e})):((0,i.disconnectGasFeeEstimatePoller)(e),(0,i.removePollingTokenFromAppState)(e))})),window.addEventListener("beforeunload",this._beforeUnload)}componentWillUnmount(){this._beforeUnload(),window.removeEventListener("beforeunload",this._beforeUnload)}renderBasicTabContent(e){return a.default.createElement(c.default,{gasPriceButtonGroupProps:e})}renderAdvancedTabContent(){const{updateCustomGasPrice:e,updateCustomGasLimit:t,customModalGasPriceInHex:n,customModalGasLimitInHex:r,insufficientBalance:o,customPriceIsSafe:s,isSpeedUp:i,isRetry:l,customPriceIsExcessive:c,infoRowProps:{transactionFee:d}}=this.props;return a.default.createElement(u.default,{updateCustomGasPrice:e,updateCustomGasLimit:t,customModalGasPriceInHex:n,customModalGasLimitInHex:r,transactionFee:d,insufficientBalance:o,customPriceIsSafe:s,isSpeedUp:i,isRetry:l,customPriceIsExcessive:c})}renderInfoRows(e,t,n,r){return a.default.createElement("div",{className:"gas-modal-content__info-row-wrapper"},a.default.createElement("div",{className:"gas-modal-content__info-row"},a.default.createElement("div",{className:"gas-modal-content__info-row__send-info"},a.default.createElement("span",{className:"gas-modal-content__info-row__send-info__label"},this.context.t("sendAmount")),a.default.createElement("span",{className:"gas-modal-content__info-row__send-info__value"},n)),a.default.createElement("div",{className:"gas-modal-content__info-row__transaction-info"},a.default.createElement("span",{className:"gas-modal-content__info-row__transaction-info__label"},this.context.t("transactionFee")),a.default.createElement("span",{className:"gas-modal-content__info-row__transaction-info__value"},r)),a.default.createElement("div",{className:"gas-modal-content__info-row__total-info"},a.default.createElement("span",{className:"gas-modal-content__info-row__total-info__label"},this.context.t("newTotal")),a.default.createElement("span",{className:"gas-modal-content__info-row__total-info__value"},t)),a.default.createElement("div",{className:"gas-modal-content__info-row__fiat-total-info"},a.default.createElement("span",{className:"gas-modal-content__info-row__fiat-total-info__value"},e))))}renderTabs(){const{gasPriceButtonGroupProps:e,hideBasic:t,infoRowProps:{newTotalFiat:n,newTotalEth:r,sendAmount:o,transactionFee:i}}=this.props;let l;return l=t?[{name:this.context.t("advanced"),content:this.renderAdvancedTabContent()}]:[{name:this.context.t("basic"),content:this.renderBasicTabContent(e)},{name:this.context.t("advanced"),content:this.renderAdvancedTabContent()}],a.default.createElement(s.Tabs,null,l.map((({name:e,content:t},l)=>a.default.createElement(s.Tab,{name:e,key:`gas-modal-tab-${l}`},a.default.createElement("div",{className:"gas-modal-content"},t,this.renderInfoRows(n,r,o,i))))))}render(){const{cancelAndClose:e,onSubmit:t,customModalGasPriceInHex:n,customModalGasLimitInHex:r,disableSave:s,isSpeedUp:i}=this.props;return a.default.createElement("div",{className:"gas-modal-page-container"},a.default.createElement(o.default,{title:this.context.t("customGas"),subtitle:this.context.t("customGasSubTitle"),tabsComponent:this.renderTabs(),disabled:s,onCancel:()=>e(),onClose:()=>e(),onSubmit:()=>{i&&this.context.trackEvent({category:l.EVENT.CATEGORIES.NAVIGATION,event:'Saved "Speed Up"',properties:{action:"Activity Log",legacy_event:!0}}),t(r,n)},submitText:this.context.t("save"),headerCloseText:this.context.t("close"),hideCancel:!0}))}}n.default=m,p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),p(m,"propTypes",{hideBasic:r.default.bool,updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,insufficientBalance:r.default.bool,gasPriceButtonGroupProps:r.default.object,infoRowProps:r.default.shape({originalTotalFiat:r.default.string,originalTotalEth:r.default.string,newTotalFiat:r.default.string,newTotalEth:r.default.string,sendAmount:r.default.string,transactionFee:r.default.string}),onSubmit:r.default.func,customModalGasPriceInHex:r.default.string,customModalGasLimitInHex:r.default.string,cancelAndClose:r.default.func,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,isRetry:r.default.bool,disableSave:r.default.bool,customPriceIsExcessive:r.default.bool.isRequired})}}},{package:"$root$"}],[7476,{"../../../../../app/scripts/lib/util":88,"../../../../../shared/constants/gas":7318,"../../../../../shared/constants/transaction":7329,"../../../../ducks/gas/gas.duck":7855,"../../../../ducks/metamask/metamask":7859,"../../../../ducks/send":7861,"../../../../helpers/utils/conversions.util":7888,"../../../../helpers/utils/formatters":7891,"../../../../pages/send/send.constants":8143,"../../../../pages/send/send.utils":8145,"../../../../selectors":8267,"../../../../store/actions":8273,"./gas-modal-page-container.component":7475,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../../app/scripts/lib/util"),s=e("../../../../store/actions"),i=e("../../../../ducks/gas/gas.duck"),l=e("../../../../ducks/send"),u=e("../../../../selectors"),c=e("../../../../helpers/utils/conversions.util"),d=e("../../../../helpers/utils/formatters"),f=e("../../../../pages/send/send.utils"),p=e("../../../../pages/send/send.constants"),m=e("../../../../../shared/constants/transaction"),h=e("../../../../../shared/constants/gas"),_=e("../../../../ducks/metamask/metamask"),g=(a=e("./gas-modal-page-container.component"))&&a.__esModule?a:{default:a};var y=(0,r.connect)(((e,t)=>{var n,a;const r=(0,l.getGasLimit)(e),o=(0,l.getGasPrice)(e),s=(0,l.getSendAmount)(e),{currentNetworkTxList:i}=e.metamask,{modalState:{props:p}={}}=e.appState.modal||{},{txData:_={}}=p||{},{transaction:g={},onSubmit:y}=t,b=i.find((({id:e})=>e===(g.id||_.id))),T=(0,u.getBasicGasEstimateLoadingStatus)(e),O=(0,l.getSendAsset)(e),P=null!=b&&b.txParams?b.txParams:{gas:r||h.GAS_LIMITS.SIMPLE,gasPrice:o||(0,u.getAveragePriceEstimateInHexWEI)(e,!0),value:O.type===m.ASSET_TYPES.TOKEN?"0x0":s},{gasPrice:k,gas:w}=P,N=(null===(n=t.transaction)||void 0===n||null===(a=n.txParams)||void 0===a?void 0:a.value)||P.value,S=(0,u.getCustomGasPrice)(e)||k,C=(0,u.getCustomGasLimit)(e)||w||h.GAS_LIMITS.SIMPLE,M=(0,f.calcGasTotal)(C,S),x=(0,u.getRenderableBasicEstimateData)(e,C),A=(0,u.getCurrentCurrency)(e),R=(0,u.conversionRateSelector)(e),I=(0,c.sumHexWEIsToRenderableFiat)([N,M],A,R),{hideBasic:j}=e.appState.modal.modalState.props,D=(G=S,Number((0,c.hexWEIToDecGWEI)(G)));var G;const L=(0,l.getSendMaxModeState)(e),$=(0,u.getCurrentEthBalance)(e),W=(0,u.getIsMainnet)(e),F=(0,u.getIsTestnet)(e),U=(0,u.getShouldShowFiat)(e),q=L&&O.type===m.ASSET_TYPES.NATIVE?v([$,"0x0"]):v([N,M]),H=L&&O.type===m.ASSET_TYPES.NATIVE?(B=$,Y=M,(0,d.formatETHFee)((0,c.subtractHexWEIsToDec)(B,Y))):v([N,"0x0"]);var B,Y;const V=!L&&!(0,f.isBalanceSufficient)({amount:N,gasTotal:M,balance:$,conversionRate:R}),K=(0,u.getIsGasEstimatesFetched)(e),z=(0,u.getIsCustomNetworkGasPriceFetched)(e);let Q=!0;return W&&K?Q=(0,u.isCustomPriceSafe)(e):W||F||!z||(Q=(0,u.isCustomPriceSafeForCustomNetwork)(e)),{hideBasic:j,isConfirm:E(e),customModalGasPriceInHex:S,customModalGasLimitInHex:C,customGasPrice:D,customGasLimit:(X=C,parseInt(X,16)),customGasTotal:M,newTotalFiat:I,customPriceIsSafe:Q,customPriceIsExcessive:(0,u.isCustomPriceExcessive)(e),maxModeOn:L,gasPriceButtonGroupProps:{buttonDataLoading:T,defaultActiveButtonIndex:(0,u.getDefaultActiveButtonIndex)(x,S),gasButtonInfo:x},infoRowProps:{originalTotalFiat:(0,c.sumHexWEIsToRenderableFiat)([N,M],A,R),originalTotalEth:v([N,M]),newTotalFiat:U?I:"",newTotalEth:q,transactionFee:v(["0x0",M]),sendAmount:H},transaction:_||g,isSpeedUp:g.status===m.TRANSACTION_STATUSES.SUBMITTED,isRetry:g.status===m.TRANSACTION_STATUSES.FAILED,txId:g.id,insufficientBalance:V,isMainnet:W,balance:$,conversionRate:R,value:N,onSubmit:y};var X}),(e=>({cancelAndClose:()=>{e((0,i.resetCustomData)()),e((0,s.hideModal)())},hideModal:()=>e((0,s.hideModal)()),useCustomGas:()=>e((0,l.useCustomGas)()),updateTransactionGasFees:t=>{e((0,_.updateGasFees)({...t,expectHexWei:!0}))},updateCustomGasPrice:t=>e((0,i.setCustomGasPrice)((0,o.addHexPrefix)(t))),updateCustomGasLimit:t=>e((0,i.setCustomGasLimit)((0,o.addHexPrefix)(t))),setGasData:(t,n)=>{e((0,l.updateGasLimit)(t)),e((0,l.updateGasPrice)(n))},createRetryTransaction:(t,n)=>e((0,s.createRetryTransaction)(t,n)),createSpeedUpTransaction:(t,n)=>e((0,s.createSpeedUpTransaction)(t,n))})),((e,t,n)=>{const{gasPriceButtonGroupProps:a,isConfirm:r,txId:o,isSpeedUp:s,isRetry:i,insufficientBalance:l,customGasPrice:u,customGasLimit:c,transaction:d}=e,{useCustomGas:f,setGasData:m,createSpeedUpTransaction:h,createRetryTransaction:_,updateTransactionGasFees:g,cancelAndClose:y,hideModal:E,...v}=t;return{...e,...v,...n,onSubmit:(e,t)=>{if(n.onSubmit)return y(),void n.onSubmit({gasLimit:e,gasPrice:t});r?(g({gasLimit:e,gasPrice:t,transaction:d,isModal:!0}),E(),y()):s?(h(o,{gasPrice:t,gasLimit:e}),y()):i?(_(o,{gasPrice:t,gasLimit:e}),y()):(m(e,t),f(),y())},gasPriceButtonGroupProps:{...a,handleGasPriceSelection:({gasPrice:e})=>v.updateCustomGasPrice(e)},cancelAndClose:()=>{y()},disableSave:l||s&&0===u||c<Number(p.MIN_GAS_LIMIT_DEC)}}))(g.default);function E(e){return Boolean(Object.keys(e.confirmTransaction.txData).length)}function v(e){const t=e.filter(Boolean).reduce(c.addHexes);return(0,d.formatETHFee)((0,c.getValueFromWeiHex)({value:t,toCurrency:"ETH",numberOfDecimals:6}))}n.default=y}}},{package:"$root$"}],[7477,{"./gas-modal-page-container.container":7476},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-modal-page-container.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7478,{"../../../../helpers/constants/common":7865,"../../../ui/button":7686,"../../../ui/button-group":7684,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../ui/button-group")),s=l(e("../../../ui/button")),i=e("../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={gasEstimateType:r.default.oneOf(Object.values(i.GAS_ESTIMATE_TYPES)).isRequired,feeInPrimaryCurrency:r.default.string,feeInSecondaryCurrency:r.default.string,timeEstimate:r.default.string,priceInHexWei:r.default.string};class f extends a.Component{gasEstimateTypeLabel(e){if(e===i.GAS_ESTIMATE_TYPES.SLOW)return this.context.t("slow");if(e===i.GAS_ESTIMATE_TYPES.AVERAGE)return this.context.t("average");if(e===i.GAS_ESTIMATE_TYPES.FAST)return this.context.t("fast");if(e===i.GAS_ESTIMATE_TYPES.FASTEST)return this.context.t("fastest");throw new Error(`Unrecognized gas estimate type: ${e}`)}renderButtonContent({gasEstimateType:e,feeInPrimaryCurrency:t,feeInSecondaryCurrency:n,timeEstimate:r},{className:o,showCheck:s}){return a.default.createElement("div",null,e&&a.default.createElement("div",{className:`${o}__label`},this.gasEstimateTypeLabel(e)),r&&a.default.createElement("div",{className:`${o}__time-estimate`},r),t&&a.default.createElement("div",{className:`${o}__primary-currency`},t),n&&a.default.createElement("div",{className:`${o}__secondary-currency`},n),s&&a.default.createElement("div",{className:"button-check-wrapper"},a.default.createElement("i",{className:"fa fa-check fa-sm"})))}renderButton({priceInHexWei:e,...t},{buttonDataLoading:n,handleGasPriceSelection:r,...o},i){return a.default.createElement(s.default,{onClick:()=>r({gasPrice:e,gasEstimateType:t.gasEstimateType}),key:`gas-price-button-${i}`},this.renderButtonContent(t,o))}render(){const{gasButtonInfo:e,defaultActiveButtonIndex:t=1,newActiveButtonIndex:n,noButtonActiveByDefault:r=!1,buttonDataLoading:s,...i}=this.props;return s?a.default.createElement("div",{className:`${i.className}__loading-container`},this.context.t("loading")):a.default.createElement(o.default,{className:i.className,defaultActiveButtonIndex:t,newActiveButtonIndex:n,noButtonActiveByDefault:r},e.map(((e,t)=>this.renderButton(e,i,t))))}}n.default=f,c(f,"contextTypes",{t:r.default.func}),c(f,"propTypes",{buttonDataLoading:r.default.bool,className:r.default.string,defaultActiveButtonIndex:r.default.number,gasButtonInfo:r.default.arrayOf(r.default.shape(d)),handleGasPriceSelection:r.default.func,newActiveButtonIndex:r.default.number,noButtonActiveByDefault:r.default.bool,showCheck:r.default.bool})}}},{package:"$root$"}],[7479,{"./gas-price-button-group.component":7478},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-price-button-group.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7480,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useI18nContext":7927,"../../../../selectors":8267,"../../../ui/box":7682,"../../../ui/info-tooltip/info-tooltip":7758,"../../../ui/typography/typography":7837,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=e("react-redux"),o=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../selectors"),l=d(e("../../../ui/box")),u=d(e("../../../ui/info-tooltip/info-tooltip")),c=d(e("../../../ui/typography/typography"));function d(e){return e&&e.__esModule?e:{default:e}}var f=()=>{const e=(0,s.useI18nContext)(),t=(0,r.useSelector)(i.getIsMainnet);return a.default.createElement(l.default,{display:"flex"},a.default.createElement(l.default,{marginRight:1},e("gas")),a.default.createElement("span",{className:"gas-details-item-title__estimate"},"(",e("transactionDetailGasInfoV2"),")"),a.default.createElement(u.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,{variant:o.TYPOGRAPHY.H7},e("transactionDetailGasTooltipIntro",[t?e("networkNameEthereum"):""])),a.default.createElement(c.default,{variant:o.TYPOGRAPHY.H7},e("transactionDetailGasTooltipExplanation")),a.default.createElement(c.default,{variant:o.TYPOGRAPHY.H7},a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},e("transactionDetailGasTooltipConversion")))),position:"bottom"}))};n.default=f}}},{package:"$root$"}],[7481,{"./gas-details-item-title":7480},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7482,{"../../../contexts/gasFee":7843,"../../../helpers/constants/common":7865,"../../../helpers/constants/design-system":7868,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../ui/box":7682,"../../ui/loading-heartbeat":7763,"../gas-timing/gas-timing.component":7484,"../transaction-detail-item/transaction-detail-item.component":7647,"../user-preferenced-currency-display":7661,"./gas-details-item-title":7481,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=y(e("prop-types")),o=y(e("classnames")),s=e("react-redux"),i=e("../../../helpers/constants/design-system"),l=e("../../../helpers/constants/common"),u=e("../../../selectors"),c=e("../../../contexts/gasFee"),d=e("../../../hooks/useI18nContext"),f=y(e("../../ui/box")),p=y(e("../../ui/loading-heartbeat")),m=y(e("../gas-timing/gas-timing.component")),h=y(e("../transaction-detail-item/transaction-detail-item.component")),_=y(e("../user-preferenced-currency-display")),g=y(e("./gas-details-item-title"));function y(e){return e&&e.__esModule?e:{default:e}}const E=({userAcknowledgedGasMissing:e=!1})=>{const t=(0,d.useI18nContext)(),{estimateUsed:n,hasSimulationError:r,maximumCostInHexWei:y,minimumCostInHexWei:E,maxPriorityFeePerGas:v,maxFeePerGas:b}=(0,c.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:T}=(0,s.useSelector)(u.getPreferences);return r&&!e?null:a.default.createElement(h.default,{key:"gas-item",detailTitle:a.default.createElement(g.default,null),detailTitleColor:i.COLORS.TEXT_DEFAULT,detailText:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(p.default,{estimateUsed:n}),a.default.createElement(_.default,{type:l.SECONDARY,value:E,hideLabel:Boolean(T)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(p.default,{estimateUsed:n}),a.default.createElement(_.default,{type:l.PRIMARY,value:E,hideLabel:!T})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":"high"===n})},a.default.createElement(p.default,{estimateUsed:n}),a.default.createElement(f.default,{marginRight:1},a.default.createElement("strong",null,"high"===n&&"⚠ ",t("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(p.default,{estimateUsed:n}),a.default.createElement(_.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:y,hideLabel:!T})))),subTitle:a.default.createElement(m.default,{maxPriorityFeePerGas:v.toString(),maxFeePerGas:b.toString()})})};E.propTypes={userAcknowledgedGasMissing:r.default.bool};var v=E;n.default=v}}},{package:"$root$"}],[7483,{"./gas-details-item":7482},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7484,{"../../../../shared/constants/gas":7318,"../../../contexts/gasFee":7843,"../../../contexts/i18n":7844,"../../../ducks/metamask/metamask":7859,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/gas":7870,"../../../hooks/usePrevious":7930,"../../../store/actions":8273,"../../ui/info-tooltip/info-tooltip":7758,"../../ui/typography/typography":7837,"bignumber.js":2283,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=y(e("prop-types")),s=y(e("classnames")),i=y(e("bignumber.js")),l=e("../../../../shared/constants/gas"),u=e("../../../hooks/usePrevious"),c=e("../../../contexts/i18n"),d=e("../../../ducks/metamask/metamask"),f=y(e("../../ui/typography/typography")),p=e("../../../helpers/constants/design-system"),m=y(e("../../ui/info-tooltip/info-tooltip")),h=e("../../../store/actions"),_=e("../../../helpers/constants/gas"),g=e("../../../contexts/gasFee");function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const v=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSeconds",[n]):t("gasTimingMinutes",[Math.ceil(n/60)])};function b({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,r.useSelector)(d.getGasEstimateType),y=(0,r.useSelector)(d.getGasFeeEstimates),E=(0,r.useSelector)(d.getIsGasEstimatesLoading),[b,T]=(0,a.useState)(null),O=(0,a.useContext)(c.I18nContext),{estimateUsed:P,supportsEIP1559V2:k}=(0,g.useGasFeeContext)(),w=(null==y?void 0:y.low)&&Number(t)<Number(y.low.suggestedMaxPriorityFeePerGas),N=(0,u.usePrevious)(e),S=(0,u.usePrevious)(t),C=(0,u.usePrevious)(w);let M;if((0,a.useEffect)((()=>{const n=t,a=e;(w||n&&n!==S||a&&a!==N)&&(0,h.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(a,10).toString(10)).then((r=>{e===a&&t===n&&T(r)})),!1!==w&&!0===C&&T(null)}),[t,e,w,N,S,C]),M=k?O("editGasTooLow"):a.default.createElement(a.default.Fragment,null,O("editGasTooLow")," ",a.default.createElement(m.default,{position:"top",contentText:O("editGasTooLowTooltip")})),(null==n?void 0:n.maxPriorityFee)===_.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===_.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(f.default,{variant:p.TYPOGRAPHY.H7,fontWeight:p.FONT_WEIGHT.BOLD,className:(0,s.default)("gas-timing","gas-timing--negative")},M);if(E||o!==l.GAS_ESTIMATE_TYPES.FEE_MARKET)return null;const{low:x={},medium:A={},high:R={}}=y;let I="",j="positive";return Number(t)>=Number(A.suggestedMaxPriorityFeePerGas)?I=Number(t)<Number(R.suggestedMaxPriorityFeePerGas)?O("gasTimingPositive",[v(x.maxWaitTimeEstimate,O)]):O("gasTimingVeryPositive",[v(R.minWaitTimeEstimate,O)]):(k&&"low"!==P||(j="negative"),I=w?b&&"unknown"!==b&&"unknown"!==(null==b?void 0:b.upperTimeBound)?O("gasTimingNegative",[v(Number(null==b?void 0:b.upperTimeBound),O)]):M:k?O("gasTimingNegative",[v(x.maxWaitTimeEstimate,O)]):a.default.createElement(a.default.Fragment,null,O("gasTimingNegative",[v(x.maxWaitTimeEstimate,O)]),a.default.createElement(m.default,{position:"top",contentText:O("editGasTooLowWarningTooltip")}))),a.default.createElement(f.default,{variant:p.TYPOGRAPHY.H7,className:(0,s.default)("gas-timing",{[`gas-timing--${j}`]:j&&!k,[`gas-timing--${j}-V2`]:j&&k})},I)}b.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$"}],[7485,{"./gas-timing.component":7484},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-timing.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7486,{"../../ui/button":7686,"../../ui/check-box":7692,"../../ui/tooltip":7832,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("classnames")),o=u(e("prop-types")),s=u(e("../../ui/button")),i=u(e("../../ui/check-box")),l=u(e("../../ui/tooltip"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:o=[],descriptionText:u,ignoreText:c,infoText:d,onAccept:f,onIgnore:p})=>{const[m,h]=(0,a.useState)(!1),_=t&&a.default.createElement(i.default,{id:"homeNotification_checkbox",checked:m,className:"home-notification__checkbox",onClick:()=>h((e=>!e))});return a.default.createElement("div",{className:(0,r.default)("home-notification",...o)},a.default.createElement("div",{className:"home-notification__content"},a.default.createElement("div",{className:"home-notification__content-container"},a.default.createElement("div",{className:"home-notification__text"},u)),d?a.default.createElement(l.default,{position:"top",title:d,wrapperClassName:"home-notification__tooltip-wrapper"},a.default.createElement("i",{className:"fa fa-info-circle"})):null),a.default.createElement("div",{className:"home-notification__buttons"},f&&e?a.default.createElement(s.default,{type:"primary",className:"home-notification__accept-button",onClick:f},e):null,p&&c?a.default.createElement(s.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>p(m)},c):null,t?a.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?a.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},_):_,a.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};d.propTypes={acceptText:o.default.node,checkboxText:o.default.node,checkboxTooltipText:o.default.node,classNames:o.default.array,descriptionText:o.default.node.isRequired,ignoreText:o.default.node,infoText:o.default.node,onAccept:o.default.func,onIgnore:o.default.func};var f=d;n.default=f}}},{package:"$root$"}],[7487,{"./home-notification.component":7486},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./home-notification.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7488,{"../../../../shared/constants/metametrics":7321,"../../../contexts/metametrics":7845,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/routes":7872,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/box/box":7681,"../../ui/button":7686,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,a.useContext)(f.MetaMetricsContext),t=(0,s.useI18nContext)(),n=(0,o.useHistory)(),h=(0,r.useSelector)(m.getIsTokenDetectionSupported),_=(0,r.useSelector)(m.getIsTokenDetectionInactiveOnMainnet),g=h||_||Boolean(!1);return a.default.createElement(u.default,{className:"import-token-link",textAlign:c.TEXT_ALIGN.CENTER},g&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{className:"import-token-link__link","data-testid":"refresh-list-button",type:"link",onClick:()=>(0,d.detectNewTokens)()},t("refreshList")),t("or")),a.default.createElement(l.default,{className:"import-token-link__link","data-testid":"import-token-button",type:"link",onClick:()=>{n.push(i.IMPORT_TOKEN_ROUTE),e({event:p.EVENT_NAMES.TOKEN_IMPORT_BUTTON_CLICKED,category:p.EVENT.CATEGORIES.NAVIGATION,properties:{location:"Home"}})}},g?t("importTokens"):t("importTokens").charAt(0).toUpperCase()+t("importTokens").slice(1)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/routes"),l=h(e("../../ui/button")),u=h(e("../../ui/box/box")),c=e("../../../helpers/constants/design-system"),d=e("../../../store/actions"),f=e("../../../contexts/metametrics"),p=e("../../../../shared/constants/metametrics"),m=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}}}},{package:"$root$"}],[7489,{"./import-token-link.component":7488},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./import-token-link.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7490,{"./ledger-instruction-field":7491},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7491,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../../shared/constants/hardware-wallets":7319,"../../../ducks/app/app":7851,"../../../ducks/metamask/metamask":7859,"../../../helpers/constants/design-system":7868,"../../../hooks/useI18nContext":7927,"../../../store/actions":8273,"../../ui/button":7686,"../../ui/dialog":7704,"../../ui/typography/typography":7837,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=g(e("prop-types")),s=e("../../../../shared/constants/hardware-wallets"),i=e("../../../../shared/constants/app"),l=e("../../../ducks/app/app"),u=g(e("../../ui/typography/typography")),c=g(e("../../ui/button")),d=e("../../../hooks/useI18nContext"),f=e("../../../helpers/constants/design-system"),p=g(e("../../ui/dialog")),m=e("../../../../app/scripts/lib/util"),h=e("../../../ducks/metamask/metamask"),_=e("../../../store/actions");function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const E=(e,t=!0,n=f.COLORS.TEXT_DEFAULT)=>t&&a.default.createElement(u.default,{boxProps:{margin:0},color:n,fontWeight:f.FONT_WEIGHT.BOLD,variant:f.TYPOGRAPHY.H7},e);function v({showDataInstruction:e}){const t=(0,d.useI18nContext)(),n=(0,r.useDispatch)(),o=(0,r.useSelector)(l.getLedgerWebHidConnectedStatus),u=(0,r.useSelector)(h.getLedgerTransportType),g=(0,r.useSelector)(l.getLedgerTransportStatus),y=(0,m.getEnvironmentType)()===i.ENVIRONMENT_TYPE_FULLSCREEN;(0,a.useEffect)((()=>{(async()=>{if(u===s.LEDGER_TRANSPORT_TYPES.WEBHID&&o===s.WEBHID_CONNECTED_STATUSES.CONNECTED&&g===s.TRANSPORT_STATES.NONE)try{const e=await(0,_.attemptLedgerTransportCreation)();n((0,l.setLedgerTransportStatus)(e?s.TRANSPORT_STATES.VERIFIED:s.TRANSPORT_STATES.UNKNOWN_FAILURE))}catch(e){e.message.match("Failed to open the device")?n((0,l.setLedgerTransportStatus)(s.TRANSPORT_STATES.DEVICE_OPEN_FAILURE)):e.message.match("the device is already open")?n((0,l.setLedgerTransportStatus)(s.TRANSPORT_STATES.VERIFIED)):n((0,l.setLedgerTransportStatus)(s.TRANSPORT_STATES.UNKNOWN_FAILURE))}})(),(async()=>{if(u===s.LEDGER_TRANSPORT_TYPES.WEBHID&&o!==s.WEBHID_CONNECTED_STATUSES.CONNECTED){const e=(await window.navigator.hid.getDevices()).some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,l.setLedgerWebHidConnectedStatus)(e?s.WEBHID_CONNECTED_STATUSES.CONNECTED:s.WEBHID_CONNECTED_STATUSES.NOT_CONNECTED))}})()}),[n,u,o,g]),(0,a.useEffect)((()=>()=>{n((0,l.setLedgerTransportStatus)(s.TRANSPORT_STATES.NONE))}),[n]);const v=u===s.LEDGER_TRANSPORT_TYPES.LIVE,b=u===s.LEDGER_TRANSPORT_TYPES.WEBHID,T=(0,m.getPlatform)()===i.PLATFORM_FIREFOX;return a.default.createElement("div",null,a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement(p.default,{type:"message"},a.default.createElement("div",{className:"ledger-live-dialog"},E(t("ledgerConnectionInstructionHeader")),E(`- ${t("ledgerConnectionInstructionStepOne")}`,!T&&v),E(`- ${t("ledgerConnectionInstructionStepTwo")}`,!T&&v),E(`- ${t("ledgerConnectionInstructionStepThree")}`),E(`- ${t("ledgerConnectionInstructionStepFour")}`,e),E(a.default.createElement("span",null,a.default.createElement(c.default,{type:"link",onClick:async()=>{y?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),g===s.TRANSPORT_STATES.DEVICE_OPEN_FAILURE),E(a.default.createElement("span",null,a.default.createElement(c.default,{type:"link",onClick:async()=>{if(y){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:s.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(s.LEDGER_USB_VENDOR_ID)));n((0,l.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?s.WEBHID_CONNECTED_STATUSES.CONNECTED:s.WEBHID_CONNECTED_STATUSES.NOT_CONNECTED}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(y?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),b&&o===s.WEBHID_CONNECTED_STATUSES.NOT_CONNECTED,f.COLORS.WARNING_DEFAULT)))))}v.propTypes={showDataInstruction:o.default.bool}}}},{package:"$root$"}],[7492,{"./loading-network-screen.container":7494},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./loading-network-screen.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7493,{"../../../../shared/constants/time":7327,"../../ui/button":7686,"../../ui/loading-screen":7766,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../ui/button")),s=l(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),c(this,"state",{showErrorScreen:!1}),c(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),c(this,"getConnectingLabel",(function(e){if(e)return e;const{provider:t,providerId:n}=this.props,a=t.type;let r;return r="mainnet"===a?this.context.t("connectingToMainnet"):"ropsten"===a?this.context.t("connectingToRopsten"):"kovan"===a?this.context.t("connectingToKovan"):"rinkeby"===a?this.context.t("connectingToRinkeby"):"goerli"===a?this.context.t("connectingToGoerli"):this.context.t("connectingTo",[this.context.t(n)||n]),r})),c(this,"renderErrorScreenContent",(()=>{const{showNetworkDropdown:e,setProviderArgs:t,setProviderType:n}=this.props;return a.default.createElement("div",{className:"loading-overlay__error-screen"},a.default.createElement("span",{className:"loading-overlay__emoji"},"😞"),a.default.createElement("span",null,this.context.t("somethingWentWrong")),a.default.createElement("div",{className:"loading-overlay__error-buttons"},a.default.createElement(o.default,{type:"secondary",onClick:()=>{window.clearTimeout(this.cancelCallTimeout),e()}},this.context.t("switchNetworks")),a.default.createElement(o.default,{type:"primary",onClick:()=>{this.setState({showErrorScreen:!1}),n(...t),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)}},this.context.t("tryAgain"))))})),c(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),c(this,"componentDidUpdate",(e=>{const{provider:t}=this.props,{provider:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),c(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e}=this.props;return a.default.createElement(s.default,{header:a.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:this.state.showErrorScreen?this.renderErrorScreenContent():this.getConnectingLabel(this.props.loadingMessage)})}}n.default=d,c(d,"contextTypes",{t:r.default.func}),c(d,"propTypes",{loadingMessage:r.default.string,cancelTime:r.default.number,provider:r.default.oneOfType([r.default.string,r.default.object]),providerId:r.default.oneOfType([r.default.string,r.default.number]),showNetworkDropdown:r.default.func,setProviderArgs:r.default.array,setProviderType:r.default.func,rollbackToPreviousProvider:r.default.func,isNetworkLoading:r.default.bool})}}},{package:"$root$"}],[7494,{"../../../../shared/constants/network":7322,"../../../selectors":8267,"../../../store/actions":8273,"./loading-network-screen.component":7493,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../shared/constants/network"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../store/actions")),i=e("../../../selectors"),l=(a=e("./loading-network-screen.component"))&&a.__esModule?a:{default:a};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=(0,r.connect)((e=>{const{loadingMessage:t}=e.appState,{provider:n}=e.metamask,{rpcUrl:a,chainId:r,ticker:s,nickname:l,type:u}=n,c=u===o.NETWORK_TYPE_RPC?[a,r,s,l]:[n.type];return{isNetworkLoading:(0,i.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:c,provider:n,providerId:(0,i.getNetworkIdentifier)(e)}}),(e=>({setProviderType:t=>{e(s.setProviderType(t))},rollbackToPreviousProvider:()=>e(s.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(s.showNetworkDropdown())})))(l.default);n.default=c}}},{package:"$root$"}],[7495,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../../shared/constants/metametrics":7321,"../../../contexts/metametrics":7845,"../../../helpers/constants/routes":7872,"../../../helpers/utils/util":7907,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/menu":7781,"@metamask/etherscan-link":1562,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("@metamask/etherscan-link"),u=e("../../../store/actions"),c=e("../../../helpers/constants/routes"),d=e("../../../helpers/utils/util"),f=e("../../ui/menu"),p=e("../../../selectors"),m=e("../../../hooks/useI18nContext"),h=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),g=e("../../../../shared/constants/metametrics"),y=e("../../../contexts/metametrics");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v({anchorElement:e,onClose:t}){const n=(0,m.useI18nContext)(),a=(0,i.useDispatch)(),o=(0,s.useHistory)(),E=(0,i.useSelector)(p.getCurrentKeyring),v=(0,i.useSelector)(p.getCurrentChainId),b=(0,i.useSelector)(p.getRpcPrefsForCurrentProvider),T=(0,i.useSelector)(p.getSelectedIdentity),{address:O}=T,P=(0,l.getAccountLink)((0,d.getQtumAddressFromHex)(O,v),v,b),{blockExplorerUrl:k}=b,w=(0,d.getURLHostName)(k),N=(0,r.useContext)(y.MetaMetricsContext),S=(0,i.useSelector)(p.getBlockExplorerLinkText),C="HD Key Tree"!==E.type;return r.default.createElement(f.Menu,{anchorElement:e,className:"account-options-menu",onHide:t},r.default.createElement(f.MenuItem,{onClick:"addBlockExplorer"===S.firstPart?()=>{o.push(`${c.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{N({event:g.EVENT_NAMES.EXTERNAL_LINK_CLICKED,category:g.EVENT.CATEGORIES.NAVIGATION,properties:{link_type:g.EVENT.EXTERNAL_LINK_TYPES.ACCOUNT_TRACKER,location:"Account Options",url_domain:(0,d.getURLHostName)(P)}}),global.platform.openTab({url:P}),t()},subtitle:w?r.default.createElement("span",{className:"account-options-menu__explorer-origin"},w):null,iconClassName:"fas fa-external-link-alt"},n(S.firstPart,""===S.secondPart?null:[n(S.secondPart)])),(0,h.getEnvironmentType)()===_.ENVIRONMENT_TYPE_FULLSCREEN?null:r.default.createElement(f.MenuItem,{onClick:()=>{N({event:g.EVENT_NAMES.APP_WINDOW_EXPANDED,category:g.EVENT.CATEGORIES.NAVIGATION,properties:{location:"Account Options"}}),global.platform.openExtensionInBrowser(),t()},iconClassName:"fas fa-expand-alt"},n("expandView")),r.default.createElement(f.MenuItem,{"data-testid":"account-options-menu__account-details",onClick:()=>{a((0,u.showModal)({name:"ACCOUNT_DETAILS"})),N({event:g.EVENT_NAMES.NAV_ACCOUNT_DETAILS_OPENED,category:g.EVENT.CATEGORIES.NAVIGATION,properties:{location:"Account Options"}}),t()},iconClassName:"fas fa-qrcode"},n("accountDetails")),r.default.createElement(f.MenuItem,{"data-testid":"account-options-menu__connected-sites",onClick:()=>{N({event:g.EVENT_NAMES.NAV_CONNECTED_SITES_OPENED,category:g.EVENT.CATEGORIES.NAVIGATION,properties:{location:"Account Options"}}),o.push(c.CONNECTED_ROUTE),t()},iconClassName:"fa fa-bullseye"},n("connectedSites")),C?r.default.createElement(f.MenuItem,{"data-testid":"account-options-menu__remove-account",onClick:()=>{a((0,u.showModal)({name:"CONFIRM_REMOVE_ACCOUNT",identity:T})),t()},iconClassName:"fas fa-trash-alt"},n("removeAccount")):null)}v.propTypes={anchorElement:o.default.instanceOf(window.Element),onClose:o.default.func.isRequired},v.defaultProps={anchorElement:undefined}}}},{package:"$root$"}],[7496,{"./menu-bar":7497},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./menu-bar"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7497,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../../shared/constants/metametrics":7321,"../../../contexts/metametrics":7845,"../../../helpers/constants/routes":7872,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../connected-status-indicator":7431,"../selected-account":7591,"./account-options-menu":7495,react:6817,"react-redux":6775,"react-router-dom":6795,"webextension-polyfill":7290},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,p.useI18nContext)(),t=(0,a.useContext)(h.MetaMetricsContext),n=(0,o.useHistory)(),[g,y]=(0,a.useState)(null),[E,v]=(0,a.useState)(!1),b=(0,s.useSelector)(m.getOriginOfCurrentTab),T=(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP&&b&&b!==r.default.runtime.id;return a.default.createElement("div",{className:"menu-bar"},T?a.default.createElement(l.default,{onClick:()=>n.push(f.CONNECTED_ACCOUNTS_ROUTE)}):a.default.createElement("div",null),a.default.createElement(i.default,null),a.default.createElement("button",{className:"fas fa-ellipsis-v menu-bar__account-options","data-testid":"account-options-menu-button",ref:y,title:e("accountOptions"),onClick:()=>{t({event:d.EVENT_NAMES.NAV_ACCOUNT_MENU_OPENED,category:d.EVENT.CATEGORIES.NAVIGATION,properties:{location:"Home"}}),v(!0)}}),E&&a.default.createElement(_.default,{anchorElement:g,onClose:()=>v(!1)}))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("webextension-polyfill")),o=e("react-router-dom"),s=e("react-redux"),i=g(e("../selected-account")),l=g(e("../connected-status-indicator")),u=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/app"),d=e("../../../../shared/constants/metametrics"),f=e("../../../helpers/constants/routes"),p=e("../../../hooks/useI18nContext"),m=e("../../../selectors"),h=e("../../../contexts/metametrics"),_=g(e("./account-options-menu"));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}}}},{package:"$root$"}],[7498,{"prop-types":5840,react:6817,"react-dom":6722,"react-transition-group/CSSTransitionGroup":6809},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("react-dom"),s=l(e("react-transition-group/CSSTransitionGroup"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.Component{constructor(...e){super(...e),u(this,"globalClickOccurred",(e=>{const{target:t}=e,n=(0,o.findDOMNode)(this);var a,r;this.props.isOpen&&t!==n&&!this.container.contains(e.target)&&(null===(a=(r=this.props).onClickOutside)||void 0===a||a.call(r,e))}))}renderPrimary(){const{isOpen:e}=this.props;if(!e)return null;const t=this.props.innerStyle||{};return r.default.createElement("div",{className:"menu-droppo",key:"menu-droppo-drawer","data-testid":"menu-droppo",style:t},this.props.children)}componentDidMount(){if(this&&document.body){document.body.addEventListener("click",this.globalClickOccurred);const e=(0,o.findDOMNode)(this);this.container=e}}componentWillUnmount(){this&&document.body&&document.body.removeEventListener("click",this.globalClickOccurred)}render(){const{containerClassName:e="",style:t}=this.props,n=this.props.speed||"300ms",{useCssTransition:a}=this.props,o={position:"fixed",...t,zIndex:"zIndex"in this.props?this.props.zIndex:0};return r.default.createElement("div",{style:o,className:`menu-droppo-container ${e}`,"data-testid":e},r.default.createElement("style",null,`\n          .menu-droppo-enter {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n\n          .menu-droppo-enter.menu-droppo-enter-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(0%);\n          }\n\n          .menu-droppo-leave.menu-droppo-leave-active {\n            transition: transform ${n} ease-in-out;\n            transform: translateY(-200%);\n          }\n        `),a?r.default.createElement(s.default,{className:"css-transition-group",transitionName:"menu-droppo",transitionEnterTimeout:parseInt(n,10),transitionLeaveTimeout:parseInt(n,10)},this.renderPrimary()):this.renderPrimary())}}n.default=c,u(c,"propTypes",{isOpen:a.default.bool.isRequired,innerStyle:a.default.object,children:a.default.node.isRequired,onClickOutside:a.default.func,containerClassName:a.default.string,zIndex:a.default.number,style:a.default.object.isRequired,useCssTransition:a.default.bool,speed:a.default.string})}}},{package:"$root$"}],[7499,{"./metamask-template-renderer":7500},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-template-renderer"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7500,{"./safe-component-list":7501,lodash:5584,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SectionShape=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("lodash"),i=e("./safe-component-list");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}function c(e){const{element:t}=e,n=i.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const d=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=c(e);return r.default.createElement(t,e.props,"object"==typeof e.children?r.default.createElement(d,{sections:e.children}):null==e?void 0:e.children)}return r.default.createElement(r.default.Fragment,null,e.reduce(((e,t)=>{if(!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(r.default.createElement(d,{sections:t,key:t.key}));else{const n=c(t);e.push(r.default.createElement(n,u({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))},f={props:o.default.object,element:o.default.oneOf(Object.keys(i.safeComponentList)).isRequired,key:o.default.string};n.SectionShape=f;const p=o.default.oneOfType([o.default.string,o.default.shape(f),o.default.arrayOf(o.default.oneOfType([o.default.shape(f),o.default.string]))]);f.children=p,d.propTypes={sections:p};var m=(0,r.memo)(d,((e,t)=>(0,s.isEqual)(e.sections,t.sections)));n.default=m}}},{package:"$root$"}],[7501,{"../../../pages/confirmation/components/confirmation-network-switch":7996,"../../ui/box":7682,"../../ui/button":7686,"../../ui/chip":7695,"../../ui/definition-list":7703,"../../ui/popover":7798,"../../ui/textarea/textarea":7824,"../../ui/tooltip/tooltip":7833,"../../ui/truncated-definition-list":7834,"../../ui/typography":7836,"../../ui/url-icon":7841,"../metamask-translation":7502,"../network-display":7566},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var a=_(e("../../ui/button")),r=_(e("../../ui/chip")),o=_(e("../../ui/definition-list")),s=_(e("../../ui/truncated-definition-list")),i=_(e("../../ui/popover")),l=_(e("../../ui/typography")),u=_(e("../../ui/box")),c=_(e("../metamask-translation")),d=_(e("../network-display")),f=_(e("../../ui/textarea/textarea")),p=_(e("../../../pages/confirmation/components/confirmation-network-switch")),m=_(e("../../ui/url-icon")),h=_(e("../../ui/tooltip/tooltip"));function _(e){return e&&e.__esModule?e:{default:e}}const g={MetaMaskTranslation:c.default,a:"a",b:"b",p:"p",div:"div",span:"span",Typography:l.default,Chip:r.default,DefinitionList:o.default,TruncatedDefinitionList:s.default,Button:a.default,Popover:i.default,Box:u.default,NetworkDisplay:d.default,TextArea:f.default,ConfirmationNetworkSwitch:p.default,UrlIcon:m.default,Tooltip:h.default,i:"i"};n.safeComponentList=g}}},{package:"$root$"}],[7502,{"./metamask-translation":7503},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metamask-translation"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7503,{"../../../hooks/useI18nContext":7927,"../metamask-template-renderer/metamask-template-renderer":7500,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../hooks/useI18nContext"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../metamask-template-renderer/metamask-template-renderer"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}function u({translationKey:e,variables:t}){return(0,o.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,r,o,i;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(i=o[1])||void 0===i?void 0:i.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return a.default.createElement(s.default,{key:`${e}-${t.key}`,sections:t})}return t})))}u.propTypes={translationKey:r.default.string.isRequired,variables:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number,r.default.shape(s.SectionShape)]))}}}},{package:"$root$"}],[7504,{"./modal-content":7505,"./modal.component":7507},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./modal.component")),r=o(e("./modal-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[7505,{"./modal-content.component":7506},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7506,{"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}class i extends r.PureComponent{render(){const{title:e,description:t}=this.props;return r.default.createElement("div",{className:"modal-content"},e?r.default.createElement("div",{className:"modal-content__title"},e):null,t&&r.default.createElement("div",{className:"modal-content__description"},t))}}n.default=i,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(i,"propTypes",{title:o.default.string,description:o.default.string})}}},{package:"$root$"}],[7507,{"../../ui/button":7686,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("classnames")),s=i(e("../../ui/button"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:r,submitType:i,submitText:l,submitDisabled:u,onCancel:c,cancelType:d,cancelText:f,contentClass:p,containerClass:m,hideFooter:h}=this.props;return a.default.createElement("div",{className:(0,o.default)("modal-container",m)},t&&a.default.createElement("div",{className:"modal-container__header"},a.default.createElement("div",{className:"modal-container__header-text"},t),a.default.createElement("div",{className:"modal-container__header-close",onClick:n})),a.default.createElement("div",{className:(0,o.default)("modal-container__content",p)},e),h?null:a.default.createElement("div",{className:"modal-container__footer"},c&&a.default.createElement(s.default,{type:d,onClick:c,className:"modal-container__footer-button"},f),a.default.createElement(s.default,{type:i,onClick:r,disabled:u,className:"modal-container__footer-button"},l)))}}n.default=c,u(c,"propTypes",{children:r.default.node,contentClass:r.default.string,containerClass:r.default.string,headerText:r.default.string,onClose:r.default.func,onSubmit:r.default.func,submitType:r.default.string,submitText:r.default.string,submitDisabled:r.default.bool,hideFooter:r.default.bool,onCancel:r.default.func,cancelType:r.default.string,cancelText:r.default.string}),u(c,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$"}],[7508,{"../../../../../shared/constants/metametrics":7321,"../../../../helpers/constants/routes":7872,"../../../../helpers/utils/hardware":7893,"../../../../helpers/utils/util":7907,"../../../ui/button":7686,"../../../ui/editable-label":7710,"../../../ui/qr-code":7802,"../account-modal-container":7513,"@metamask/etherscan-link":1562,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=e("@metamask/etherscan-link"),s=m(e("../account-modal-container")),i=m(e("../../../ui/qr-code")),l=m(e("../../../ui/editable-label")),u=m(e("../../../ui/button")),c=e("../../../../helpers/utils/util"),d=e("../../../../helpers/utils/hardware"),f=e("../../../../../shared/constants/metametrics"),p=e("../../../../helpers/constants/routes");function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.Component{render(){const{selectedIdentity:e,chainId:t,showExportPrivateKeyModal:n,setAccountLabel:r,keyrings:m,rpcPrefs:h,accounts:_,history:g,hideModal:y,blockExplorerLinkText:E}=this.props,{name:v,address:b}=e,T=m.find((e=>e.accounts.includes(b)));let O=!0;(0,d.isHardwareKeyring)(null==T?void 0:T.type)&&(O=!1);return a.default.createElement(s.default,{className:"account-details-modal"},a.default.createElement(l.default,{className:"account-details-modal__name",defaultValue:v,onSubmit:e=>r(b,e),accountsNames:(P=_,k=v,Object.values(P).map((e=>e.name)).filter((e=>e!==k)))}),a.default.createElement(i.default,{Qr:{data:b}}),a.default.createElement("div",{className:"account-details-modal__divider"}),a.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:"addBlockExplorer"===E.firstPart?()=>{y(),g.push(`${p.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{const e=(0,o.getAccountLink)((0,c.getQtumAddressFromHex)(b,t),t,h);this.context.trackEvent({category:f.EVENT.CATEGORIES.NAVIGATION,event:f.EVENT_NAMES.EXTERNAL_LINK_CLICKED,properties:{link_type:f.EVENT.EXTERNAL_LINK_TYPES.ACCOUNT_TRACKER,location:"Account Details Modal",url_domain:(0,c.getURLHostName)(e)}}),global.platform.openTab({url:e})}},this.context.t(E.firstPart,""===E.secondPart?null:[E.secondPart])),O?a.default.createElement(u.default,{type:"secondary",className:"account-details-modal__button",onClick:()=>{this.context.trackEvent({category:f.EVENT.CATEGORIES.ACCOUNTS,event:f.EVENT_NAMES.KEY_EXPORT_SELECTED,properties:{key_type:f.EVENT.KEY_TYPES.PKEY,location:"Account Details Modal"}}),n()}},this.context.t("exportPrivateKey")):null);var P,k}}n.default=g,_(g,"propTypes",{selectedIdentity:r.default.object,chainId:r.default.string,showExportPrivateKeyModal:r.default.func,setAccountLabel:r.default.func,keyrings:r.default.array,rpcPrefs:r.default.object,accounts:r.default.array,history:r.default.object,hideModal:r.default.func,blockExplorerLinkText:r.default.object}),_(g,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$"}],[7509,{"../../../../selectors":8267,"../../../../store/actions":8273,"./account-details-modal.component":7508,"react-redux":6775,"react-router-dom":6795,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../selectors"),u=(a=e("./account-details-modal.component"))&&a.__esModule?a:{default:a};var c=(0,o.compose)(s.withRouter,(0,r.connect)((e=>({chainId:(0,l.getCurrentChainId)(e),selectedIdentity:(0,l.getSelectedIdentity)(e),keyrings:e.metamask.keyrings,rpcPrefs:(0,l.getRpcPrefsForCurrentProvider)(e),accounts:(0,l.getMetaMaskAccountsOrdered)(e),blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e,!0)})),(e=>({showExportPrivateKeyModal:()=>e((0,i.showModal)({name:"EXPORT_PRIVATE_KEY"})),setAccountLabel:(t,n)=>e((0,i.setAccountLabel)(t,n)),hideModal:()=>{e((0,i.hideModal)())}}))))(u.default);n.default=c}}},{package:"$root$"}],[7510,{"./account-details-modal.container":7509},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-details-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7511,{"../../../ui/identicon":7755,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=i(e("prop-types")),r=i(e("react")),o=i(e("classnames")),s=i(e("../../../ui/identicon"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{className:n,selectedIdentity:a,showBackButton:i,backButtonAction:l,hideModal:u,children:c}=e;return r.default.createElement("div",{className:(0,o.default)(n,"account-modal"),style:{borderRadius:"4px"}},r.default.createElement("div",{className:"account-modal__container"},r.default.createElement("div",null,r.default.createElement(s.default,{address:a.address,diameter:64})),i&&r.default.createElement("div",{className:"account-modal__back",onClick:l},r.default.createElement("i",{className:"fa fa-angle-left fa-lg"}),r.default.createElement("span",{className:"account-modal__back-text"},t.t("back"))),r.default.createElement("button",{className:"account-modal__close",onClick:u}),c))}l.contextTypes={t:a.default.func},l.defaultProps={showBackButton:!1,children:null,backButtonAction:undefined},l.propTypes={className:a.default.string,selectedIdentity:a.default.object.isRequired,showBackButton:a.default.bool,backButtonAction:a.default.func,hideModal:a.default.func.isRequired,children:a.default.node}}}},{package:"$root$"}],[7512,{"../../../../selectors":8267,"../../../../store/actions":8273,"./account-modal-container.component":7511,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=e("../../../../selectors"),i=(a=e("./account-modal-container.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(e,t){return{selectedIdentity:t.selectedIdentity||(0,s.getSelectedIdentity)(e)}}),(function(e){return{hideModal:()=>{e((0,o.hideModal)())}}}))(i.default);n.default=l}}},{package:"$root$"}],[7513,{"./account-modal-container.container":7512},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-modal-container.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7514,{"../../../../../helpers/constants/common":7865,"../../../user-preferenced-currency-display":7661,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=c(e("prop-types")),l=c(e("../../../user-preferenced-currency-display")),u=e("../../../../../helpers/constants/common");function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}class f extends s.PureComponent{render(){const{value:e}=this.props;return s.default.createElement("div",{className:"cancel-transaction-gas-fee"},s.default.createElement(l.default,{className:"cancel-transaction-gas-fee__eth",value:e,type:u.PRIMARY}),s.default.createElement(l.default,{className:"cancel-transaction-gas-fee__fiat",value:e,type:u.SECONDARY}))}}n.default=f,a=f,r="propTypes",o={value:i.default.string},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7515,{"./cancel-transaction-gas-fee.component":7514},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./cancel-transaction-gas-fee.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7516,{"../../../../../shared/constants/transaction":7329,"../../modal":7504,"./cancel-transaction-gas-fee":7515,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../modal")),s=e("../../../../../shared/constants/transaction"),i=l(e("./cancel-transaction-gas-fee"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),c(this,"state",{busy:!1}),c(this,"handleSubmit",(async()=>{const{createCancelTransaction:e,hideModal:t}=this.props;this.setState({busy:!0}),await e(),this.setState({busy:!1},(()=>t()))})),c(this,"handleCancel",(()=>{this.props.hideModal()}))}componentDidUpdate(){const{transactionStatus:e,showTransactionConfirmedModal:t}=this.props;e!==s.TRANSACTION_STATUSES.SUBMITTED&&t()}render(){const{t:e}=this.context,{newGasFee:t}=this.props,{busy:n}=this.state;return a.default.createElement(o.default,{headerText:e("attemptToCancel"),onClose:this.handleCancel,onSubmit:this.handleSubmit,onCancel:this.handleCancel,submitText:e("yesLetsTry"),cancelText:e("nevermind"),submitDisabled:n},a.default.createElement("div",null,a.default.createElement("div",{className:"cancel-transaction__title"},e("cancellationGasFee")),a.default.createElement("div",{className:"cancel-transaction__cancel-transaction-gas-fee-container"},a.default.createElement(i.default,{value:t})),a.default.createElement("div",{className:"cancel-transaction__description"},e("attemptToCancelDescription"))))}}n.default=d,c(d,"contextTypes",{t:r.default.func}),c(d,"propTypes",{createCancelTransaction:r.default.func,hideModal:r.default.func,showTransactionConfirmedModal:r.default.func,transactionStatus:r.default.string,newGasFee:r.default.string})}}},{package:"$root$"}],[7517,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../store/actions":8273,"./cancel-transaction.component":7516,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../store/actions"),i=l(e("./cancel-transaction.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(((e,t)=>{const{metamask:n}=e,{transactionId:a,originalGasPrice:r,newGasFee:o,customGasSettings:s}=t,{currentNetworkTxList:i}=n,l=i.find((({id:e})=>e===a)),u=l?l.status:"";return{transactionId:a,transactionStatus:u,originalGasPrice:r,customGasSettings:s,newGasFee:o}}),(e=>({createCancelTransaction:(t,n)=>e((0,s.createCancelTransaction)(t,n)),showTransactionConfirmedModal:()=>e((0,s.showModal)({name:"TRANSACTION_CONFIRMED"}))})),((e,t,n)=>{const{transactionId:a,customGasSettings:r,...o}=e,{createCancelTransaction:s,...i}=t;return{...o,...i,...n,createCancelTransaction:()=>s(a,r)}})))(i.default);n.default=u}}},{package:"$root$"}],[7518,{"./cancel-transaction.container":7517},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./cancel-transaction.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7519,{"../../modal":7504,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=l(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),u(this,"handleDelete",(()=>{this.props.delRpcTarget(this.props.target).then((()=>{this.props.onConfirm(),this.props.hideModal()}))}))}render(){const{t:e}=this.context;return r.default.createElement(s.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},r.default.createElement(s.ModalContent,{title:e("deleteNetwork"),description:e("deleteNetworkDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,delRpcTarget:o.default.func.isRequired,onConfirm:o.default.func.isRequired,target:o.default.string.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$"}],[7520,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../store/actions":8273,"./confirm-delete-network.component":7519,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../store/actions"),i=l(e("./confirm-delete-network.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({delRpcTarget:t=>e((0,s.delRpcTarget)(t))}))))(i.default);n.default=u}}},{package:"$root$"}],[7521,{"./confirm-delete-network.container":7520},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-delete-network.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7522,{"../../../../../shared/constants/metametrics":7321,"../../../../helpers/constants/zendesk-url":7875,"../../../../helpers/utils/util":7907,"../../../ui/identicon":7755,"../../modal":7504,"@metamask/etherscan-link":1562,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=e("@metamask/etherscan-link"),s=d(e("../../modal")),i=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),u=e("../../../../../shared/constants/metametrics"),c=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),p(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),p(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:r}=this.props;return a.default.createElement("div",{className:"confirm-remove-account__account"},a.default.createElement("div",{className:"confirm-remove-account__account__identicon"},a.default.createElement(l.default,{address:t.address,diameter:32})),a.default.createElement("div",{className:"confirm-remove-account__account__name"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),a.default.createElement("span",{className:"account_value"},t.name)),a.default.createElement("div",{className:"confirm-remove-account__account__address"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),a.default.createElement("span",{className:"account_value"},(0,i.addressSummary)(t.address,4,4))),a.default.createElement("div",{className:"confirm-remove-account__account__link"},a.default.createElement("a",{onClick:()=>{const e=(0,o.getAccountLink)((0,i.getQtumAddressFromHex)(t.address,r),r,n);this.context.trackEvent({category:u.EVENT.CATEGORIES.ACCOUNTS,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,i.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return a.default.createElement(s.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},a.default.createElement("div",null,this.renderSelectedAccount(),a.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),a.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:c.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,p(m,"propTypes",{hideModal:r.default.func.isRequired,removeAccount:r.default.func.isRequired,identity:r.default.object.isRequired,chainId:r.default.string.isRequired,rpcPrefs:r.default.object.isRequired}),p(m,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$"}],[7523,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../selectors":8267,"../../../../store/actions":8273,"./confirm-remove-account.component":7522,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=u(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../selectors"),i=e("../../../../store/actions"),l=u(e("./confirm-remove-account.component"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.compose)(o.default,(0,a.connect)((e=>({chainId:(0,s.getCurrentChainId)(e),rpcPrefs:(0,s.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,i.removeAccount)(t))}))))(l.default);n.default=c}}},{package:"$root$"}],[7524,{"./confirm-remove-account.container":7523},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-remove-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7525,{"../../modal":7504,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=l(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=l(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{constructor(...e){super(...e),u(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return r.default.createElement(s.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("reset"),cancelText:e("nevermind"),submitType:"danger-primary"},r.default.createElement(s.ModalContent,{title:`${e("resetAccount")}?`,description:e("resetAccountDescription")}))}}n.default=c,u(c,"propTypes",{hideModal:o.default.func.isRequired,resetAccount:o.default.func.isRequired}),u(c,"contextTypes",{t:o.default.func})}}},{package:"$root$"}],[7526,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../store/actions":8273,"./confirm-reset-account.component":7525,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../store/actions"),i=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(null,(e=>({resetAccount:()=>e((0,s.resetAccount)())}))))(i.default);n.default=u}}},{package:"$root$"}],[7527,{"./confirm-reset-account.container":7526},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-reset-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7528,{"../../../../../shared/modules/string-utils":7343,"../../../../ducks/metamask/metamask":7859,"../../../../helpers/constants/design-system":7868,"../../../../helpers/constants/routes":7872,"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../hooks/useI18nContext":7927,"../../../../store/actions":8273,"../../../ui/typography":7836,"../../modal":7504,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=_(e("react")),r=_(e("prop-types")),o=e("react-router-dom"),s=e("react-redux"),i=_(e("../../modal")),l=_(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=_(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),f=e("../../../../helpers/constants/routes"),p=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),h=e("../../../../../shared/modules/string-utils");function _(e){return e&&e.__esModule?e:{default:e}}const g=({hideModal:e,tokenAddress:t})=>{const n=(0,o.useHistory)(),r=(0,d.useI18nContext)(),c=(0,s.useDispatch)(),_=(0,s.useSelector)(p.getCollectibles).find((({address:e})=>(0,h.isEqualCaseInsensitive)(e,t)));return a.default.createElement(i.default,{onSubmit:async()=>{if(_){await c((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=_;n.push({pathname:`${f.ASSET_ROUTE}/${t}/${e}`})}else n.push({pathname:f.ADD_COLLECTIBLE_ROUTE,state:{tokenAddress:t}});e()},submitText:r("yes"),onCancel:()=>e(),cancelText:r("cancel")},a.default.createElement("div",{className:"convert-token-to-nft-modal"},a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H6,boxProps:{marginTop:2}},r(_?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};g.propTypes={hideModal:r.default.func.isRequired,tokenAddress:r.default.string};var y=(0,c.default)(g);n.default=y}}},{package:"$root$"}],[7529,{"../../../../helpers/constants/design-system":7868,"../../../../helpers/constants/zendesk-url":7875,"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../hooks/useI18nContext":7927,"../../../ui/box":7682,"../../../ui/button":7686,"../../../ui/text-field":7822,"../../../ui/typography":7836,"../../modal":7504,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=m(e("../../modal")),s=m(e("../../../ui/text-field")),i=m(e("../../../ui/button")),l=m(e("../../../ui/typography")),u=e("../../../../helpers/constants/design-system"),c=m(e("../../../ui/box")),d=m(e("../../../../helpers/higher-order-components/with-modal-props")),f=e("../../../../hooks/useI18nContext"),p=m(e("../../../../helpers/constants/zendesk-url"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const _=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:r,getNextNonce:d})=>{const[m,h]=(0,a.useState)(""),_=(0,f.useI18nContext)();return a.default.createElement(o.default,{onSubmit:()=>{r(""===m?t:m),d(),e()},submitText:_("save"),onCancel:()=>e(),cancelText:_("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},a.default.createElement("div",{className:"customize-nonce-modal"},a.default.createElement("div",{className:"customize-nonce-modal__main-header"},a.default.createElement(l.default,{className:"customize-nonce-modal__main-title",variant:u.TYPOGRAPHY.H4,fontWeight:u.FONT_WEIGHT.BOLD},_("editNonceField")),a.default.createElement("button",{className:"fas fa-times customize-nonce-modal__close",title:_("close"),onClick:e})),a.default.createElement(c.default,{marginTop:2,display:u.DISPLAY.INLINE_FLEX,alignItems:u.ALIGN_ITEMS.CENTER},a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H6,fontWeight:u.FONT_WEIGHT.NORMAL},_("editNonceMessage"),a.default.createElement(i.default,{type:"link",className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:p.default.CUSTOMIZE_NONCE},_("learnMoreUpperCase")))),a.default.createElement(c.default,{marginTop:3},a.default.createElement(c.default,{alignItems:u.ALIGN_ITEMS.CENTER,display:u.DISPLAY.FLEX},a.default.createElement(l.default,{variant:u.TYPOGRAPHY.H6,fontWeight:u.FONT_WEIGHT.BOLD,boxProps:{width:u.BLOCK_SIZES.FIVE_SIXTHS}},_("editNonceField")),a.default.createElement(c.default,{width:u.BLOCK_SIZES.ONE_SIXTH},a.default.createElement(i.default,{type:"link",className:"customize-nonce-modal__reset",onClick:()=>{h(n)}},_("reset")))),a.default.createElement("div",{className:"customize-nonce-modal__input"},a.default.createElement(s.default,{type:"number",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{h(e.target.value)},fullWidth:!0,margin:"dense",value:m,id:"custom-nonce-id"})))))};_.propTypes={hideModal:r.default.func.isRequired,customNonceValue:r.default.string,nextNonce:r.default.number,updateCustomNonce:r.default.func,getNextNonce:r.default.func};var g=(0,d.default)(_);n.default=g}}},{package:"$root$"}],[7530,{"./customize-nonce.component":7529},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./customize-nonce.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7531,{"../../../../../shared/constants/metametrics":7321,"../../../../../shared/constants/network":7322,"../../../ui/button":7686,"../../../ui/logo/logo-coinbasepay":7770,"../../../ui/logo/logo-deposit-eth":7771,"../../../ui/logo/logo-moonpay":7774,"../../../ui/logo/logo-transak":7776,"../../../ui/logo/logo-wyre":7778,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("../../../../../shared/constants/network"),s=e("../../../../../shared/constants/metametrics"),i=m(e("../../../ui/button")),l=m(e("../../../ui/logo/logo-moonpay")),u=m(e("../../../ui/logo/logo-wyre")),c=m(e("../../../ui/logo/logo-transak")),d=m(e("../../../ui/logo/logo-coinbasepay")),f=m(e("../../../ui/logo/logo-deposit-eth"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends r.Component{constructor(...e){super(...e),h(this,"goToAccountDetailsModal",(()=>{this.props.hideWarning(),this.props.hideModal(),this.props.showAccountDetailModal()}))}renderRow({logo:e,title:t,text:n,buttonLabel:a,onButtonClick:o,hide:s,className:l,hideButton:u,hideTitle:c,onBackClick:d,showBackButton:f}){return s?null:r.default.createElement("div",{className:l||"deposit-ether-modal__buy-row"},d&&f&&r.default.createElement("div",{className:"deposit-ether-modal__buy-row__back",onClick:d},r.default.createElement("i",{className:"fa fa-arrow-left cursor-pointer"})),r.default.createElement("div",{className:"deposit-ether-modal__buy-row__logo-container"},e),r.default.createElement("div",{className:"deposit-ether-modal__buy-row__description"},!c&&r.default.createElement("div",{className:"deposit-ether-modal__buy-row__description__title"},t),r.default.createElement("div",{className:"deposit-ether-modal__buy-row__description__text"},n)),!u&&r.default.createElement("div",{className:"deposit-ether-modal__buy-row__button"},r.default.createElement(i.default,{type:"secondary",className:"deposit-ether-modal__deposit-button",large:!0,onClick:o},a)))}render(){const{chainId:e,toWyre:t,toTransak:n,toMoonPay:a,toCoinbasePay:i,address:p,toFaucet:m,isTestnet:h,isBuyableTransakChain:_,isBuyableMoonPayChain:g,isBuyableWyreChain:y,isBuyableCoinbasePayChain:E}=this.props,{t:v}=this.context,b=o.NETWORK_TO_NAME_MAP[e],T=o.BUYABLE_CHAINS_MAP[e].nativeCurrency;return r.default.createElement("div",{className:"page-container page-container--full-width page-container--full-height"},r.default.createElement("div",{className:"page-container__header"},r.default.createElement("div",{className:"page-container__title"},v("depositCrypto",[T])),r.default.createElement("div",{className:"page-container__subtitle"},v("needCryptoInWallet",[T])),r.default.createElement("div",{className:"page-container__header-close",onClick:()=>{this.props.hideWarning(),this.props.hideModal()}})),r.default.createElement("div",{className:"page-container__content"},r.default.createElement("div",{className:"deposit-ether-modal__buy-rows"},this.renderRow({logo:r.default.createElement(d.default,{className:"deposit-ether-modal__logo"}),title:v("buyCryptoWithCoinbasePay",[T]),text:v("buyCryptoWithCoinbasePayDescription",[T]),buttonLabel:v("continueToCoinbasePay"),onButtonClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.ACCOUNTS,event:s.EVENT_NAMES.ONRAMP_PROVIDER_SELECTED,properties:{onramp_provider_type:s.EVENT.ONRAMP_PROVIDER_TYPES.COINBASE}}),i(p,e)},hide:!E}),this.renderRow({logo:r.default.createElement(c.default,{className:"deposit-ether-modal__logo"}),title:v("buyCryptoWithTransak",[T]),text:v("buyCryptoWithTransakDescription",[T]),buttonLabel:v("continueToTransak"),onButtonClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.ACCOUNTS,event:s.EVENT_NAMES.ONRAMP_PROVIDER_SELECTED,properties:{onramp_provider_type:s.EVENT.ONRAMP_PROVIDER_TYPES.TRANSAK}}),n(p,e)},hide:!_}),this.renderRow({logo:r.default.createElement(l.default,{className:"deposit-ether-modal__logo"}),title:v("buyCryptoWithMoonPay",[T]),text:v("buyCryptoWithMoonPayDescription",[T]),buttonLabel:v("continueToMoonPay"),onButtonClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.ACCOUNTS,event:s.EVENT_NAMES.ONRAMP_PROVIDER_SELECTED,properties:{onramp_provider_type:s.EVENT.ONRAMP_PROVIDER_TYPES.MOONPAY}}),a(p,e)},hide:!g}),this.renderRow({logo:r.default.createElement(u.default,{className:"deposit-ether-modal__logo"}),title:v("buyWithWyre",[T]),text:v("buyWithWyreDescription",[T]),buttonLabel:v("continueToWyre"),onButtonClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.ACCOUNTS,event:s.EVENT_NAMES.ONRAMP_PROVIDER_SELECTED,properties:{onramp_provider_type:s.EVENT.ONRAMP_PROVIDER_TYPES.WYRE}}),t(p,e)},hide:!y}),this.renderRow({logo:r.default.createElement(f.default,{className:"deposit-ether-modal__logo--lg"}),title:v("directDepositCrypto",[T]),text:v("directDepositCryptoExplainer",[T]),buttonLabel:v("viewAccount"),onButtonClick:()=>{this.context.trackEvent({category:s.EVENT.CATEGORIES.ACCOUNTS,event:s.EVENT_NAMES.ONRAMP_PROVIDER_SELECTED,properties:{onramp_provider_type:s.EVENT.ONRAMP_PROVIDER_TYPES.SELF_DEPOSIT}}),this.goToAccountDetailsModal()}}),b&&this.renderRow({logo:r.default.createElement("i",{className:"fa fa-tint fa-2x"}),title:v("testFaucet"),text:v("getEtherFromFaucet",[b]),buttonLabel:v("getEther"),onButtonClick:()=>m(e),hide:!h}))))}}n.default=_,h(_,"contextTypes",{t:a.default.func,trackEvent:a.default.func.isRequired}),h(_,"propTypes",{chainId:a.default.string.isRequired,isTestnet:a.default.bool.isRequired,isBuyableTransakChain:a.default.bool.isRequired,isBuyableMoonPayChain:a.default.bool.isRequired,isBuyableWyreChain:a.default.bool.isRequired,isBuyableCoinbasePayChain:a.default.bool.isRequired,toWyre:a.default.func.isRequired,toTransak:a.default.func.isRequired,toMoonPay:a.default.func.isRequired,toCoinbasePay:a.default.func.isRequired,address:a.default.string.isRequired,toFaucet:a.default.func.isRequired,hideWarning:a.default.func.isRequired,hideModal:a.default.func.isRequired,showAccountDetailModal:a.default.func.isRequired})}}},{package:"$root$"}],[7532,{"../../../../selectors/selectors":8270,"../../../../store/actions":8273,"./deposit-ether-modal.component":7531,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=e("../../../../selectors/selectors"),i=(a=e("./deposit-ether-modal.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((function(e){return{chainId:(0,s.getCurrentChainId)(e),isTestnet:(0,s.getIsTestnet)(e),isMainnet:(0,s.getIsMainnet)(e),address:(0,s.getSelectedAddress)(e),isBuyableTransakChain:(0,s.getIsBuyableTransakChain)(e),isBuyableMoonPayChain:(0,s.getIsBuyableMoonPayChain)(e),isBuyableWyreChain:(0,s.getIsBuyableWyreChain)(e),isBuyableCoinbasePayChain:(0,s.getIsBuyableCoinbasePayChain)(e)}}),(function(e){return{toWyre:(t,n)=>{e((0,o.buyEth)({service:"wyre",address:t,chainId:n}))},toTransak:(t,n)=>{e((0,o.buyEth)({service:"transak",address:t,chainId:n}))},toMoonPay:(t,n)=>{e((0,o.buyEth)({service:"moonpay",address:t,chainId:n}))},toCoinbasePay:(t,n)=>{e((0,o.buyEth)({service:"coinbase",address:t,chainId:n}))},hideModal:()=>{e((0,o.hideModal)())},hideWarning:()=>{e((0,o.hideWarning)())},showAccountDetailModal:()=>{e((0,o.showModal)({name:"ACCOUNT_DETAILS"}))},toFaucet:t=>e((0,o.buyEth)({chainId:t}))}}))(i.default);n.default=l}}},{package:"$root$"}],[7533,{"./deposit-ether-modal.container":7532},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./deposit-ether-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7534,{"../../../../helpers/utils/token-util":7904,"../../../ui/identicon":7755,"../../../ui/text-field":7822,"../../modal":7504,"bignumber.js":2283,classnames:2484,loglevel:5597,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("prop-types")),o=f(e("loglevel")),s=f(e("classnames")),i=f(e("bignumber.js")),l=f(e("../../modal")),u=f(e("../../../ui/identicon")),c=f(e("../../../ui/text-field")),d=e("../../../../helpers/utils/token-util");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new i.default(2).pow(256).minus(1).toString(10);class _ extends a.PureComponent{constructor(...e){super(...e),m(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedIdentity:r,tokenAmount:o,tokenSymbol:l,tokenBalance:d,customTokenAmount:f,origin:p}=this.props,{name:m,address:_}=r||{},{selectedOptionIsUnlimited:g}=this.state;return a.default.createElement("div",{className:"edit-approval-permission"},a.default.createElement("div",{className:"edit-approval-permission__header"},a.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),a.default.createElement("i",{className:"fa fa-times fa-lg edit-approval-permission__header__close",onClick:()=>n()})),a.default.createElement("div",{className:"edit-approval-permission__account-info"},a.default.createElement("div",{className:"edit-approval-permission__account-info__account"},a.default.createElement(u.default,{address:_,diameter:32}),a.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},a.default.createElement("div",{className:"edit-approval-permission__account-info__name"},m),a.default.createElement("div",null,t("balance")))),a.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${Number(d).toPrecision(9)} ${l}`)),a.default.createElement("div",{className:"edit-approval-permission__edit-section"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[p])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},a.default.createElement("div",{className:(0,s.default)({"edit-approval-permission__edit-section__radio-button-outline":!g,"edit-approval-permission__edit-section__radio-button-outline--selected":g})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),g&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,s.default)({"edit-approval-permission__edit-section__option-label":!g,"edit-approval-permission__edit-section__option-label--selected":g})},new i.default(o).equals(new i.default(h))?t("unlimited"):t("proposedApprovalLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[p])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(o)} ${l}`))),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},a.default.createElement("div",{className:(0,s.default)({"edit-approval-permission__edit-section__radio-button-outline":g,"edit-approval-permission__edit-section__radio-button-outline--selected":!g})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!g&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,s.default)({"edit-approval-permission__edit-section__option-label":g,"edit-approval-permission__edit-section__option-label--selected":!g})},t("customSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},a.default.createElement(c.default,{type:"number",placeholder:`${Number(f||o)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),g&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:r}=this.state;if(a||!r)return undefined;let s;try{s=new i.default(r)}catch(t){return o.default.debug(`Error converting '${r}' to BigNumber:`,t),e("spendLimitInvalid")}if(s.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(h,t);return s.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&s.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:r}=this.props,{selectedOptionIsUnlimited:o,customSpendLimit:s}=this.state,i=this.validateSpendLimit(),u=Boolean(s===r&&!o||i);return a.default.createElement(l.default,{onSubmit:()=>{t(o?"":s),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:u},this.renderModalContent(i))}}n.default=_,m(_,"propTypes",{decimals:r.default.number,hideModal:r.default.func.isRequired,selectedIdentity:r.default.object,tokenAmount:r.default.string,customTokenAmount:r.default.string,tokenSymbol:r.default.string,tokenBalance:r.default.string,setCustomAmount:r.default.func,origin:r.default.string.isRequired,requiredMinimum:r.default.instanceOf(i.default)}),m(_,"contextTypes",{t:r.default.func})}}},{package:"$root$"}],[7535,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../selectors":8267,"./edit-approval-permission.component":7534,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../selectors"),i=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedIdentity:(0,s.getSelectedIdentity)(e),...t}})))(i.default);n.default=u}}},{package:"$root$"}],[7536,{"./edit-approval-permission.container":7535},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-approval-permission.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7537,{"../../../../../shared/constants/metametrics":7321,"../../../../../shared/modules/hexstring-utils":7336,"../../../ui/button":7686,"../account-modal-container":7513,"copy-to-clipboard":2518,"ethereumjs-util":2891,loglevel:5597,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("loglevel")),r=p(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),s=e("ethereumjs-util"),i=p(e("copy-to-clipboard")),l=p(e("../../../ui/button")),u=p(e("../account-modal-container")),c=e("../../../../../shared/modules/hexstring-utils"),d=e("../../../../../shared/constants/metametrics");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends o.Component{constructor(...e){super(...e),m(this,"state",{password:"",privateKey:null,showWarning:!0}),m(this,"exportAccountAndGetPrivateKey",((e,t)=>{const{exportAccount:n}=this.props;n(e,t).then((e=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_REVEALED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY}}),this.setState({privateKey:e,showWarning:!1})})).catch((e=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_FAILED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY,reason:"incorrect_password"}}),a.default.error(e)}))}))}componentWillUnmount(){this.props.clearAccountDetails(),this.props.hideWarning()}renderPasswordLabel(e){return o.default.createElement("span",{className:"export-private-key-modal__password-label"},e?this.context.t("copyPrivateKey"):this.context.t("typePassword"))}renderPasswordInput(e,t){const n=e&&(0,s.stripHexPrefix)(e);return e?o.default.createElement("div",{className:"export-private-key-modal__private-key-display",onClick:()=>{(0,i.default)(n),this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_COPIED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY,copy_method:"clipboard"}})}},n):o.default.createElement("input",{autoFocus:!0,type:"password",className:"export-private-key-modal__password-input",onChange:e=>this.setState({password:e.target.value}),onKeyUp:e=>{"Enter"===e.key&&(this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_REQUESTED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY}}),this.exportAccountAndGetPrivateKey(this.state.password,t))}})}renderButtons(e,t,n){return o.default.createElement("div",{className:"export-private-key-modal__buttons"},!e&&o.default.createElement(l.default,{type:"secondary",large:!0,className:"export-private-key-modal__button export-private-key-modal__button--cancel",onClick:()=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_CANCELED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY}}),n()}},this.context.t("cancel")),e?o.default.createElement(l.default,{onClick:()=>{n()},type:"primary",large:!0,className:"export-private-key-modal__button"},this.context.t("done")):o.default.createElement(l.default,{onClick:()=>{this.context.trackEvent({category:d.EVENT.CATEGORIES.KEYS,event:d.EVENT_NAMES.KEY_EXPORT_REQUESTED,properties:{key_type:d.EVENT.KEY_TYPES.PKEY}}),this.exportAccountAndGetPrivateKey(this.state.password,t)},type:"primary",large:!0,className:"export-private-key-modal__button",disabled:!this.state.password},this.context.t("confirm")))}render(){const{selectedIdentity:e,warning:t,showAccountDetailModal:n,hideModal:a,previousModalState:r,qtumAddress:s,isQtumAddressShow:i}=this.props,{name:l,address:d}=e,{privateKey:f,showWarning:p}=this.state;return o.default.createElement(u.default,{className:"export-private-key-modal",selectedIdentity:e,showBackButton:"ACCOUNT_DETAILS"===r,backButtonAction:()=>n()},o.default.createElement("span",{className:"export-private-key-modal__account-name"},l),o.default.createElement("div",{className:"ellip-address-wrapper"},i?s:(0,c.toChecksumHexAddress)(d)),o.default.createElement("div",{className:"export-private-key-modal__divider"}),o.default.createElement("span",{className:"export-private-key-modal__body-title"},this.context.t("showPrivateKeys")),o.default.createElement("div",{className:"export-private-key-modal__password"},this.renderPasswordLabel(f),this.renderPasswordInput(f,d),p&&t?o.default.createElement("span",{className:"export-private-key-modal__password--error"},t):null),o.default.createElement("div",{className:"export-private-key-modal__password--warning"},this.context.t("privateKeyWarning")),this.renderButtons(f,d,a))}}n.default=h,m(h,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),m(h,"defaultProps",{warning:null,previousModalState:null}),m(h,"propTypes",{exportAccount:r.default.func.isRequired,selectedIdentity:r.default.object.isRequired,qtumAddress:r.default.string,isQtumAddressShow:r.default.bool,warning:r.default.node,showAccountDetailModal:r.default.func.isRequired,hideModal:r.default.func.isRequired,hideWarning:r.default.func.isRequired,clearAccountDetails:r.default.func.isRequired,previousModalState:r.default.string})}}},{package:"$root$"}],[7538,{"../../../../ducks/metamask/metamask":7859,"../../../../selectors":8267,"../../../../store/actions":8273,"./export-private-key-modal.component":7537,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=e("../../../../ducks/metamask/metamask"),i=e("../../../../selectors"),l=(a=e("./export-private-key-modal.component"))&&a.__esModule?a:{default:a};var u=(0,r.connect)((function(){let e=null;return function(t){return e=e||(0,i.getSelectedIdentity)(t),{warning:t.appState.warning,privateKey:t.appState.accountDetail.privateKey,selectedIdentity:e,previousModalState:t.appState.modal.previousModalState.name,qtumAddress:(0,s.getQtumAddress)(t,e.address),isQtumAddressShow:(0,s.isQtumAddressShow)(t)}}}),(function(e){return{exportAccount:(t,n)=>e((0,o.exportAccount)(t,n)).then((t=>(console.log("[exportAccount]",t),e((0,o.hideWarning)()),t))),showAccountDetailModal:()=>e((0,o.showModal)({name:"ACCOUNT_DETAILS"})),hideModal:()=>e((0,o.hideModal)()),hideWarning:()=>e((0,o.hideWarning)()),clearAccountDetails:()=>e((0,o.clearAccountDetails)())}}))(l.default);n.default=u}}},{package:"$root$"}],[7539,{"./export-private-key-modal.container":7538},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./export-private-key-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7540,{"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,u=0;const c=e=>{const t=`anim_${++u}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((a=>{const r=`:${e[t][a]};`;n+=a+r})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:c({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:c({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:c({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:c({"0%":{opacity:.9},"100%":{opacity:0}})},f=["transitionend","animationend"];class p extends r.Component{constructor(...e){super(...e),i(this,"content",null),i(this,"state",{willHide:!0,hidden:!0}),i(this,"addTransitionListener",((e,t)=>{if(e){const n=function(a){a&&a.target!==e||(((e,t)=>{0!==f.length&&f.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==f.length?f.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),i(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),i(this,"hasHidden",(()=>this.state.hidden)),i(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),i(this,"enter",(()=>{this.props.onShow()})),i(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),i(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),i(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),i(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),i(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),i(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},o=this.props.backdrop?r.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),r.default.createElement("span",null,r.default.createElement("div",{className:"modal",style:t},r.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),o)}}i(p,"propTypes",{backdrop:o.default.bool,backdropStyle:o.default.object,closeOnClick:o.default.bool,contentStyle:o.default.object,keyboard:o.default.bool,modalStyle:o.default.object,onShow:o.default.func,onHide:o.default.func,children:o.default.node}),i(p,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});var m=p;n.default=m}}},{package:"$root$"}],[7541,{"../../../../helpers/constants/routes":7872,"../../../../store/actions":8273,"../../../ui/button":7686,"../../../ui/identicon":7755,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("prop-types")),r=d(e("react")),o=e("react-redux"),s=d(e("../../../../store/actions")),i=f(e("../../../ui/identicon")),l=f(e("../../../ui/button")),u=e("../../../../helpers/constants/routes");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),p(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:a}=this.props,{symbol:o,address:s,image:c}=e;return r.default.createElement("div",{className:"hide-token-confirmation"},r.default.createElement("div",{className:"hide-token-confirmation__container"},r.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),r.default.createElement(i.default,{className:"hide-token-confirmation__identicon",diameter:45,address:s,image:c}),r.default.createElement("div",{className:"hide-token-confirmation__symbol"},o),r.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),r.default.createElement("div",{className:"hide-token-confirmation__buttons"},r.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),r.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(s),a.push(u.DEFAULT_ROUTE)}},this.context.t("hide")))))}}p(m,"contextTypes",{t:a.default.func}),p(m,"propTypes",{hideToken:a.default.func.isRequired,hideModal:a.default.func.isRequired,token:a.default.shape({symbol:a.default.string,address:a.default.string,image:a.default.string}),history:a.default.object});var h=(0,o.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(s.hideModal()),hideToken:t=>{e(s.ignoreTokens({tokensToIgnore:t})).then((()=>{e(s.hideModal())}))}}}))(m);n.default=h}}},{package:"$root$"}],[7542,{"./hide-token-confirmation-modal":7541},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./hide-token-confirmation-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7543,{"./modal":7547},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7544,{"./metametrics-opt-in-modal.container":7546},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./metametrics-opt-in-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7545,{"../../../../../shared/constants/metametrics":7321,"../../../ui/metafox-logo":7785,"../../../ui/page-container/page-container-footer":7793,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=l(e("../../../ui/metafox-logo")),s=l(e("../../../ui/page-container/page-container-footer")),i=e("../../../../../shared/constants/metametrics");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.Component{render(){const{trackEvent:e,t:t}=this.context,{setParticipateInMetaMetrics:n,hideModal:r}=this.props;return a.default.createElement("div",{className:"metametrics-opt-in metametrics-opt-in-modal"},a.default.createElement("div",{className:"metametrics-opt-in__main"},a.default.createElement("div",{className:"metametrics-opt-in__content"},a.default.createElement(o.default,null),a.default.createElement("div",{className:"metametrics-opt-in__body-graphic"},a.default.createElement("img",{src:"images/metrics-chart.svg",alt:""})),a.default.createElement("div",{className:"metametrics-opt-in__title"},t("metametricsHelpImproveMetaMask")),a.default.createElement("div",{className:"metametrics-opt-in__body"},a.default.createElement("div",{className:"metametrics-opt-in__description"},t("metametricsOptInDescription")),a.default.createElement("div",{className:"metametrics-opt-in__description"},t("metametricsCommitmentsIntro")),a.default.createElement("div",{className:"metametrics-opt-in__committments"},a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-check"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsAllowOptOut"))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-check"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsSendAnonymizedEvents"))),a.default.createElement("div",{className:"metametrics-opt-in__row metametrics-opt-in__break-row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverCollectKeysEtc",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverCollectKeys"},t("metametricsCommitmentsBoldNever"))]))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverCollectIP",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverCollectIP"},t("metametricsCommitmentsBoldNever"))]))),a.default.createElement("div",{className:"metametrics-opt-in__row"},a.default.createElement("i",{className:"fa fa-times"}),a.default.createElement("div",{className:"metametrics-opt-in__row-description"},t("metametricsCommitmentsNeverSellDataForProfit",[a.default.createElement("span",{className:"metametrics-opt-in__bold",key:"neverSellData"},t("metametricsCommitmentsBoldNever"))]))))),a.default.createElement("div",{className:"metametrics-opt-in__bottom-text"},t("gdprMessage",[a.default.createElement("a",{key:"metametrics-bottom-text-wrapper",href:"https://www.qtum.org/about/privacy",target:"_blank",rel:"noopener noreferrer"},t("gdprMessagePrivacyPolicy"))]))),a.default.createElement("div",{className:"metametrics-opt-in__footer"},a.default.createElement(s.default,{onCancel:()=>{n(!1).then((()=>{e({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.METRICS_OPT_OUT,properties:{action:"Metrics Option",legacy_event:!0}},{isOptIn:!0,excludeMetaMetricsId:!0}),r()}))},cancelText:t("noThanks"),hideCancel:!1,onSubmit:()=>{n(!0).then((()=>{e({category:i.EVENT.CATEGORIES.ONBOARDING,event:i.EVENT_NAMES.METRICS_OPT_IN,properties:{action:"Metrics Option",legacy_event:!0}},{isOptIn:!0}),r()}))},submitText:t("affirmAgree"),disabled:!1}))))}}n.default=d,c(d,"propTypes",{setParticipateInMetaMetrics:r.default.func,hideModal:r.default.func}),c(d,"contextTypes",{trackEvent:r.default.func,t:r.default.func})}}},{package:"$root$"}],[7546,{"../../../../helpers/higher-order-components/with-modal-props":7883,"../../../../store/actions":8273,"./metametrics-opt-in-modal.component":7545,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=l(e("../../../../helpers/higher-order-components/with-modal-props")),s=e("../../../../store/actions"),i=l(e("./metametrics-opt-in-modal.component"));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,r.compose)(o.default,(0,a.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}}),(e=>({setParticipateInMetaMetrics:t=>e((0,s.setParticipateInMetaMetrics)(t))}))))(i.default);n.default=u}}},{package:"$root$"}],[7547,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../ducks/gas/gas.duck":7855,"../../../helpers/utils/is-mobile-view":7896,"../../../store/actions":8273,"../gas-customization/gas-modal-page-container":7477,"./account-details-modal":7510,"./cancel-transaction":7518,"./confirm-delete-network":7521,"./confirm-remove-account":7524,"./confirm-reset-account":7527,"./convert-token-to-nft-modal/convert-token-to-nft-modal":7528,"./customize-nonce":7530,"./deposit-ether-modal":7533,"./edit-approval-permission":7536,"./export-private-key-modal":7539,"./fade-modal":7540,"./hide-token-confirmation-modal":7542,"./metametrics-opt-in-modal":7544,"./new-account-modal":7548,"./qr-scanner":7553,"./reject-transactions":7556,"./transaction-confirmed":7559,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=x(e("prop-types")),r=M(e("react")),o=e("react-redux"),s=M(e("../../../store/actions")),i=e("../../../ducks/gas/gas.duck"),l=x(e("../../../helpers/utils/is-mobile-view")),u=e("../../../../app/scripts/lib/util"),c=e("../../../../shared/constants/app"),d=x(e("../gas-customization/gas-modal-page-container")),f=x(e("./deposit-ether-modal")),p=x(e("./account-details-modal")),m=x(e("./export-private-key-modal")),h=x(e("./hide-token-confirmation-modal")),_=x(e("./qr-scanner")),g=x(e("./confirm-remove-account")),y=x(e("./confirm-reset-account")),E=x(e("./transaction-confirmed")),v=x(e("./cancel-transaction")),b=x(e("./fade-modal")),T=x(e("./metametrics-opt-in-modal")),O=x(e("./reject-transactions")),P=x(e("./confirm-delete-network")),k=x(e("./edit-approval-permission")),w=x(e("./new-account-modal")),N=x(e("./customize-nonce")),S=x(e("./convert-token-to-nft-modal/convert-token-to-nft-modal"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function M(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function x(e){return e&&e.__esModule?e:{default:e}}const A={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},R={...A,width:"344px",top:"15%"},I={...A,width:"309px",top:"12.5%"},j={mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},D={DEPOSIT_ETHER:{contents:r.default.createElement(f.default,null),onHide:e=>e.hideWarning(),mobileModalStyle:{width:"100%",height:"100%",transform:"none",left:"0",right:"0",margin:"0 auto",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",top:"0",display:"flex"},laptopModalStyle:{width:"initial",maxWidth:"850px",top:"calc(10% + 10px)",left:"0",right:"0",margin:"0 auto",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)",borderRadius:"7px",transform:"none",height:"calc(80% - 20px)",overflowY:"hidden"},contentStyle:{borderRadius:"7px",height:"100%"}},NEW_ACCOUNT:{contents:r.default.createElement(w.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},ACCOUNT_DETAILS:{contents:r.default.createElement(p.default,null),...j},EXPORT_PRIVATE_KEY:{contents:r.default.createElement(m.default,null),...j},HIDE_TOKEN_CONFIRMATION:{contents:r.default.createElement(h.default,null),mobileModalStyle:{width:"95%",top:(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,u.getEnvironmentType)()===c.ENVIRONMENT_TYPE_POPUP?"16px":null}},METAMETRICS_OPT_IN_MODAL:{contents:r.default.createElement(T.default,null),mobileModalStyle:{...I,width:"100%",height:"100%",top:"0px"},laptopModalStyle:{...R,top:"10%"},contentStyle:{borderRadius:"8px"}},CONFIRM_RESET_ACCOUNT:{contents:r.default.createElement(y.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:r.default.createElement(g.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:r.default.createElement(S.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:r.default.createElement(P.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},LEGACY_CUSTOMIZE_GAS:{contents:r.default.createElement(d.default,null),mobileModalStyle:{width:"100vw",height:"100vh",top:"0",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"},customOnHideOpts:{action:i.resetCustomData,args:[]}},EDIT_APPROVAL_PERMISSION:{contents:r.default.createElement(k.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:r.default.createElement(E.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:r.default.createElement(_.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},CANCEL_TRANSACTION:{contents:r.default.createElement(v.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:r.default.createElement(O.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:r.default.createElement(N.default,null),mobileModalStyle:{...I},laptopModalStyle:{...R},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},G={backgroundColor:"var(--color-overlay-default)"};class L extends r.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=D[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,a=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],o=e.contentStyle||{};return r.default.createElement(b.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:o,backdropStyle:G,closeOnClick:!n},t)}}var $,W,F;$=L,W="propTypes",F={active:a.default.bool.isRequired,hideModal:a.default.func.isRequired,hideWarning:a.default.func.isRequired,modalState:a.default.object.isRequired},W in $?Object.defineProperty($,W,{value:F,enumerable:!0,configurable:!0,writable:!0}):$[W]=F;var U=(0,o.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(s.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(s.hideWarning())}}}))(L);n.default=U}}},{package:"$root$"}],[7548,{"./new-account-modal.container":7550},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./new-account-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7549,{"../../../ui/button/button.component":7685,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../../ui/button/button.component"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{constructor(...e){super(...e),l(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),l(this,"onChange",(e=>{this.setState({alias:e.target.value})})),l(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),l(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"new-account-modal"},a.default.createElement("div",{className:"new-account-modal__content"},a.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),a.default.createElement("button",{className:"fas fa-times new-account-modal__content__header-close",title:e("close"),onClick:this.props.hideModal})),a.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),a.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),a.default.createElement("div",{className:"new-account-modal__footer"},a.default.createElement(o.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),a.default.createElement(o.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=u,l(u,"contextTypes",{t:r.default.func}),l(u,"propTypes",{hideModal:r.default.func.isRequired,newAccountNumber:r.default.number.isRequired,onSave:r.default.func.isRequired})}}},{package:"$root$"}],[7550,{"../../../../store/actions":8273,"./new-account-modal.component":7549,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("../../../../store/actions")),s=(a=e("./new-account-modal.component"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var l=(0,r.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(o.hideModal()),createAccount:t=>e(o.addNewAccount()).then((n=>(t&&e(o.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:a}=t;return{...e,...t,onSave:e=>a(e).then((e=>n(e)))}}))(s.default);n.default=l}}},{package:"$root$"}],[7551,{"./nickname-popovers.component":7552},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nickname-popovers.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7552,{"../../../../helpers/utils/util":7907,"../../../../selectors":8267,"../../../../store/actions":8273,"../../../ui/nickname-popover":7788,"../../../ui/update-nickname-popover/update-nickname-popover":7840,"@metamask/etherscan-link":1562,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),s=e("@metamask/etherscan-link"),i=e("../../../../store/actions"),l=e("../../../../selectors"),u=e("../../../../helpers/utils/util"),c=f(e("../../../ui/nickname-popover")),d=f(e("../../../ui/update-nickname-popover/update-nickname-popover"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m="SHOW_NICKNAME_POPOVER",h="ADD_NICKNAME_POPOVER",_=({address:e,onClose:t,isQtumAddressShow:n})=>{var o;const f=(0,r.useDispatch)(),[p,_]=(0,a.useState)(m),g=(0,r.useSelector)(l.getAddressBook),y=(0,r.useSelector)(l.getCurrentChainId),E=g.find((t=>t.address===e)),v=null==E?void 0:E.name,b=(0,r.useSelector)(l.getRpcPrefsForCurrentProvider),T=(0,u.getQtumAddressFromHex)(e,y),O=(0,s.getAccountLink)(T,y,{blockExplorerUrl:null!==(o=null==b?void 0:b.blockExplorerUrl)&&void 0!==o?o:null},null);return p===h?a.default.createElement(d.default,{address:n?T:e,nickname:v||null,memo:(null==E?void 0:E.memo)||null,onClose:()=>_(m),onAdd:(e,t,n)=>{try{e=(0,u.getHexAddressFromQtum)(e)}catch(e){}f((0,i.addToAddressBook)(e,t,n))}}):a.default.createElement(c.default,{address:n?T:e,nickname:v||null,onClose:t,onAdd:()=>_(h),explorerLink:O})};_.propTypes={address:o.default.string,onClose:o.default.func};var g=_;n.default=g}}},{package:"$root$"}],[7553,{"./qr-scanner.container":7555},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-scanner.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[7554,{"../../../../../app/scripts/lib/util":88,"../../../../../shared/constants/app":7316,"../../../../../shared/constants/time":7327,"../../../../helpers/utils/util":7907,"../../../../helpers/utils/webcam-utils":7908,"../../../ui/page-container/page-container-footer/page-container-footer.component":7794,"../../../ui/spinner":7816,"@zxing/library":1963,loglevel:5597,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("prop-types")),o=m(e("loglevel")),s=e("@zxing/library"),i=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),u=e("../../../../../shared/constants/time"),c=m(e("../../../ui/spinner")),d=m(e("../../../../helpers/utils/webcam-utils")),f=e("../../../../helpers/utils/util"),p=m(e("../../../ui/page-container/page-container-footer/page-container-footer.component"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g="ACCESSING_CAMERA",y="NEED_TO_ALLOW_ACCESS",E="READY";class v extends a.Component{constructor(e){super(e),_(this,"checkEnvironment",(async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,i.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,f.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){this.mounted&&this.setState({error:e})}this.initCamera()})),_(this,"checkPermissions",(async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*u.SECOND))),!this.mounted)return;this.setState({ready:E})}else this.mounted&&(this.permissionChecker=setTimeout(this.checkPermissions,u.SECOND))}catch(e){this.mounted&&this.setState({error:e})}})),_(this,"initCamera",(async()=>{this.codeReader||(this.codeReader=new s.BrowserQRCodeReader);try{await this.codeReader.getVideoInputDevices(),this.checkPermissions();const e=await this.codeReader.decodeFromInputVideoDevice(undefined,"video"),t=this.parseContent(e.text);if(!this.mounted)return;"unknown"===t.type?this.setState({error:new Error(this.context.t("unknownQrCode"))}):(this.props.qrCodeDetected(t),this.stopAndClose())}catch(e){if(!this.mounted)return;"NotAllowedError"===e.name?(o.default.info(`Permission denied: '${e}'`),this.setState({ready:y})):this.setState({error:e})}})),_(this,"stopAndClose",(()=>{this.codeReader&&this.teardownCodeReader(),this.props.hideModal()})),_(this,"tryAgain",(()=>{clearTimeout(this.permissionChecker),this.codeReader&&this.teardownCodeReader(),this.setState(this.getInitialState(),(()=>{this.checkEnvironment()}))})),this.state=this.getInitialState(),this.codeReader=null,this.permissionChecker=null,this.mounted=!1,this.props.qrCodeDetected(null)}componentDidMount(){this.mounted=!0,this.checkEnvironment()}componentDidUpdate(e,t){const{ready:n}=this.state;t.ready!==n&&(n===E?this.initCamera():n===y&&this.checkPermissions())}getInitialState(){return{ready:g,error:null}}componentWillUnmount(){this.mounted=!1,clearTimeout(this.permissionChecker),this.teardownCodeReader()}teardownCodeReader(){this.codeReader&&(this.codeReader.reset(),this.codeReader.stop(),this.codeReader=null)}parseContent(e){let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}}renderError(){const{t:e}=this.context,{error:t}=this.state;let n,r;return"NO_WEBCAM_FOUND"===t.type?(n=e("noWebcamFoundTitle"),r=e("noWebcamFound")):t.message===e("unknownQrCode")?r=e("unknownQrCode"):(n=e("unknownCameraErrorTitle"),r=e("unknownCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error"},r),a.default.createElement(p.default,{onCancel:this.stopAndClose,onSubmit:this.tryAgain,cancelText:e("cancel"),submitText:e("tryAgain")}))}renderVideo(){const{t:e}=this.context,{ready:t}=this.state;let n;return t===g?n=e("accessingYourCamera"):t===E?n=e("scanInstructions"):t===y&&(n=e("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__title"},`${e("scanQrCode")}`),a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t===E?"block":"none"}}),t===E?null:a.default.createElement(c.default,{color:"var(--color-warning-default)"}))),a.default.createElement("div",{className:"qr-scanner__status"},n))}render(){const{error:e}=this.state;return a.default.createElement("div",{className:"qr-scanner"},a.default.createElement("div",{className:"qr-scanner__close",onClick:this.stopAndClose}),e?this.renderError():this.renderVideo())}}n.default=v,_(v,"propTypes",{hideModal:r.default.func.isRequired,qrCodeDetected:r.default.func.isRequired}),_(v,"contextTypes",{t:r.default.func})}}},{package:"$root$"}],[7555,{"../../../../store/actions":8273,"./qr-scanner.component":7554,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../../store/actions"),s=(a=e("./qr-scanner.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)(null,(e=>({hideModal:()=>e((0,o.hideModal)()),qrCodeDetected:t=>e((0,o.qrCodeDetected)(t))})))(s.default);n.default=i}}},{package:"$root$"}],[7556,{"./reject-transactions.container":7558},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./reject-transactions.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7557,{"../../modal":7504,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=i(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n}=this.props;return r.default.createElement(o.default,{headerText:e("rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},r.default.createElement("div",null,r.default.createElement("div",{className:"reject-transactions__description"},e("rejectTxsDescription",[n]))))}}n.default=u,l(u,"contextTypes",{t:a.default.func.isRequired}),l(u,"propTypes",{onSubmit:a.default.func.isRequired,hideModal:a.default.func.isRequired,unapprovedTxCount:a.default.number.isRequired})}}},{package:"$root$"}],[7558,{"../../../../helpers/higher-order-components/with-modal-props":7883,"./reject-transactions.component":7557,"react-redux":6775,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=e("redux"),o=i(e("../../../../helpers/higher-order-components/with-modal-props")),s=i(e("./reject-transactions.component"));function i(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.compose)(o.default,(0,a.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(s.default);n.default=l}}},{package:"$root$"}],[7559,{"./transaction-confirmed.container":7561},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7560,{"../../modal":7504,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../modal"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return a.default.createElement(o.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement("i",{className:"fa fa-check-circle fa-3x",style:{color:"var(--color-success-default)"}}),a.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),a.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=u,l(u,"contextTypes",{t:r.default.func}),l(u,"propTypes",{onSubmit:r.default.func,hideModal:r.default.func})}}},{package:"$root$"}],[7561,{"../../../../helpers/higher-order-components/with-modal-props":7883,"./transaction-confirmed.component":7560},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(e("../../../../helpers/higher-order-components/with-modal-props")),r=o(e("./transaction-confirmed.component"));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)(r.default);n.default=s}}},{package:"$root$"}],[7562,{"./multi-layer-fee-message":7563},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7563,{"../../../../shared/modules/conversion.utils":7332,"../../../contexts/i18n":7844,"../../../helpers/constants/common":7865,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":7899,"../../../helpers/utils/transactions.util":7905,"../transaction-detail-item/transaction-detail-item.component":7647,"../user-preferenced-currency-display":7661,"@sentry/browser":1770,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=e("@sentry/browser"),s=p(e("../transaction-detail-item/transaction-detail-item.component")),i=p(e("../user-preferenced-currency-display")),l=p(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),u=e("../../../helpers/constants/common"),c=e("../../../contexts/i18n"),d=e("../../../helpers/utils/transactions.util"),f=e("../../../../shared/modules/conversion.utils");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:r}){const p=(0,a.useContext)(c.I18nContext),[m,h]=(0,a.useState)(null);let _,g="unknown";null!==m&&(_=f.toBigNumber.hex(m),g=`${f.toNormalizedDenomination.WEI(_).toFixed(12)} ${n}`);const y=(0,d.sumHexes)(t||"0x0",m||"0x0"),E=(0,d.sumHexes)(y||"0x0",e.txParams.value||"0x0"),v=f.toBigNumber.hex(E),b=`${f.toNormalizedDenomination.WEI(v).toFixed(12)} ${n}`;(0,a.useEffect)((()=>{(async()=>{try{const t=await(0,l.default)(global.eth,e);h(t)}catch(e){(0,o.captureException)(e),h(null)}})()}),[e]);const T=a.default.createElement(i.default,{type:u.SECONDARY,value:y,showFiat:!0,hideLabel:!0}),O=a.default.createElement(i.default,{type:u.SECONDARY,value:E,showFiat:!0,hideLabel:!0});return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(s.default,{key:"total-item",detailTitle:p("gasFee"),detailTotal:g,detailText:T,noBold:r,flexWidthValues:r}),a.default.createElement(s.default,{key:"total-item",detailTitle:p("total"),detailTotal:b,detailText:O,subTitle:p("transactionDetailMultiLayerTotalSubtitle"),noBold:r,flexWidthValues:r}))}h.propTypes={transaction:r.default.object,layer2fee:r.default.string,nativeCurrency:r.default.string,plainStyle:r.default.bool}}}},{package:"$root$"}],[7564,{"./multiple-notifications.component":7565},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7565,{classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("classnames")),o=s(e("prop-types"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,o=t.filter(Boolean);return 0===o.length?null:a.default.createElement("div",{className:(0,r.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e})},o,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},o.length>1?a.default.createElement("i",{className:(0,r.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=u,l(u,"defaultProps",{children:[],classNames:[]}),l(u,"propTypes",{children:o.default.array,classNames:o.default.array})}}},{package:"$root$"}],[7566,{"./network-display":7567},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7567,{"../../../../shared/constants/network":7322,"../../../helpers/constants/design-system":7868,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../ui/chip/chip":7694,"../../ui/color-indicator":7697,"../../ui/icon/icon-caret-down":7727,"../../ui/loading-indicator":7764,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=h(e("react")),r=h(e("prop-types")),o=h(e("classnames")),s=e("react-redux"),i=e("../../../../shared/constants/network"),l=h(e("../../ui/loading-indicator")),u=h(e("../../ui/color-indicator")),c=e("../../../helpers/constants/design-system"),d=h(e("../../ui/chip/chip")),f=h(e("../../ui/icon/icon-caret-down")),p=e("../../../hooks/useI18nContext"),m=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function _({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:r,onClick:h}){var _;const g=(0,s.useSelector)(m.isNetworkLoading),y=(0,s.useSelector)((e=>({nickname:e.metamask.provider.nickname,type:e.metamask.provider.type}))),E=(0,p.useI18nContext)();let{nickname:v,type:b}=null!=r?r:y,T=null;return i.QTUM_PROVIDER_TYPES.includes(v)?(T=v,v=i.NETWORK_TO_NAME_MAP[v]||v):i.QTUM_PROVIDER_TYPES.includes(b)&&(T=b||v,v=i.NETWORK_TO_NAME_MAP[b]||v),a.default.createElement(d.default,{borderColor:h?c.COLORS.BORDER_DEFAULT:c.COLORS.BORDER_MUTED,onClick:h,leftIcon:a.default.createElement(l.default,{alt:E("attemptingConnect"),title:E("attemptingConnect"),isLoading:g},a.default.createElement(u.default,{color:b===i.NETWORK_TYPE_RPC?T||c.COLORS.ICON_MUTED:b,size:e,type:u.default.TYPES.FILLED,iconClassName:b!==i.NETWORK_TYPE_RPC||e===c.SIZES.XS||T?undefined:"fa fa-question"})),rightIcon:h?a.default.createElement(f.default,{size:16,className:"network-display__icon"}):null,label:b===i.NETWORK_TYPE_RPC?null!==(_=v)&&void 0!==_?_:E("privateNetwork"):E(b),className:(0,o.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof h}),labelProps:{variant:c.TYPOGRAPHY.H7,...n}})}_.propTypes={indicatorSize:r.default.oneOf(Object.values(c.SIZES)),labelProps:d.default.propTypes.labelProps,targetNetwork:r.default.shape({type:r.default.oneOf([...Object.keys(i.NETWORK_TYPE_TO_ID_MAP),i.NETWORK_TYPE_RPC]),nickname:r.default.string}),disabled:r.default.bool,onClick:r.default.func},_.defaultProps={indicatorSize:c.SIZES.LG}}}},{package:"$root$"}],[7568,{"./permission-page-container-content":7569,"./permission-page-container.container":7572},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=o(e("./permission-page-container.container")),r=o(e("./permission-page-container-content"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[7569,{"./permission-page-container-content.component":7570},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7570,{"../../../ui/tooltip":7832,"../../permissions-connect-header":7575,"../../permissions-connect-permission-list":7577,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=u(e("../../permissions-connect-header")),s=u(e("../../../ui/tooltip")),i=u(e("../../permissions-connect-permission-list"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e}=this.props;return r.default.createElement("div",{className:"permission-approval-container__content__requested"},r.default.createElement(i.default,{permissions:e}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return r.default.createElement(s.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:r.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>r.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a,selectedPermissions:r}=this.props,{t:o}=this.context;return t.extensionId?o("externalExtension",[t.extensionId]):r.eth_accounts?a?o("connectToAll",[this.renderAccountTooltip(o("connectToAllAccounts"))]):n.length>1?o("connectToMultiple",[this.renderAccountTooltip(o("connectToMultipleNumberOfAccounts",[n.length]))]):o("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):o("permissionRequestCapitalized")}render(){const{subjectMetadata:e}=this.props,{t:t}=this.context,n=this.getTitle();return r.default.createElement("div",{className:"permission-approval-container__content"},r.default.createElement("div",{className:"permission-approval-container__content-container"},r.default.createElement(o.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:n,headerText:e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo"),siteOrigin:e.origin}),r.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=d,c(d,"propTypes",{subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool}),c(d,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),c(d,"contextTypes",{t:a.default.func})}}},{package:"$root$"}],[7571,{".":7568,"../../../../shared/constants/metametrics":7321,"../../ui/page-container":7791,"../permissions-connect-footer":7573,lodash:5584,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=e("lodash"),s=e("../../../../shared/constants/metametrics"),i=e("../../ui/page-container"),l=d(e("../permissions-connect-footer")),u=e(".");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.Component{constructor(...e){super(...e),f(this,"state",{selectedPermissions:this.getRequestedMethodState(this.getRequestedMethodNames(this.props))}),f(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),f(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedIdentities:a}=this.props,r={...e,permissions:{...e.permissions},approvedAccounts:a.map((e=>e.address))};Object.keys(this.state.selectedPermissions).forEach((e=>{this.state.selectedPermissions[e]||delete r.permissions[e]})),Object.keys(r.permissions).length>0?t(r):n(r.metadata.id)}))}componentDidUpdate(){const e=this.getRequestedMethodNames(this.props);(0,o.isEqual)(Object.keys(this.state.selectedPermissions),e)||this.setState({selectedPermissions:this.getRequestedMethodState(e)})}getRequestedMethodState(e){return e.reduce(((e,t)=>(e[t]=!0,e)),{})}getRequestedMethodNames(e){return Object.keys(e.request.permissions||{})}componentDidMount(){this.context.trackEvent({category:s.EVENT.CATEGORIES.AUTH,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}})}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a}=this.props;return r.default.createElement("div",{className:"page-container permission-approval-container"},r.default.createElement(u.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:this.state.selectedPermissions,selectedIdentities:n,allIdentitiesSelected:a}),r.default.createElement("div",{className:"permission-approval-container__footers"},r.default.createElement(l.default,null),r.default.createElement(i.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=p,f(p,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool,request:a.default.object,requestMetadata:a.default.object,targetSubjectMetadata:a.default.shape({name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string})}),f(p,"defaultProps",{request:{},requestMetadata:{},selectedIdentities:[],allIdentitiesSelected:!1}),f(p,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$"}],[7572,{"../../../selectors":8267,"./permission-page-container.component":7571,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),s=(a=e("./permission-page-container.component"))&&a.__esModule?a:{default:a};var i=(0,r.connect)(((e,t)=>{const{selectedIdentities:n}=t,a=(0,o.getMetaMaskIdentities)(e);return{allIdentitiesSelected:Object.keys(n).length===Object.keys(a).length&&n.length>1}}))(s.default);n.default=i}}},{package:"$root$"}],[7573,{"./permissions-connect-footer.component":7574},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7574,{"../../../helpers/constants/zendesk-url":7875,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=c(e("prop-types")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),l=c(e("../../../helpers/constants/zendesk-url"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}class d extends i.Component{render(){const{t:e}=this.context;return i.default.createElement("div",{className:"permissions-connect-footer"},i.default.createElement("div",{className:"permissions-connect-footer__text"},i.default.createElement("div",null,e("onlyConnectTrust")),i.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,a=d,r="contextTypes",o={t:s.default.func},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7575,{"./permissions-connect-header.component":7576},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7576,{"../../../helpers/constants/design-system":7868,"../../ui/box":7682,"../../ui/site-origin":7812,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=c(e("classnames")),s=c(e("../../ui/site-origin")),i=c(e("../../ui/box")),l=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,rightIcon:a}=this.props;return r.default.createElement("div",{className:"permissions-connect-header__icon"},r.default.createElement(s.default,{chip:!0,siteOrigin:n,iconSrc:e,name:t,rightIcon:a,size:102}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:a}=this.props;return r.default.createElement(i.default,d({className:(0,o.default)("permissions-connect-header",t),flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JUSTIFY_CONTENT.CENTER},e),this.renderHeaderIcon(),r.default.createElement("div",{className:"permissions-connect-header__title"},n),r.default.createElement("div",{className:"permissions-connect-header__subtitle"},a))}}n.default=p,f(p,"propTypes",{className:a.default.string,iconUrl:a.default.string,iconName:a.default.string.isRequired,siteOrigin:a.default.string.isRequired,headerTitle:a.default.node,boxProps:a.default.shape({...i.default.propTypes}),headerText:a.default.string,rightIcon:a.default.node}),f(p,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$"}],[7577,{"./permissions-connect-permission-list":7578},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./permissions-connect-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7578,{"../../../helpers/utils/permission":7900,"../../../hooks/useI18nContext":7927,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=i(e("react")),r=i(e("prop-types")),o=e("../../../helpers/utils/permission"),s=e("../../../hooks/useI18nContext");function i(e){return e&&e.__esModule?e:{default:e}}function l({permissions:e}){const t=(0,s.useI18nContext)();return a.default.createElement("div",{className:"permissions-connect-permission-list"},Object.entries(e).reduce(((e,[n,r])=>e.concat(function(e,t,n){const{label:r,leftIcon:s,rightIcon:i}=(0,o.getPermissionDescription)(e,t,n);return Array.isArray(r)?r.map(((e,n)=>a.default.createElement("div",{className:"permission",key:`${t}-${n}`},a.default.createElement("i",{className:s}),e,i&&a.default.createElement("i",{className:i})))):[a.default.createElement("div",{className:"permission",key:t},a.default.createElement("i",{className:s}),r,i&&a.default.createElement("i",{className:i}))]}(t,n,r))),[]))}l.propTypes={permissions:r.default.object.isRequired}}}},{package:"$root$"}],[7579,{"../../../../app/scripts/lib/util":88,"../../../../shared/constants/app":7316,"../../../../shared/constants/time":7327,"../../../helpers/utils/webcam-utils":7908,"../../../hooks/useI18nContext":7927,"../../ui/page-container/page-container-footer/page-container-footer.component":7794,"./enhanced-reader":7580,"@ngraveio/bc-ur":1741,loglevel:5597,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=m(e("loglevel")),o=e("@ngraveio/bc-ur"),s=m(e("prop-types")),i=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),u=m(e("../../../helpers/utils/webcam-utils")),c=m(e("../../ui/page-container/page-container-footer/page-container-footer.component")),d=e("../../../hooks/useI18nContext"),f=e("../../../../shared/constants/time"),p=m(e("./enhanced-reader"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const _="ACCESSING_CAMERA",g="NEED_TO_ALLOW_ACCESS",y="READY",E=({isReadingWallet:e,handleCancel:t,handleSuccess:n,setErrorTitle:s})=>{const m=(0,d.useI18nContext)(),[h,E]=(0,a.useState)(_),[v,b]=(0,a.useState)(null),[T,O]=(0,a.useState)(new o.URDecoder);let P=null;const k=(0,a.useRef)(!1),w=async()=>{try{const{environmentReady:e}=await u.default.checkStatus();if(!e&&(0,i.getEnvironmentType)()!==l.ENVIRONMENT_TYPE_FULLSCREEN){const e=new URL(window.location.href).hash,t=e?e.substring(1):null;global.platform.openExtensionInBrowser(t)}}catch(e){k.current&&b(e)}return C()},N=async()=>{try{const{permissions:e}=await u.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*f.SECOND))),!k.current)return;E(y)}else k.current&&(P=setTimeout(N,f.SECOND),E(g))}catch(e){k.current&&b(e)}},S=t=>{try{if(!t)return;if(T.receivePart(t),T.isComplete()){const e=T.resultUR();n(e).catch(b)}}catch(t){s(m(e?"QRHardwareUnknownQRCodeTitle":"QRHardwareInvalidTransactionTitle")),b(new Error(m("unknownQrCode")))}},C=()=>{try{N()}catch(e){if(!k.current)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),E(g)):b(e)}};(0,a.useEffect)((()=>(k.current=!0,w(),()=>{k.current=!1,clearTimeout(P)})),[]),(0,a.useEffect)((()=>{h===y?C():h===g&&N()}),[h]);const M=()=>{clearTimeout(P),E(_),b(null),O(new o.URDecoder),w()};return a.default.createElement("div",{className:"qr-scanner"},v?(()=>{let n,r;return"NO_WEBCAM_FOUND"===v.type?(n=m("noWebcamFoundTitle"),r=m("noWebcamFound")):v.message===m("unknownQrCode")?r=m(e?"QRHardwareUnknownWalletQRCode":"unknownQrCode"):v.message===m("QRHardwareMismatchedSignId")?r=m("QRHardwareMismatchedSignId"):(n=m("unknownCameraErrorTitle"),r=m("unknownCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),n?a.default.createElement("div",{className:"qr-scanner__title"},n):null,a.default.createElement("div",{className:"qr-scanner__error"},r),a.default.createElement(c.default,{onCancel:()=>{s(""),t()},onSubmit:()=>{s(""),M()},cancelText:m("cancel"),submitText:m("tryAgain"),submitButtonType:"confirm"}))})():(()=>{let e;return h===_?e=m("accessingYourCamera"):h===y?e=m("QRHardwareScanInstructions"):h===g&&(e=m("youNeedToAllowCameraAccess")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement(p.default,{handleScan:S})),e&&a.default.createElement("div",{className:"qr-scanner__status"},e))})())};E.propTypes={isReadingWallet:s.default.bool.isRequired,handleCancel:s.default.func.isRequired,handleSuccess:s.default.func.isRequired,setErrorTitle:s.default.func.isRequired};var v=E;n.default=v}}},{package:"$root$"}],[7580,{"../../../../shared/constants/time":7327,"../../ui/spinner":7816,"@zxing/browser":1952,"@zxing/library":1963,loglevel:5597,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("@zxing/library"),o=e("@zxing/browser"),s=c(e("loglevel")),i=c(e("prop-types")),l=e("../../../../shared/constants/time"),u=c(e("../../ui/spinner"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=({handleScan:e})=>{const[t,n]=(0,a.useState)(!1),i=(0,a.useMemo)((()=>{const e=new Map;return e.set(r.DecodeHintType.POSSIBLE_FORMATS,[r.BarcodeFormat.QR_CODE]),new o.BrowserQRCodeReader(e,{delayBetweenScanAttempts:100*l.MILLISECOND,delayBetweenScanSuccess:100*l.MILLISECOND})}),[]);return(0,a.useEffect)((()=>{const t=document.getElementById("video"),a=()=>{n(!0)};t.addEventListener("canplay",a);const r=i.decodeFromVideoDevice(undefined,"video",(t=>{t&&e(t.getText())}));return()=>{t.removeEventListener("canplay",a),r.then((e=>{e&&e.stop()})).catch(s.default.info)}}),[]),a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:t?"block":"none",width:"100%",filter:"blur(4px)"}}),t?null:a.default.createElement(u.default,{color:"var(--color-warning-default)"}))};f.propTypes={handleScan:i.default.func.isRequired};var p=f;n.default=p}}},{package:"$root$"}],[7581,{"./qr-hardware-popover":7582},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-popover"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[7582,{"../../../../shared/constants/app":7316,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/popover":7798,"./qr-hardware-sign-request":7583,"./qr-hardware-wallet-importer":7587,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=e("../../../selectors"),s=f(e("../../ui/popover")),i=e("../../../hooks/useI18nContext"),l=e("../../../store/actions"),u=e("../../../../shared/constants/app"),c=f(e("./qr-hardware-wallet-importer")),d=f(e("./qr-hardware-sign-request"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,r.useSelector)(o.getCurrentQRHardwareState),{sync:f,sign:p}=n,m=null==f?void 0:f.reading,h=null==p?void 0:p.request,_=m||h,[g,y]=(0,a.useState)(""),{txData:E}=(0,r.useSelector)((e=>e.confirmTransaction)),v=(0,a.useMemo)((()=>E),[null==p||null===(e=p.request)||void 0===e?void 0:e.requestId]),b=(0,r.useDispatch)(),T=(0,a.useCallback)((()=>b((0,l.cancelSyncQRHardware)())),[b]),O=(0,a.useCallback)((()=>{let e=l.cancelTx;switch(v.type){case u.MESSAGE_TYPE.PERSONAL_SIGN:e=l.cancelPersonalMsg;break;case u.MESSAGE_TYPE.ETH_SIGN:e=l.cancelMsg;break;case u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA:e=l.cancelTypedMsg;break;default:e=l.cancelTx}b(e(v)),b((0,l.cancelQRHardwareSignRequest)())}),[b,v]),P=(0,a.useMemo)((()=>{let e="";return h?e=t("QRHardwareSignRequestTitle"):m&&(e=t("QRHardwareWalletImporterTitle")),""!==g&&(e=g),e}),[h,m,t,g]);return _?a.default.createElement(s.default,{title:P,onClose:m?T:O},m&&a.default.createElement(c.default,{handleCancel:T,setErrorTitle:y}),h&&a.default.createElement(d.default,{setErrorTitle:y,handleCancel:O,request:p.request})):null};n.default=m}}},{package:"$root$"}],[7583,{"./qr-hardware-sign-request.component":7585},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-sign-request.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[7584,{"../../../../helpers/constants/design-system":7868,"../../../../hooks/useI18nContext":7927,"../../../ui/box":7682,"../../../ui/page-container":7791,"../../../ui/typography":7836,"@ngraveio/bc-ur":1741,buffer:2434,"prop-types":5840,"qrcode.react":5961,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=f(e("qrcode.react")),o=e("@ngraveio/bc-ur"),s=f(e("prop-types")),i=f(e("../../../ui/typography")),l=f(e("../../../ui/box")),u=e("../../../../hooks/useI18nContext"),c=e("../../../../helpers/constants/design-system"),d=e("../../../ui/page-container");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({type:e,cbor:n,cancelQRHardwareSignRequest:s,toRead:f})=>{const p=(0,u.useI18nContext)(),m=(0,a.useMemo)((()=>new o.UREncoder(new o.UR(t.from(n,"hex"),e),400)),[n,e]),[h,_]=(0,a.useState)(m.nextPart());return(0,a.useEffect)((()=>{const e=setInterval((()=>{_(m.nextPart())}),100);return()=>{clearInterval(e)}}),[m]),a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null,a.default.createElement(i.default,{align:c.TEXT_ALIGN.CENTER},p("QRHardwareSignRequestSubtitle"))),a.default.createElement(l.default,{paddingTop:4,paddingBottom:4,display:c.DISPLAY.FLEX,alignItems:c.ALIGN_ITEMS.CENTER,flexDirection:c.FLEX_DIRECTION.COLUMN},a.default.createElement("div",{style:{padding:20,backgroundColor:"var(--qr-code-white-background)"}},a.default.createElement(r.default,{value:h.toUpperCase(),size:250}))),a.default.createElement(l.default,{paddingBottom:4,paddingLeft:4,paddingRight:4},a.default.createElement(i.default,{align:c.TEXT_ALIGN.CENTER},p("QRHardwareSignRequestDescription"))),a.default.createElement(d.PageContainerFooter,{onCancel:s,onSubmit:f,cancelText:p("QRHardwareSignRequestCancel"),submitText:p("QRHardwareSignRequestGetSignature"),submitButtonType:"confirm"}))};m.propTypes={type:s.default.string.isRequired,cbor:s.default.string.isRequired,cancelQRHardwareSignRequest:s.default.func.isRequired,toRead:s.default.func.isRequired};var h=m;n.default=h}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$"}],[7585,{"../../../../store/actions":8273,"./player":7584,"./reader":7586,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),s=l(e("./player")),i=l(e("./reader"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=({request:e,handleCancel:t,setErrorTitle:n})=>{const[r,l]=(0,a.useState)("play"),u=(0,a.useCallback)((()=>l("read")),[]);return"play"===r?(()=>{const{payload:n}=e;return a.default.createElement(s.default,{type:n.type,cbor:n.cbor,cancelQRHardwareSignRequest:t,toRead:u})})():a.default.createElement(i.default,{cancelQRHardwareSignRequest:t,submitQRHardwareSignature:o.submitQRHardwareSignature,requestId:e.requestId,setErrorTitle:n})};c.propTypes={request:r.default.object.isRequired,handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};var d=c;n.default=d}}},{package:"$root$"}],[7586,{"../../../../hooks/useI18nContext":7927,"../base-reader":7579,"@keystonehq/bc-ur-registry-eth":953,"prop-types":5840,react:6817,uuid:7148},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=e("@keystonehq/bc-ur-registry-eth"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("uuid")),s=c(e("prop-types")),i=c(e("../base-reader")),l=e("../../../../hooks/useI18nContext");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}const d=({submitQRHardwareSignature:e,cancelQRHardwareSignRequest:t,requestId:n,setErrorTitle:s})=>{const u=(0,l.useI18nContext)();return a.default.createElement(i.default,{isReadingWallet:!1,handleCancel:()=>{t()},handleSuccess:async t=>{if("eth-signature"===t.type){const a=r.ETHSignature.fromCBOR(t.cbor).getRequestId(),i=o.stringify(a);if(i===n)return await e(i,t.cbor.toString("hex"));throw s(u("QRHardwareInvalidTransactionTitle")),new Error(u("QRHardwareMismatchedSignId"))}throw s(u("QRHardwareInvalidTransactionTitle")),new Error(u("unknownQrCode"))},setErrorTitle:s})};d.propTypes={submitQRHardwareSignature:s.default.func.isRequired,cancelQRHardwareSignRequest:s.default.func.isRequired,requestId:s.default.string.isRequired,setErrorTitle:s.default.func.isRequired};var f=d;n.default=f}}},{package:"$root$"}],[7587,{"./qr-hardware-wallet-importer.component":7588},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./qr-hardware-wallet-importer.component"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[7588,{"../../../../hooks/useI18nContext":7927,"../../../../store/actions":8273,"../base-reader":7579,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../store/actions"),s=l(e("../base-reader")),i=e("../../../../hooks/useI18nContext");function l(e){return e&&e.__esModule?e:{default:e}}const u=({handleCancel:e,setErrorTitle:t})=>{const n=(0,i.useI18nContext)();return a.default.createElement(s.default,{isReadingWallet:!0,handleCancel:e,handleSuccess:async e=>{if("crypto-hdkey"===e.type)return await(0,o.submitQRHardwareCryptoHDKey)(e.cbor.toString("hex"));if("crypto-account"===e.type)return await(0,o.submitQRHardwareCryptoAccount)(e.cbor.toString("hex"));throw t(n("QRHardwareUnknownQRCodeTitle")),new Error(n("unknownQrCode"))},setErrorTitle:t})};u.propTypes={handleCancel:r.default.func.isRequired,setErrorTitle:r.default.func.isRequired};var c=u;n.default=c}}},{package:"$root$"}],[7589,{"./recovery-phrase-reminder":7590},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./recovery-phrase-reminder"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7590,{"../../../helpers/constants/design-system":7868,"../../../helpers/constants/routes":7872,"../../../hooks/useI18nContext":7927,"../../ui/box":7682,"../../ui/button":7686,"../../ui/popover":7798,"../../ui/typography":7836,"prop-types":5840,react:6817,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=p(e("react")),r=p(e("prop-types")),o=e("react-router-dom"),s=e("../../../hooks/useI18nContext"),i=p(e("../../ui/box")),l=p(e("../../ui/button")),u=p(e("../../ui/popover")),c=p(e("../../ui/typography")),d=e("../../../helpers/constants/design-system"),f=e("../../../helpers/constants/routes");function p(e){return e&&e.__esModule?e:{default:e}}function m({onConfirm:e,hasBackedUp:t}){const n=(0,s.useI18nContext)(),r=(0,o.useHistory)();return a.default.createElement(u.default,{centerTitle:!0,title:n("recoveryPhraseReminderTitle")},a.default.createElement(i.default,{paddingRight:4,paddingBottom:6,paddingLeft:4,className:"recovery-phrase-reminder"},a.default.createElement(c.default,{color:d.COLORS.TEXT_DEFAULT,align:d.TEXT_ALIGN.CENTER,variant:d.TYPOGRAPHY.Paragraph,boxProps:{marginTop:0,marginBottom:4}},n("recoveryPhraseReminderSubText")),a.default.createElement(i.default,{marginTop:4,marginBottom:8},a.default.createElement("ul",{className:"recovery-phrase-reminder__list"},a.default.createElement("li",null,a.default.createElement(c.default,{as:"span",color:d.COLORS.TEXT_DEFAULT,fontWeight:d.FONT_WEIGHT.BOLD},n("recoveryPhraseReminderItemOne"))),a.default.createElement("li",null,n("recoveryPhraseReminderItemTwo")),a.default.createElement("li",null,t?n("recoveryPhraseReminderHasBackedUp"):a.default.createElement(a.default.Fragment,null,n("recoveryPhraseReminderHasNotBackedUp"),a.default.createElement(i.default,{display:d.DISPLAY.INLINE_BLOCK,marginLeft:1},a.default.createElement(l.default,{type:"link",onClick:()=>{r.push(f.INITIALIZE_BACKUP_SEED_PHRASE_ROUTE)},style:{fontSize:"inherit",padding:0}},n("recoveryPhraseReminderBackupStart"))))))),a.default.createElement(i.default,{justifyContent:d.JUSTIFY_CONTENT.CENTER},a.default.createElement(i.default,{width:d.BLOCK_SIZES.TWO_FIFTHS},a.default.createElement(l.default,{type:"primary",onClick:e},n("recoveryPhraseReminderConfirm"))))))}m.propTypes={hasBackedUp:r.default.bool.isRequired,onConfirm:r.default.func.isRequired}}}},{package:"$root$"}],[7591,{"./selected-account.container":7593},function(){with(this)return function(){"use strict";return function(e,t,n){var a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=((a=e("./selected-account.container"))&&a.__esModule?a:{default:a}).default;n.default=r}}},{package:"$root$"}],[7592,{"../../../../shared/constants/time":7327,"../../../../shared/modules/hexstring-utils":7336,"../../../helpers/utils/util":7907,"../../ui/icon/copy-icon.component":7726,"../../ui/tooltip":7832,"copy-to-clipboard":2518,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("copy-to-clipboard")),s=e("../../../helpers/utils/util"),i=d(e("../../ui/tooltip")),l=d(e("../../ui/icon/copy-icon.component")),u=e("../../../../shared/modules/hexstring-utils"),c=e("../../../../shared/constants/time");function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),p(this,"state",{copied:!1})}componentDidMount(){this.copyTimeout=null}componentWillUnmount(){this.copyTimeout&&(clearTimeout(this.copyTimeout),this.copyTimeout=null)}render(){const{t:e}=this.context,{selectedIdentity:t,qtumAddress:n,isQtumAddressShow:r}=this.props,d=(0,u.toChecksumHexAddress)(t.address);return a.default.createElement("div",{className:"selected-account"},a.default.createElement(i.default,{wrapperClassName:"selected-account__tooltip-wrapper",position:"bottom",title:this.state.copied?e("copiedExclamation"):e("copyToClipboard")},a.default.createElement("button",{className:"selected-account__clickable",onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*c.SECOND),(0,o.default)(r?n:d)}},a.default.createElement("div",{className:"selected-account__name"},t.name),a.default.createElement("div",{className:"selected-account__address"},r?(0,s.shortenAddress)(n):(0,s.shortenAddress)(d),a.default.createElement("div",{className:"selected-account__copy"},a.default.createElement(l.default,{size:11,color:"var(--color-icon-alternative)"}))))))}}p(m,"contextTypes",{t:r.default.func}),p(m,"propTypes",{selectedIdentity:r.default.object.isRequired});var h=m;n.default=h}}},{package:"$root$"}],[7593,{"../../../ducks/metamask/metamask":7859,"../../../selectors":8267,"./selected-account.component":7592,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),i=(a=e("./selected-account.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((e=>({selectedIdentity:(0,o.getSelectedIdentity)(e),qtumAddress:(0,s.getQtumAddress)(e,(0,o.getSelectedIdentity)(e).address),isQtumAddressShow:(0,s.isQtumAddressShow)(e)})))(i.default);n.default=l}}},{package:"$root$"}],[7594,{"./signature-request-original.container":7596},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7595,{"../../../../shared/constants/app":7316,"../../../../shared/constants/metametrics":7321,"../../../../shared/modules/conversion.utils":7332,"../../../helpers/utils/util":7907,"../../ui/button":7686,"../../ui/identicon":7755,"../../ui/site-icon":7810,"../../ui/site-origin":7812,"../account-list-item":7348,"../ledger-instruction-field":7490,buffer:2434,classnames:2484,"ethereumjs-util":2891,"prop-types":5840,react:6817,"react-inspector":6730},function(){with(this)return function(){"use strict";return function(e,t,n){(function(t){(function(){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=y(e("prop-types")),o=e("ethereumjs-util"),s=y(e("classnames")),i=e("react-inspector"),l=y(e("../ledger-instruction-field")),u=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/metametrics"),d=e("../../../helpers/utils/util"),f=y(e("../../ui/identicon")),p=y(e("../account-list-item")),m=e("../../../../shared/modules/conversion.utils"),h=y(e("../../ui/button")),_=y(e("../../ui/site-icon")),g=y(e("../../ui/site-origin"));function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends a.Component{constructor(...e){super(...e),v(this,"state",{fromAccount:this.props.fromAccount}),v(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-signature__header"},a.default.createElement("div",{className:"request-signature__header-background"}),a.default.createElement("div",{className:"request-signature__header__text"},this.context.t("sigRequest")),a.default.createElement("div",{className:"request-signature__header__tip-container"},a.default.createElement("div",{className:"request-signature__header__tip"}))))),v(this,"renderAccount",(()=>{const{fromAccount:e}=this.state;return a.default.createElement("div",{className:"request-signature__account"},a.default.createElement("div",{className:"request-signature__account-text"},`${this.context.t("account")}:`),a.default.createElement("div",{className:"request-signature__account-item"},a.default.createElement(p.default,{account:e})))})),v(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t}=this.props,{fromAccount:{balance:n}}=this.state,r=(0,m.conversionUtil)(n,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",numberOfDecimals:6,conversionRate:e});return a.default.createElement("div",{className:"request-signature__balance"},a.default.createElement("div",{className:"request-signature__balance-text"},`${this.context.t("balance")}:`),a.default.createElement("div",{className:"request-signature__balance-value"},`${r} ${t}`))})),v(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-signature__request-icon"},a.default.createElement(f.default,{diameter:40,address:e}))})),v(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-signature__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),v(this,"renderOriginInfo",(()=>{const{txData:e,subjectMetadata:t}=this.props,{t:n}=this.context,r=e.msgParams.origin?null==t?void 0:t[e.msgParams.origin]:null;return a.default.createElement("div",{className:"request-signature__origin-row"},a.default.createElement("div",{className:"request-signature__origin-label"},`${n("origin")}:`),null!=r&&r.iconUrl?a.default.createElement(_.default,{className:"request-signature__origin-icon",icon:r.iconUrl,name:(0,d.getURLHostName)(r.origin)||r.origin,size:24}):null,a.default.createElement(g.default,{className:"request-signature__origin",siteOrigin:e.msgParams.origin}))})),v(this,"msgHexToText",(e=>{try{const n=(0,o.stripHexPrefix)(e),a=t.from(n,"hex");return 32===a.length?e:a.toString("utf8")}catch(t){return e}})),v(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:r}=JSON.parse(e);return a.default.createElement("div",{className:"request-signature__typed-container"},n?a.default.createElement("div",null,a.default.createElement("h1",null,t("domain")),a.default.createElement(i.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",r?a.default.createElement("div",null,a.default.createElement("h1",null,t("message")),a.default.createElement(i.ObjectInspector,{data:r,expandLevel:1,name:"message"})):"")})),v(this,"renderBody",(()=>{let e,t=`${this.context.t("youSign")}:`;const{txData:n}=this.props,{type:r,msgParams:{data:o}}=n;return r===u.MESSAGE_TYPE.PERSONAL_SIGN||r===u.MESSAGE_TYPE.BTC_PERSONAL_SIGN?e=[{name:this.context.t("message"),value:this.msgHexToText(o)}]:r===u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||r===u.MESSAGE_TYPE.BTC_SIGN_TYPED_DATA?e=o:r!==u.MESSAGE_TYPE.ETH_SIGN&&r!==u.MESSAGE_TYPE.BTC_SIGN||(e=[{name:this.context.t("message"),value:o}],t=this.context.t("signNotice")),a.default.createElement("div",{className:"request-signature__body"},this.renderAccountInfo(),this.renderOriginInfo(),a.default.createElement("div",{className:(0,s.default)("request-signature__notice",{"request-signature__warning":r===u.MESSAGE_TYPE.ETH_SIGN||r===u.MESSAGE_TYPE.BTC_SIGN})},t,r===u.MESSAGE_TYPE.ETH_SIGN||r===u.MESSAGE_TYPE.BTC_SIGN?a.default.createElement("div",null):null),a.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),a.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},a.default.createElement("div",{className:"request-signature__row-title"},`${e}:`),a.default.createElement("div",{className:"request-signature__row-value"},t)))))))})),v(this,"renderFooter",(()=>{const{cancel:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,sign:o,txData:{type:s},hardwareWalletRequiresConnection:i}=this.props,{trackEvent:l,t:u}=this.context;return a.default.createElement("div",{className:"request-signature__footer"},a.default.createElement(h.default,{type:"secondary",large:!0,className:"request-signature__footer__cancel-button",onClick:async a=>{await e(a),l({category:c.EVENT.CATEGORIES.TRANSACTIONS,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:s}}),t(),n.push(r)}},u("cancel")),a.default.createElement(h.default,{"data-testid":"request-signature__sign",type:"primary",large:!0,className:"request-signature__footer__sign-button",disabled:i,onClick:async e=>{await o(e),l({category:c.EVENT.CATEGORIES.TRANSACTIONS,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:s}}),t(),n.push(r)}},u("sign")))})),v(this,"handleCancelAll",(()=>{const{cancelAll:e,clearConfirmTransaction:t,history:n,mostRecentOverviewPage:a,showRejectTransactionsConfirmationModal:r,messagesCount:o}=this.props;r({unapprovedTxCount:o,onSubmit:async()=>{await e(),t(),n.push(a)}})})),v(this,"render",(()=>{const{messagesCount:e}=this.props,{t:t}=this.context,n=t("rejectTxsN",[e]);return a.default.createElement("div",{className:"request-signature__container"},this.renderHeader(),this.renderBody(),this.props.isLedgerWallet?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(l.default,{showDataInstruction:!0})):null,this.renderFooter(),e>1?a.default.createElement(h.default,{type:"link",className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},n):null)}))}}n.default=b,v(b,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),v(b,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,cancel:r.default.func.isRequired,clearConfirmTransaction:r.default.func.isRequired,conversionRate:r.default.number,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,sign:r.default.func.isRequired,txData:r.default.object.isRequired,subjectMetadata:r.default.object,hardwareWalletRequiresConnection:r.default.bool,isLedgerWallet:r.default.bool,nativeCurrency:r.default.string.isRequired,messagesCount:r.default.number,showRejectTransactionsConfirmationModal:r.default.func.isRequired,cancelAll:r.default.func.isRequired})}).call(this)}).call(this,e("buffer").Buffer)}}},{package:"$root$"}],[7596,{"../../../../shared/constants/app":7316,"../../../ducks/confirm-transaction/confirm-transaction.duck":7852,"../../../ducks/history/history":7856,"../../../ducks/metamask/metamask":7859,"../../../helpers/utils/util":7907,"../../../selectors":8267,"../../../store/actions":8273,"./signature-request-original.component":7595,"react-redux":6775,"react-router-dom":6795,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../../shared/constants/app"),l=e("../../../store/actions"),u=e("../../../selectors"),c=e("../../../helpers/utils/util"),d=e("../../../ducks/confirm-transaction/confirm-transaction.duck"),f=e("../../../ducks/history/history"),p=e("../../../ducks/metamask/metamask"),m=(a=e("./signature-request-original.component"))&&a.__esModule?a:{default:a};var h=(0,o.compose)(s.withRouter,(0,r.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,a=(0,u.doesAddressRequireLedgerHidConnection)(e,n),r=(0,p.isAddressLedger)(e,n),o=(0,u.unconfirmedMessagesHashSelector)(e),s=(0,u.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,conversionRate:(0,u.conversionRateSelector)(e),mostRecentOverviewPage:(0,f.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:r,nativeCurrency:(0,p.getNativeCurrency)(e),allAccounts:(0,u.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,u.getSubjectMetadata)(e),messagesList:o,messagesCount:s}}),(function(e){return{goHome:()=>e((0,l.goHome)()),clearConfirmTransaction:()=>e((0,d.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,l.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n})),cancelAll:t=>e((0,l.cancelMsgs)(t))}}),(function(e,t,n){const{signPersonalMessage:a,signTypedMessage:r,cancelPersonalMessage:o,cancelTypedMessage:s,signMessage:l,cancelMessage:u,txData:d}=n,{allAccounts:f,messagesList:p,...m}=e,{type:h,msgParams:{from:_}}=d,g=(0,c.getAccountByAddress)(f,_),{cancelAll:y}=t;let E,v;return h===i.MESSAGE_TYPE.PERSONAL_SIGN||h===i.MESSAGE_TYPE.BTC_PERSONAL_SIGN?(E=o,v=a):h===i.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA||h===i.MESSAGE_TYPE.BTC_SIGN_TYPED_DATA?(E=s,v=r):h!==i.MESSAGE_TYPE.ETH_SIGN&&h!==i.MESSAGE_TYPE.BTC_SIGN||(E=u,v=l),{...n,...m,...t,fromAccount:g,txData:d,cancel:E,sign:v,cancelAll:()=>y((0,c.valuesFor)(p))}})))(m.default);n.default=h}}},{package:"$root$"}],[7597,{"./signature-request-siwe":7602},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7598,{"./signature-request-siwe-header":7599},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7599,{"../../../../contexts/i18n":7844,"../../../../helpers/constants/design-system":7868,"../../../ui/icon/info-icon.component":7740,"../../../ui/tooltip":7832,"../../account-list-item":7348,"../../permissions-connect-header":7575,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("../../account-list-item")),s=e("../../../../contexts/i18n"),i=d(e("../../../ui/tooltip")),l=d(e("../../../ui/icon/info-icon.component")),u=e("../../../../helpers/constants/design-system"),c=d(e("../../permissions-connect-header"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:r}){const d=(0,a.useContext)(s.I18nContext);return a.default.createElement("div",{className:"signature-request-siwe-header"},a.default.createElement(c.default,{iconUrl:r.iconUrl,iconName:r.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",rightIcon:!n&&a.default.createElement(i.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t])),wrapperClassName:"signature-request-siwe-header__tooltip",containerClassName:"signature-request-siwe-header__tooltip__container"},a.default.createElement(l.default,{severity:u.SEVERITIES.DANGER}))}),e&&a.default.createElement(o.default,{account:e,className:"signature-request-siwe-header__account-list-item"}))}p.propTypes={fromAccount:r.default.object,domain:r.default.string,isSIWEDomainValid:r.default.bool,subjectMetadata:r.default.object}}}},{package:"$root$"}],[7600,{"./signature-request-siwe-message":7601},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7601,{"../../../../helpers/constants/design-system":7868,"../../../ui/box":7682,"../../../ui/typography":7836,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../ui/box")),s=l(e("../../../ui/typography")),i=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const u=({data:e})=>a.default.createElement(o.default,{className:"signature-request-siwe-message"},a.default.createElement(o.default,{flexDirection:i.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>a.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},a.default.createElement(s.default,{variant:i.TYPOGRAPHY.H4,marginTop:2,marginBottom:2},e),a.default.createElement(s.default,{className:"signature-request-siwe-message__sub-text",variant:i.TYPOGRAPHY.H6,marginTop:2,marginBottom:2},t))))));u.propTypes={data:r.default.arrayOf(r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}))};var c=a.default.memo(u);n.default=c}}},{package:"$root$"}],[7602,{"../../../../shared/modules/siwe":7342,"../../../contexts/i18n":7844,"../../../helpers/utils/util":7907,"../../../selectors":8267,"../../ui/actionable-message":7679,"../../ui/check-box":7692,"../../ui/page-container":7791,"../../ui/popover":7798,"./signature-request-siwe-header":7598,"./signature-request-siwe-message":7600,loglevel:5597,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=g(e("loglevel")),i=g(e("../../ui/actionable-message")),l=g(e("../../ui/popover")),u=g(e("../../ui/check-box")),c=e("../../../contexts/i18n"),d=e("../../ui/page-container"),f=e("../../../selectors"),p=e("../../../helpers/utils/util"),m=e("../../../../shared/modules/siwe"),h=g(e("./signature-request-siwe-header")),_=g(e("./signature-request-siwe-message"));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E({txData:e,cancelPersonalMessage:t,signPersonalMessage:n}){const r=(0,o.useSelector)(f.accountsWithSendEtherInfoSelector),g=(0,o.useSelector)(f.getSubjectMetadata),{msgParams:{from:y,origin:E,siwe:{parsedMessage:v}}}=e,b=(0,p.getAccountByAddress)(r,y),T=g[E],O=(0,a.useContext)(c.I18nContext),P=y.toLowerCase()===v.address.toLowerCase(),k=(()=>{let e=!1;if(E){const{host:t}=new URL(E);e=v.domain===t}return e})(),[w,N]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),M=(0,a.useCallback)((async e=>{try{await n(e)}catch(e){s.default.error(e)}}),[n]),x=(0,a.useCallback)((async e=>{try{await t(e)}catch(e){s.default.error(e)}}),[t]);return a.default.createElement("div",{className:"signature-request-siwe"},a.default.createElement(h.default,{fromAccount:b,domain:v.domain,isSIWEDomainValid:k,subjectMetadata:T}),a.default.createElement(_.default,{data:(0,m.formatMessageParams)(v,O)}),!P&&a.default.createElement(i.default,{className:"signature-request-siwe__actionable-message",type:"warning",message:O("SIWEAddressInvalid",[v.address,b.address]),iconFillColor:"var(--color-warning-default)",useIcon:!0,withRightButton:!0}),!k&&a.default.createElement(i.default,{className:"signature-request-siwe__actionable-message",type:"danger",message:O("SIWEDomainInvalid",[v.domain]),iconFillColor:"var(--color-error-default)",useIcon:!0,withRightButton:!0}),a.default.createElement(d.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:x,onSubmit:k?M:()=>N(!0),cancelText:O("cancel"),submitText:O("signin")}),w&&a.default.createElement(l.default,{onClose:()=>N(!1),title:O("SIWEWarningTitle"),subtitle:O("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:a.default.createElement(d.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>N(!1),cancelText:O("cancel"),cancelButtonType:"default",onSubmit:M,submitText:O("confirm"),submitButtonType:"danger-primary",disabled:!S})},a.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},a.default.createElement(u.default,{id:"signature-request-siwe_domain-checkbox",checked:S,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>C((e=>!e))}),a.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},O("SIWEDomainWarningBody",[v.domain])))))}E.propTypes={txData:r.default.object.isRequired,cancelPersonalMessage:r.default.func.isRequired,signPersonalMessage:r.default.func.isRequired}}}},{package:"$root$"}],[7603,{"./signature-request.container":7611},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7604,{"./signature-request-footer.component":7605},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7605,{"../../../ui/button":7686,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=s(e("prop-types")),o=s(e("../../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{render(){const{cancelAction:e,signAction:t,disabled:n=!1}=this.props;return a.default.createElement("div",{className:"signature-request-footer"},a.default.createElement(o.default,{onClick:e,type:"secondary","data-testid":"signature-cancel-button"},this.context.t("cancel")),a.default.createElement(o.default,{onClick:t,type:"primary","data-testid":"signature-sign-button",disabled:n},this.context.t("sign")))}}n.default=u,l(u,"propTypes",{cancelAction:r.default.func.isRequired,signAction:r.default.func.isRequired,disabled:r.default.bool}),l(u,"contextTypes",{t:r.default.func})}}},{package:"$root$"}],[7606,{"./signature-request-header.component":7607},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7607,{"../../account-list-item":7348,"../../network-display":7566,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=c(e("prop-types")),l=c(e("../../account-list-item")),u=c(e("../../network-display"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}class f extends s.PureComponent{render(){const{fromAccount:e}=this.props;return s.default.createElement("div",{className:"signature-request-header"},s.default.createElement("div",{className:"signature-request-header--account"},e?s.default.createElement(l.default,{account:e}):null),s.default.createElement("div",{className:"signature-request-header--network"},s.default.createElement(u.default,null)))}}n.default=f,a=f,r="propTypes",o={fromAccount:i.default.object},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7608,{"./signature-request-message.component":7609},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-message.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7609,{classnames:2484,lodash:5584,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=e("lodash"),s=i(e("classnames"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),u(this,"state",{messageIsScrolled:!1}),u(this,"setMessageIsScrolled",(()=>{if(!this.props.messageRootRef||this.state.messageIsScrolled)return;const{scrollTop:e,offsetHeight:t,scrollHeight:n}=this.props.messageRootRef;Math.round(e)+t>=n&&(this.setState({messageIsScrolled:!0}),this.props.onMessageScrolled())})),u(this,"onScroll",(0,o.debounce)(this.setMessageIsScrolled,25))}renderNode(e){return a.default.createElement("div",{className:"signature-request-message--node"},Object.entries(e).map((([e,t],n)=>a.default.createElement("div",{className:(0,s.default)("signature-request-message--node",{"signature-request-message--node-leaf":"object"!=typeof t||null===t}),key:n},a.default.createElement("span",{className:"signature-request-message--node-label"},e,":"," "),"object"==typeof t&&null!==t?this.renderNode(t):a.default.createElement("span",{className:"signature-request-message--node-value"},`${t}`)))))}renderScrollButton(){return a.default.createElement("div",{onClick:()=>{this.setState({messageIsScrolled:!0}),this.props.onMessageScrolled(),this.props.messageRootRef.scrollTo(0,this.props.messageRootRef.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},a.default.createElement("i",{className:"fa fa-arrow-down",title:this.context.t("scrollDown")}))}render(){const{data:e,messageIsScrollable:t}=this.props;return a.default.createElement("div",{onScroll:this.onScroll,className:"signature-request-message"},t?this.renderScrollButton():null,a.default.createElement("div",{className:"signature-request-message__title"},this.context.t("signatureRequest1")),a.default.createElement("div",{className:"signature-request-message--root",ref:this.props.setMessageRootRef},this.renderNode(e)))}}n.default=c,u(c,"propTypes",{data:r.default.object.isRequired,onMessageScrolled:r.default.func,setMessageRootRef:r.default.func,messageRootRef:r.default.object,messageIsScrollable:r.default.bool}),u(c,"contextTypes",{t:r.default.func})}}},{package:"$root$"}],[7610,{"../../../../shared/constants/metametrics":7321,"../../../helpers/utils/util":7907,"../../ui/identicon":7755,"../../ui/site-origin":7812,"../ledger-instruction-field":7490,"./signature-request-footer":7604,"./signature-request-header":7606,"./signature-request-message":7608,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=p(e("../../ui/identicon")),s=p(e("../ledger-instruction-field")),i=e("../../../helpers/utils/util"),l=e("../../../../shared/constants/metametrics"),u=p(e("../../ui/site-origin")),c=p(e("./signature-request-header")),d=p(e("./signature-request-footer")),f=p(e("./signature-request-message"));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.PureComponent{constructor(...e){super(...e),h(this,"state",{hasScrolledMessage:!1})}setMessageRootRef(e){this.messageRootRef=e}formatWallet(e){return`${e.slice(0,8)}...${e.slice(e.length-8,e.length)}`}render(){var e,t;const{fromAccount:n,txData:{msgParams:{data:r,origin:p,version:m},type:h},cancel:_,sign:g,isLedgerWallet:y,hardwareWalletRequiresConnection:E}=this.props,{address:v}=n,{message:b,domain:T={},primaryType:O,types:P}=JSON.parse(r),{trackEvent:k}=this.context,w=(null===(e=this.messageRootRef)||void 0===e?void 0:e.scrollHeight)>(null===(t=this.messageRootRef)||void 0===t?void 0:t.clientHeight);return a.default.createElement("div",{className:"signature-request page-container"},a.default.createElement(c.default,{fromAccount:n}),a.default.createElement("div",{className:"signature-request-content"},a.default.createElement("div",{className:"signature-request-content__title"},this.context.t("sigRequest")),a.default.createElement("div",{className:"signature-request-content__identicon-container"},a.default.createElement("div",{className:"signature-request-content__identicon-initial"},T.name&&T.name[0]),a.default.createElement("div",{className:"signature-request-content__identicon-border"}),a.default.createElement(o.default,{address:v,diameter:70})),a.default.createElement("div",{className:"signature-request-content__info--bolded"},T.name),a.default.createElement(u.default,{className:"signature-request-content__info",siteOrigin:p}),a.default.createElement("div",{className:"signature-request-content__info"},this.formatWallet(v))),y?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(s.default,{showDataInstruction:!0})):null,a.default.createElement(f.default,{data:(0,i.sanitizeMessage)(b,O,P),onMessageScrolled:()=>this.setState({hasScrolledMessage:!0}),setMessageRootRef:this.setMessageRootRef.bind(this),messageRootRef:this.messageRootRef,messageIsScrollable:w}),a.default.createElement(d.default,{cancelAction:e=>{_(e),k({category:l.EVENT.CATEGORIES.TRANSACTIONS,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:h,version:m}})},signAction:e=>{g(e),k({category:l.EVENT.CATEGORIES.TRANSACTIONS,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:h,version:m}})},disabled:E||w&&!this.state.hasScrolledMessage}))}}n.default=_,h(_,"propTypes",{txData:r.default.object.isRequired,fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,isLedgerWallet:r.default.bool,cancel:r.default.func.isRequired,sign:r.default.func.isRequired,hardwareWalletRequiresConnection:r.default.bool.isRequired}),h(_,"contextTypes",{t:r.default.func,trackEvent:r.default.func})}}},{package:"$root$"}],[7611,{"../../../../shared/constants/app":7316,"../../../ducks/metamask/metamask":7859,"../../../helpers/utils/util":7907,"../../../selectors":8267,"./signature-request.component":7610,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),i=e("../../../helpers/utils/util"),l=e("../../../../shared/constants/app"),u=(a=e("./signature-request.component"))&&a.__esModule?a:{default:a};var c=(0,r.connect)((function(e,t){const{txData:n}=t,{msgParams:{from:a}}=n,r=(0,o.doesAddressRequireLedgerHidConnection)(e,a);return{isLedgerWallet:(0,s.isAddressLedger)(e,a),hardwareWalletRequiresConnection:r,allAccounts:(0,o.accountsWithSendEtherInfoSelector)(e)}}),null,(function(e,t,n){const{allAccounts:a,isLedgerWallet:r,hardwareWalletRequiresConnection:o}=e,{signPersonalMessage:s,signBtcPersonalMessage:u,signTypedMessage:c,signBtcTypedMessage:d,cancelPersonalMessage:f,cancelTypedMessage:p,signMessage:m,signBtcMessage:h,cancelMessage:_,txData:g}=n,{type:y,msgParams:{from:E}}=g,v=(0,i.getAccountByAddress)(a,E);let b,T;return y===l.MESSAGE_TYPE.PERSONAL_SIGN?(b=f,T=s):y===l.MESSAGE_TYPE.BTC_PERSONAL_SIGN?(b=f,T=u):y===l.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?(b=p,T=c):y===l.MESSAGE_TYPE.BTC_SIGN_TYPED_DATA?(b=p,T=d):y===l.MESSAGE_TYPE.ETH_SIGN?(b=_,T=m):y===l.MESSAGE_TYPE.BTC_SIGN&&(b=_,T=h),{...n,...t,fromAccount:v,txData:g,cancel:b,sign:T,isLedgerWallet:r,hardwareWalletRequiresConnection:o}}))(u.default);n.default=c}}},{package:"$root$"}],[7612,{"./srp-input":7614},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./srp-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7613,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parseSecretRecoveryPhrase=void 0;n.parseSecretRecoveryPhrase=e=>{var t;return(null===(t=(e||"").trim().toLowerCase().match(/\w+/gu))||void 0===t?void 0:t.join(" "))||""}}}},{package:"$root$"}],[7614,{"../../../helpers/constants/design-system":7868,"../../../helpers/utils/util":7907,"../../../hooks/useI18nContext":7927,"../../ui/actionable-message":7679,"../../ui/dropdown":7708,"../../ui/show-hide-toggle":7808,"../../ui/text-field":7822,"../../ui/typography":7836,"./parse-secret-recovery-phrase":7613,ethers:2916,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=y;var a=e("ethers"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),o=h(e("prop-types")),s=e("../../../hooks/useI18nContext"),i=h(e("../../ui/text-field")),l=e("../../../helpers/utils/util"),u=h(e("../../ui/actionable-message")),c=h(e("../../ui/dropdown")),d=h(e("../../ui/typography")),f=h(e("../../ui/show-hide-toggle")),p=e("../../../helpers/constants/design-system"),m=e("./parse-secret-recovery-phrase");function h(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const{isValidMnemonic:g}=a.ethers.utils;function y({onChange:e,srpText:t}){const[n,a]=(0,r.useState)(""),[o,h]=(0,r.useState)(!1),[_,y]=(0,r.useState)(new Array(12).fill("")),[E,v]=(0,r.useState)(new Array(12).fill(!1)),[b,T]=(0,r.useState)(12),O=(0,s.useI18nContext)(),P=(0,r.useCallback)((t=>{let n="";const r=t.join(" ").trim();t.some((e=>""!==e))&&(t.some((e=>""===e))?n=O("seedPhraseReq"):(e=>e!==e.toLowerCase())(r)?n=O("invalidSeedPhraseCaseSensitive"):g(r)||(n=O("invalidSeedPhrase"))),y(t),a(n),e(n?"":r)}),[y,a,O,e]),k=(0,r.useCallback)((e=>{v((t=>{const n=t.slice();return n[e]?n[e]=!1:(n.fill(!1),n[e]=!0),n}))}),[]),w=(0,r.useCallback)(((e,t)=>{o&&h(!1);const n=_.slice();n[e]=t.trim(),P(n)}),[_,P,o]),N=(0,r.useCallback)((e=>{let t=(0,m.parseSecretRecoveryPhrase)(e).split(" ");if(t.length>24)return void h(!0);o&&h(!1);let n=b;t.length!==b&&(n=t.length<12?12:t.length%3==0?t.length:t.length+(3-t.length%3),T(n)),t.length<n&&(t=t.concat(new Array(n-t.length).fill(""))),v(new Array(n).fill(!1)),P(t),(0,l.clearClipboard)()}),[b,P,o,h]),S=[];for(let e=12;e<=24;e+=3)S.push({name:O("srpInputNumberOfWords",[`${e}`]),value:`${e}`});return r.default.createElement("div",{className:"import-srp__container"},r.default.createElement("label",{className:"import-srp__srp-label"},r.default.createElement(d.default,{align:p.TEXT_ALIGN.LEFT,variant:p.TYPOGRAPHY.H4,fontWeight:p.FONT_WEIGHT.BOLD},t)),r.default.createElement(u.default,{className:"import-srp__paste-tip",iconFillColor:"var(--color-info-default)",message:O("srpPasteTip"),useIcon:!0}),r.default.createElement(c.default,{className:"import-srp__number-of-words-dropdown",onChange:e=>{const t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Unable to parse option as integer");let n=_.slice(0,t);n.length<t&&(n=n.concat(new Array(t-n.length).fill(""))),T(t),v(new Array(t).fill(!1)),P(n)},options:S,selectedOption:`${b}`}),r.default.createElement("div",{className:"import-srp__srp"},[...Array(b).keys()].map((e=>{const t=`import-srp__srp-word-${e}`;return r.default.createElement("div",{key:e,className:"import-srp__srp-word"},r.default.createElement("label",{htmlFor:t,className:"import-srp__srp-word-label"},r.default.createElement(d.default,null,`${e+1}.`)),r.default.createElement(i.default,{id:t,"data-testid":t,type:E[e]?"text":"password",onChange:t=>{t.preventDefault(),w(e,t.target.value)},value:_[e],autoComplete:"off",onPaste:e=>{const t=e.clipboardData.getData("text");t.trim().match(/\s/u)&&(e.preventDefault(),N(t))}}),r.default.createElement(f.default,{id:`${t}-checkbox`,ariaLabelHidden:O("srpWordHidden"),ariaLabelShown:O("srpWordShown"),shown:E[e],"data-testid":`${t}-checkbox`,onChange:()=>k(e),title:O("srpToggleShow")}))}))),n?r.default.createElement(u.default,{className:"import-srp__srp-error",iconFillColor:"var(--color-error-default)",message:n,type:"danger",useIcon:!0}):null,o?r.default.createElement(u.default,{className:"import-srp__srp-too-many-words-error",iconFillColor:"var(--color-error-default)",message:O("srpPasteFailedTooManyWords"),primaryAction:{label:O("dismiss"),onClick:()=>h(!1)},type:"danger",useIcon:!0}):null)}y.propTypes={onChange:o.default.func.isRequired,srpText:o.default.string.isRequired}}}},{package:"$root$"}],[7615,{"./step-progress-bar":7616},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ThreeStepProgressBar",{enumerable:!0,get:function(){return a.ThreeStepProgressBar}}),Object.defineProperty(n,"TwoStepProgressBar",{enumerable:!0,get:function(){return a.TwoStepProgressBar}}),Object.defineProperty(n,"threeStepStages",{enumerable:!0,get:function(){return a.threeStepStages}}),Object.defineProperty(n,"twoStepStages",{enumerable:!0,get:function(){return a.twoStepStages}});var a=e("./step-progress-bar")}}},{package:"$root$"}],[7616,{"../../../helpers/constants/design-system":7868,"../../../hooks/useI18nContext":7927,"../../ui/box":7682,classnames:2484,lodash:5584,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ThreeStepProgressBar=f,n.TwoStepProgressBar=p,n.twoStepStages=n.threeStepStages=void 0;var a=c(e("react")),r=c(e("classnames")),o=c(e("prop-types")),s=e("lodash"),i=e("../../../hooks/useI18nContext"),l=c(e("../../ui/box")),u=e("../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}n.threeStepStages={PASSWORD_CREATE:1,RECOVERY_PHRASE_VIDEO:2,RECOVERY_PHRASE_REVIEW:3,RECOVERY_PHRASE_CONFIRM:4,ONBOARDING_COMPLETE:5};function f({stage:e,...t}){const n=(0,i.useI18nContext)();return a.default.createElement(l.default,t,a.default.createElement("ul",{className:"progressbar"},a.default.createElement("li",{className:(0,r.default)({active:e>=1,complete:e>1})},(0,s.capitalize)(n("createPassword"))),a.default.createElement("li",{className:(0,r.default)({active:e>=2,complete:e>3})},(0,s.capitalize)(n("secureWallet"))),a.default.createElement("li",{className:(0,r.default)({active:e>=4,complete:e>5})},(0,s.capitalize)(n("confirmRecoveryPhrase")))))}function p({stage:e,...t}){const n=(0,i.useI18nContext)();return a.default.createElement(l.default,d({width:u.BLOCK_SIZES.FULL},t),a.default.createElement("ul",{className:"progressbar two-steps"},a.default.createElement("li",{className:(0,r.default)({active:e>=1,complete:e>1})},(0,s.capitalize)(n("confirmRecoveryPhrase"))),a.default.createElement("li",{className:(0,r.default)("two-steps",{active:e>=2,complete:e>2})},(0,s.capitalize)(n("createPassword")))))}n.twoStepStages={RECOVERY_PHRASE_CONFIRM:1,PASSWORD_CREATE:2},f.propTypes={stage:o.default.number,...l.default.propTypes},p.propTypes={stage:o.default.number,...l.default.propTypes}}}},{package:"$root$"}],[7617,{"./tab-bar":7618},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./tab-bar"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7618,{"../../ui/icon/icon-caret-right":7729,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("prop-types")),o=i(e("classnames")),s=i(e("../../ui/icon/icon-caret-right"));function i(e){return e&&e.__esModule?e:{default:e}}const l=e=>{const{tabs:t=[],onSelect:n,isActive:r}=e;return a.default.createElement("div",{className:"tab-bar"},t.map((({key:e,content:t,icon:i})=>a.default.createElement("button",{key:e,className:(0,o.default)("tab-bar__tab pointer",{"tab-bar__tab--active":r(e,t)}),onClick:()=>n(e)},a.default.createElement("div",{className:"tab-bar__tab__content"},a.default.createElement("div",{className:"tab-bar__tab__content__icon"},i),a.default.createElement("div",{className:"tab-bar__tab__content__title"},t)),a.default.createElement(s.default,{className:"tab-bar__tab__caret"})))))};l.propTypes={isActive:r.default.func.isRequired,tabs:r.default.array,onSelect:r.default.func};var u=l;n.default=u}}},{package:"$root$"}],[7619,{"./token-cell":7620},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7620,{"../../../helpers/utils/util":7907,"../../../hooks/useI18nContext":7927,"../../../hooks/useTokenFiatAmount":7939,"../../../selectors":8267,"../asset-list-item":7385,"@metamask/etherscan-link":1562,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=p(e("classnames")),r=p(e("prop-types")),o=p(e("react")),s=e("react-redux"),i=p(e("../asset-list-item")),l=e("../../../selectors"),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTokenFiatAmount"),d=e("../../../helpers/utils/util"),f=e("@metamask/etherscan-link");function p(e){return e&&e.__esModule?e:{default:e}}function m({address:e,decimals:t,balanceError:n,symbol:r,string:p,onClick:m,isERC721:h}){const _=(0,s.useSelector)(l.getCurrentChainId),g=(0,d.getQtumAddressFromHex)((0,s.useSelector)(l.getSelectedAddress),_),y=(0,u.useI18nContext)(),E=((e,t,n)=>(0,f.getAccountLink)(e,t,n))(g,_,(0,s.useSelector)(l.getRpcPrefsForCurrentProvider)),v=(0,c.useTokenFiatAmount)(e,p,r),b=n?o.default.createElement("span",null,y("troubleTokenBalances"),o.default.createElement("a",{href:E,rel:"noopener noreferrer",target:"_blank",onClick:e=>e.stopPropagation(),style:{color:"var(--color-warning-default)"}},y("here"))):null;return o.default.createElement(i.default,{className:(0,a.default)("token-cell",{"token-cell--outdated":Boolean(n)}),iconClassName:"token-cell__icon",onClick:m.bind(null,e),tokenAddress:e,tokenSymbol:r,tokenDecimals:t,warning:b,primary:`${p||0}`,secondary:v,isERC721:h})}m.propTypes={address:r.default.string,balanceError:r.default.object,symbol:r.default.string,decimals:r.default.number,string:r.default.string,onClick:r.default.func.isRequired,isERC721:r.default.bool},m.defaultProps={balanceError:null}}}},{package:"$root$"}],[7621,{"./token-list-display":7622},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-list-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7622,{"../../../ducks/metamask/metamask":7859,"../../../hooks/useI18nContext":7927,"../../../hooks/useTokenTracker":7940,"../../../selectors":8267,"../../ui/identicon":7755,"../../ui/token-balance":7827,lodash:5584,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("lodash"),i=e("../../../selectors"),l=e("../../../hooks/useTokenTracker"),u=p(e("../../ui/identicon")),c=p(e("../../ui/token-balance")),d=e("../../../hooks/useI18nContext"),f=e("../../../ducks/metamask/metamask");function p(e){return e&&e.__esModule?e:{default:e}}function m({clickHandler:e}){const t=(0,d.useI18nContext)(),n=(0,o.useSelector)(i.getShouldHideZeroBalanceTokens),r=(0,o.useSelector)(f.getTokens,s.isEqual),{loading:p,tokensWithBalances:m}=(0,l.useTokenTracker)(r,!0,n);if(p)return a.default.createElement("div",{className:"loading-span"},t("loadingTokens"));const h=m.filter((e=>!e.isERC721));return a.default.createElement(a.default.Fragment,null,h.map((n=>{const{address:r,symbol:o,image:s}=n;return a.default.createElement("div",{key:r,className:"token-list-item",onClick:()=>e(n)},a.default.createElement(u.default,{address:r,diameter:36,image:s}),a.default.createElement("div",{className:"token-list-item__data"},a.default.createElement("div",{className:"token-list-item__symbol"},o),a.default.createElement("div",{className:"token-list-item__balance"},a.default.createElement("span",{className:"token-list-item__balance__label"},`${t("balance")}:`),a.default.createElement(c.default,{token:n}))))})))}m.propTypes={clickHandler:r.default.func}}}},{package:"$root$"}],[7623,{"./token-list":7624},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./token-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7624,{"../../../ducks/metamask/metamask":7859,"../../../hooks/useI18nContext":7927,"../../../hooks/useTokenTracker":7940,"../../../selectors":8267,"../token-cell":7619,lodash:5584,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("lodash"),s=e("react-redux"),i=f(e("../token-cell")),l=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useTokenTracker"),c=e("../../../selectors"),d=e("../../../ducks/metamask/metamask");function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function m({onTokenClick:e}){const t=(0,l.useI18nContext)(),n=(0,s.useSelector)(c.getShouldHideZeroBalanceTokens),r=(0,s.useSelector)(d.getTokens,o.isEqual),{loading:f,tokensWithBalances:m}=(0,u.useTokenTracker)(r,!0,n);return f?a.default.createElement("div",{style:{display:"flex",height:"250px",alignItems:"center",justifyContent:"center",padding:"30px"}},t("loadingTokens")):a.default.createElement("div",null,m.map(((t,n)=>a.default.createElement(i.default,p({key:n},t,{onClick:e})))))}m.propTypes={onTokenClick:r.default.func.isRequired}}}},{package:"$root$"}],[7625,{"./transaction-activity-log.container":7630},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-activity-log.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7626,{"./transaction-activity-log-icon.component":7627},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-activity-log-icon.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7627,{"../transaction-activity-log.constants":7629,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.imageHash=n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=i(e("prop-types")),o=i(e("classnames")),s=e("../transaction-activity-log.constants");function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={[s.TRANSACTION_CREATED_EVENT]:"fa-plus",[s.TRANSACTION_SUBMITTED_EVENT]:"fa-arrow-up",[s.TRANSACTION_RESUBMITTED_EVENT]:"fa-retweet",[s.TRANSACTION_CONFIRMED_EVENT]:"fa-check",[s.TRANSACTION_DROPPED_EVENT]:"fa-times",[s.TRANSACTION_ERRORED_EVENT]:"fa-exclamation",[s.TRANSACTION_CANCEL_ATTEMPTED_EVENT]:"fa-times",[s.TRANSACTION_CANCEL_SUCCESS_EVENT]:"fa-times"};n.imageHash=c;class d extends a.PureComponent{render(){const{className:e,eventKey:t}=this.props,n=c[t];return a.default.createElement("div",{className:(0,o.default)("transaction-activity-log-icon",e)},n?a.default.createElement("i",{className:(0,o.default)("fa","transaction-activity-log-icon__icon",n),height:"12",width:"12"}):null)}}n.default=d,u(d,"contextTypes",{t:r.default.func}),u(d,"propTypes",{className:r.default.string,eventKey:r.default.oneOf(Object.keys(c))})}}},{package:"$root$"}],[7628,{"../../../../shared/constants/metametrics":7321,"../../../helpers/utils/conversions.util":7888,"../../../helpers/utils/util":7907,"./transaction-activity-log-icon":7626,"./transaction-activity-log.constants":7629,"@metamask/etherscan-link":1562,classnames:2484,"ethereumjs-util":2891,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=p(e("prop-types")),o=p(e("classnames")),s=e("ethereumjs-util"),i=e("@metamask/etherscan-link"),l=e("../../../helpers/utils/conversions.util"),u=e("../../../helpers/utils/util"),c=e("../../../../shared/constants/metametrics"),d=p(e("./transaction-activity-log-icon")),f=e("./transaction-activity-log.constants");function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends a.PureComponent{constructor(...e){super(...e),h(this,"handleActivityClick",(e=>{const{rpcPrefs:t}=this.props,n=(0,i.getBlockExplorerLink)({hash:(0,s.stripHexPrefix)(e.hash),chainId:e.chainId},t);this.context.trackEvent({category:c.EVENT.CATEGORIES.TRANSACTIONS,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Activity Details",block_explorer_domain:(0,u.getURLHostName)(n)}}),global.platform.openTab({url:n})}))}renderInlineRetry(e){const{t:t}=this.context,{inlineRetryIndex:n,primaryTransaction:a={},onRetry:r,isEarliestNonce:o}=this.props,{status:s}=a;return o&&f.CONFIRMED_STATUS,null}renderInlineCancel(e){const{t:t}=this.context,{inlineCancelIndex:n,primaryTransaction:a={},onCancel:r,isEarliestNonce:o}=this.props,{status:s}=a;return o&&f.CONFIRMED_STATUS,null}renderActivity(e,t){const{conversionRate:n,nativeCurrency:r}=this.props,{eventKey:o,value:s,timestamp:i}=e,c=0===t?`${(0,l.getValueFromWeiHex)({value:s,fromCurrency:"QTUM",toCurrency:"QTUM",conversionRate:n,numberOfDecimals:6})} ${r}`:(0,l.getEthConversionFromWeiHex)({value:s,fromCurrency:"QTUM",conversionRate:n,numberOfDecimals:3}),f=(0,u.formatDate)(i,"T 'on' M/d/y"),p=this.context.t(o,[c,f]);return a.default.createElement("div",{key:t,className:"transaction-activity-log__activity"},a.default.createElement(d.default,{className:"transaction-activity-log__activity-icon",eventKey:o}),a.default.createElement("div",{className:"transaction-activity-log__entry-container"},a.default.createElement("div",{className:"transaction-activity-log__activity-text",title:p,onClick:()=>this.handleActivityClick(e)},p),this.renderInlineRetry(t),this.renderInlineCancel(t)))}render(){const{t:e}=this.context,{className:t,activities:n}=this.props;return 0===n.length?null:a.default.createElement("div",{className:(0,o.default)("transaction-activity-log",t)},a.default.createElement("div",{className:"transaction-activity-log__title"},e("activityLog")),a.default.createElement("div",{className:"transaction-activity-log__activities-container"},n.map(((e,t)=>this.renderActivity(e,t)))))}}n.default=_,h(_,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),h(_,"propTypes",{activities:r.default.array,className:r.default.string,conversionRate:r.default.number,inlineRetryIndex:r.default.number,inlineCancelIndex:r.default.number,nativeCurrency:r.default.string,onCancel:r.default.func,onRetry:r.default.func,primaryTransaction:r.default.object,isEarliestNonce:r.default.bool,rpcPrefs:r.default.object})}}},{package:"$root$"}],[7629,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TRANSACTION_UPDATED_EVENT=n.TRANSACTION_SUBMITTED_EVENT=n.TRANSACTION_RESUBMITTED_EVENT=n.TRANSACTION_ERRORED_EVENT=n.TRANSACTION_DROPPED_EVENT=n.TRANSACTION_CREATED_EVENT=n.TRANSACTION_CONFIRMED_EVENT=n.TRANSACTION_CANCEL_SUCCESS_EVENT=n.TRANSACTION_CANCEL_ATTEMPTED_EVENT=n.SUBMITTED_STATUS=n.DROPPED_STATUS=n.CONFIRMED_STATUS=void 0;n.TRANSACTION_CREATED_EVENT="transactionCreated";n.TRANSACTION_SUBMITTED_EVENT="transactionSubmitted";n.TRANSACTION_RESUBMITTED_EVENT="transactionResubmitted";n.TRANSACTION_CONFIRMED_EVENT="transactionConfirmed";n.TRANSACTION_DROPPED_EVENT="transactionDropped";n.TRANSACTION_UPDATED_EVENT="transactionUpdated";n.TRANSACTION_ERRORED_EVENT="transactionErrored";n.TRANSACTION_CANCEL_ATTEMPTED_EVENT="transactionCancelAttempted";n.TRANSACTION_CANCEL_SUCCESS_EVENT="transactionCancelSuccess";n.SUBMITTED_STATUS="submitted";n.CONFIRMED_STATUS="confirmed";n.DROPPED_STATUS="dropped"}}},{package:"$root$"}],[7630,{"../../../ducks/metamask/metamask":7859,"../../../selectors":8267,"./transaction-activity-log.component":7628,"./transaction-activity-log.constants":7629,"./transaction-activity-log.util":7631,lodash:5584,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("lodash"),s=e("../../../selectors"),i=e("../../../ducks/metamask/metamask"),l=(a=e("./transaction-activity-log.component"))&&a.__esModule?a:{default:a},u=e("./transaction-activity-log.util"),c=e("./transaction-activity-log.constants");const d=e=>({eventKey:t})=>t===e;var f=(0,r.connect)((e=>({conversionRate:(0,s.conversionRateSelector)(e),nativeCurrency:(0,i.getNativeCurrency)(e),rpcPrefs:(0,s.getRpcPrefsForCurrentProvider)(e)})),null,((e,t,n)=>{const{transactionGroup:{transactions:a=[],primaryTransaction:r}={},...s}=n,i=(0,u.combineTransactionHistories)(a);return{...e,...t,...s,activities:i,inlineRetryIndex:(0,o.findLastIndex)(i,d(c.TRANSACTION_RESUBMITTED_EVENT)),inlineCancelIndex:(0,o.findLastIndex)(i,d(c.TRANSACTION_CANCEL_ATTEMPTED_EVENT)),primaryTransaction:r}}))(l.default);n.default=f}}},{package:"$root$"}],[7631,{"../../../../shared/constants/transaction":7329,"../../../helpers/utils/confirm-tx.util":7887,"../../../helpers/utils/transactions.util":7905,"./transaction-activity-log.constants":7629},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.combineTransactionHistories=function(e=[]){if(!e.length)return[];const t=[];e.forEach(((e,n)=>{const a=m(e,0===n);t.push(...a)}));return function(e){const t=[],n=Boolean(e.find((({eventKey:e})=>e===s.TRANSACTION_CONFIRMED_EVENT||e===s.TRANSACTION_CANCEL_SUCCESS_EVENT)));let a=!1;return e.forEach((e=>{e.eventKey===s.TRANSACTION_DROPPED_EVENT?n||a||(t.push(e),a=!0):t.push(e)})),t}(t.sort(((e,t)=>e.timestamp-t.timestamp)))},n.getActivities=m;var a=e("../../../../shared/constants/transaction"),r=e("../../../helpers/utils/confirm-tx.util"),o=e("../../../helpers/utils/transactions.util"),s=e("./transaction-activity-log.constants");const i="/status",l="/txParams/gasPrice",u="/txParams/gas",c="/estimatedBaseFee",d="/blockTimestamp",f={[i]:!0,[l]:!0,[u]:!0,[d]:!0},p={[s.SUBMITTED_STATUS]:s.TRANSACTION_SUBMITTED_EVENT,[s.CONFIRMED_STATUS]:s.TRANSACTION_CONFIRMED_EVENT,[s.DROPPED_STATUS]:s.TRANSACTION_DROPPED_EVENT};function m(e,t=!1){const{id:n,chainId:m,metamaskNetworkId:h,hash:_,history:g=[],txParams:{gas:y,gasPrice:E,maxPriorityFeePerGas:v},txReceipt:{status:b}={},type:T,estimatedBaseFee:O}=e,P=O&&v&&(0,o.sumHexes)(O,v);let k="0x0",w="0x0";const N=g.reduce(((e,g,v)=>{if(0===v&&!Array.isArray(g)&&g.txParams){const{time:a,estimatedBaseFee:r,txParams:{value:i,gas:l="0x0",gasPrice:u,maxPriorityFeePerGas:c}={}}=g,d=r&&c&&(0,o.sumHexes)(r,c);if(k=l,w=d||u||E||"0x0",t)return e.concat({id:n,hash:_,chainId:m,metamaskNetworkId:h,eventKey:s.TRANSACTION_CREATED_EVENT,timestamp:a,value:i})}else if(Array.isArray(g)){const t=[];return g.forEach((o=>{const{op:v,path:b,value:O,timestamp:N}=o,S=N||g[0]&&g[0].timestamp;if(b in f&&"replace"===v||b===c&&"add"===v)switch(b){case i:{const e="0x0"===k&&"0x0"===w?(0,r.getHexGasTotal)({gasLimit:y,gasPrice:P||E}):(0,r.getHexGasTotal)({gasLimit:k,gasPrice:w});if(O in p){let r=p[O];O===s.SUBMITTED_STATUS?T===a.TRANSACTION_TYPES.RETRY?r=s.TRANSACTION_RESUBMITTED_EVENT:T===a.TRANSACTION_TYPES.CANCEL&&(r=s.TRANSACTION_CANCEL_ATTEMPTED_EVENT):O===s.CONFIRMED_STATUS&&T===a.TRANSACTION_TYPES.CANCEL&&(r=s.TRANSACTION_CANCEL_SUCCESS_EVENT),t.push({id:n,hash:_,eventKey:r,timestamp:S,chainId:m,metamaskNetworkId:h,value:e})}break}case l:case u:case c:{const e=t[t.length-1]||{},{lastEventKey:n}=e;if(b===u)k=O;else if(b===l)w=O;else if(b===c){var C;w=P||(null==g||null===(C=g.txParams)||void 0===C?void 0:C.gasPrice),e.value=(0,r.getHexGasTotal)({gasLimit:y,gasPrice:w})}n!==s.TRANSACTION_SUBMITTED_EVENT&&n!==s.TRANSACTION_RESUBMITTED_EVENT||(e.value=(0,r.getHexGasTotal)({gasLimit:k,gasPrice:w}));break}case d:{const t=e.find((e=>e.eventKey===s.TRANSACTION_CONFIRMED_EVENT));t!==undefined&&(t.timestamp=new Date(1e3*parseInt(o.value,16)).getTime());break}default:t.push({id:n,hash:_,chainId:m,metamaskNetworkId:h,eventKey:s.TRANSACTION_UPDATED_EVENT,timestamp:S})}})),e.concat(t)}return e}),[]);return"0x0"===b?N.concat({id:n,hash:_,chainId:m,metamaskNetworkId:h,eventKey:s.TRANSACTION_ERRORED_EVENT}):N}}}},{package:"$root$"}],[7632,{"./transaction-breakdown.container":7636},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-breakdown.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7633,{"./transaction-breakdown-row.component":7634},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-breakdown-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7634,{classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=u(e("prop-types")),l=u(e("classnames"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}class d extends s.PureComponent{render(){const{title:e,children:t,className:n,divider:a=!1}=this.props;return s.default.createElement("div",{className:(0,l.default)("transaction-breakdown-row",a?"transaction-breakdown-row--with-bottom-border":"",n),"data-testid":"transaction-breakdown-row"},s.default.createElement("div",{className:"transaction-breakdown-row__title","data-testid":"transaction-breakdown-row-title"},e),s.default.createElement("div",{className:"transaction-breakdown-row__value","data-testid":"transaction-breakdown-row-value"},t))}}n.default=d,a=d,r="propTypes",o={title:i.default.string,children:i.default.node,className:i.default.string,divider:i.default.bool},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7635,{"../../../helpers/constants/common":7865,"../../ui/currency-display":7701,"../../ui/hex-to-decimal":7718,"../user-preferenced-currency-display":7661,"./transaction-breakdown-row":7633,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=d(e("../../ui/currency-display")),i=d(e("../user-preferenced-currency-display")),l=d(e("../../ui/hex-to-decimal")),u=e("../../../helpers/constants/common"),c=d(e("./transaction-breakdown-row"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.PureComponent{render(){const{t:e}=this.context,{gas:t,gasPrice:n,maxFeePerGas:r,primaryCurrency:d,className:f,nonce:p,nativeCurrency:m,showFiat:h,totalInHex:_,gasUsed:g,isTokenApprove:y,baseFee:E,priorityFee:v,hexGasTotal:b,isEIP1559Transaction:T,isMultiLayerFeeNetwork:O,l1HexGasTotal:P}=this.props;return a.default.createElement("div",{className:(0,o.default)("transaction-breakdown",f)},a.default.createElement("div",{className:"transaction-breakdown__title"},e("transaction")),a.default.createElement(c.default,{divider:!0,title:e("nonce")},void 0===p?null:a.default.createElement(l.default,{className:"transaction-breakdown__value",value:p})),a.default.createElement(c.default,{title:e(y?"spendLimitAmount":"amount")},a.default.createElement("span",{className:"transaction-breakdown__value transaction-breakdown__value--amount"},d)),a.default.createElement(c.default,{title:O?e("transactionHistoryL2GasLimitLabel"):`${e("gasLimit")} (${e("units")})`,className:"transaction-breakdown__row-title"},void 0===t?"?":a.default.createElement(l.default,{className:"transaction-breakdown__value",value:t})),"string"==typeof g&&a.default.createElement(c.default,{title:`${e("gasUsed")} (${e("units")})`,className:"transaction-breakdown__row-title"},a.default.createElement(l.default,{className:"transaction-breakdown__value",value:g})),T&&void 0!==E?a.default.createElement(c.default,{title:e("transactionHistoryBaseFee")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__base-fee",currency:m,denomination:u.GWEI,value:E,numberOfDecimals:10,hideLabel:!0})):null,T&&void 0!==v?a.default.createElement(c.default,{title:e("transactionHistoryPriorityFee")},a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__priority-fee",currency:m,denomination:u.GWEI,value:v,numberOfDecimals:10,hideLabel:!0})):null,!T&&a.default.createElement(c.default,{title:e(O?"transactionHistoryL2GasPriceLabel":"advancedGasPriceTitle")},void 0===n?"?":a.default.createElement(s.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__gas-price",currency:m,denomination:u.GWEI,value:n,numberOfDecimals:9,hideLabel:!0})),T&&a.default.createElement(c.default,{title:e("transactionHistoryTotalGasFee")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__effective-gas-price",currency:m,denomination:u.ETH,numberOfDecimals:6,value:b,type:u.PRIMARY}),h&&a.default.createElement(i.default,{className:"transaction-breakdown__value",type:u.SECONDARY,value:b})),T&&a.default.createElement(c.default,{divider:!0,title:e("transactionHistoryMaxFeePerGas")},a.default.createElement(i.default,{className:"transaction-breakdown__value",currency:m,denomination:u.ETH,numberOfDecimals:9,value:r,type:u.PRIMARY}),h&&a.default.createElement(i.default,{className:"transaction-breakdown__value",type:u.SECONDARY,value:r})),O&&a.default.createElement(c.default,{title:e("transactionHistoryL1GasLabel")},a.default.createElement(i.default,{className:"transaction-breakdown__value","data-testid":"transaction-breakdown__l1-gas-total",numberOfDecimals:18,value:P,type:u.PRIMARY}),h&&a.default.createElement(i.default,{className:"transaction-breakdown__value",type:u.SECONDARY,value:P})),a.default.createElement(c.default,{title:e("total")},a.default.createElement(i.default,{className:"transaction-breakdown__value transaction-breakdown__value--eth-total",type:u.PRIMARY,value:_,numberOfDecimals:O?18:null}),h&&a.default.createElement(i.default,{className:"transaction-breakdown__value",type:u.SECONDARY,value:_})))}}n.default=m,p(m,"contextTypes",{t:r.default.func}),p(m,"propTypes",{className:r.default.string,nativeCurrency:r.default.string,showFiat:r.default.bool,nonce:r.default.string,primaryCurrency:r.default.string,isTokenApprove:r.default.bool,gas:r.default.oneOfType([r.default.string,r.default.number]),gasPrice:r.default.oneOfType([r.default.string,r.default.number]),maxFeePerGas:r.default.oneOfType([r.default.string,r.default.number]),gasUsed:r.default.oneOfType([r.default.string,r.default.number]),totalInHex:r.default.oneOfType([r.default.string,r.default.number]),baseFee:r.default.oneOfType([r.default.string,r.default.number]),priorityFee:r.default.oneOfType([r.default.string,r.default.number]),hexGasTotal:r.default.string,isEIP1559Transaction:r.default.bool,isMultiLayerFeeNetwork:r.default.bool,l1HexGasTotal:r.default.string}),p(m,"defaultProps",{showFiat:!0})}}},{package:"$root$"}],[7636,{"../../../../shared/modules/conversion.utils":7332,"../../../../shared/modules/transaction.utils":7345,"../../../ducks/metamask/metamask":7859,"../../../helpers/utils/confirm-tx.util":7887,"../../../helpers/utils/conversions.util":7888,"../../../helpers/utils/transactions.util":7905,"../../../selectors":8267,"./transaction-breakdown.component":7635,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../selectors"),s=e("../../../ducks/metamask/metamask"),i=e("../../../helpers/utils/confirm-tx.util"),l=e("../../../helpers/utils/conversions.util"),u=e("../../../helpers/utils/transactions.util"),c=e("../../../../shared/modules/transaction.utils"),d=e("../../../../shared/modules/conversion.utils"),f=(a=e("./transaction-breakdown.component"))&&a.__esModule?a:{default:a};var p=(0,r.connect)(((e,t)=>{const{transaction:n,isTokenApprove:a}=t,{txParams:{gas:r,gasPrice:f,maxFeePerGas:p,value:m}={},txReceipt:{gasUsed:h,effectiveGasPrice:_,l1Fee:g}={},baseFeePerGas:y}=n,E="string"==typeof h?h:r,v=_&&y&&(0,l.subtractHexes)(_,y),b=(0,d.conversionUtil)(m,{fromNumericBase:"hex",toNumericBase:"hex",fromDenomination:"SATOSHI",toDenomination:"WEI"}),T=f||_,O=E&&T&&(0,i.getHexGasTotal)({gasLimit:E,gasPrice:T})||"0x0",P=(0,u.sumHexes)(O,b),k=(0,o.getIsMultiLayerFeeNetwork)(e)&&g!==undefined;return k&&(P=(0,u.sumHexes)(P,g)),{nativeCurrency:(0,s.getNativeCurrency)(e),showFiat:(0,o.getShouldShowFiat)(e),totalInHex:P,gas:r,gasPrice:f,maxFeePerGas:p,gasUsed:h,isTokenApprove:a,hexGasTotal:O,priorityFee:v,baseFee:y,isEIP1559Transaction:(0,c.isEIP1559Transaction)(n),isMultiLayerFeeNetwork:k,l1HexGasTotal:g}}))(f.default);n.default=p}}},{package:"$root$"}],[7637,{"../../../../../../helpers/utils/util":7907,"../../../../../../hooks/useI18nContext":7927,"../../../../../../selectors":8267,"../../../../../ui/identicon":7755,"../../../../modals/nickname-popovers":7551,"copy-to-clipboard":2518,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),s=f(e("copy-to-clipboard")),i=e("../../../../../../helpers/utils/util"),l=f(e("../../../../../ui/identicon")),u=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../selectors"),d=f(e("../../../../modals/nickname-popovers"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({checksummedRecipientAddress:e,onRecipientClick:t,addressOnly:n,recipientEns:o,recipientName:f})=>{const p=(0,u.useI18nContext)(),[m,h]=(0,a.useState)(!1),_=(0,r.useSelector)(c.getAddressBook).find((t=>t.address===e)),g=null==_?void 0:_.name,y=(0,r.useSelector)(isQtumAddressShow),E=n?g||o||(0,i.shortenAddress)(e):g||o||f||p("newContract");return a.default.createElement("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:()=>{(0,s.default)(e),t&&t()}},a.default.createElement("div",{className:"tx-insight-component-address__sender-icon"},a.default.createElement(l.default,{address:e,diameter:18})),a.default.createElement("div",{className:"address__name",onClick:()=>h(!0)},E),m?a.default.createElement(d.default,{onClose:()=>h(!1),address:e,isQtumAddressShow:y}):null)};m.propTypes={checksummedRecipientAddress:o.default.string,recipientName:o.default.string,recipientEns:o.default.string,addressOnly:o.default.bool,onRecipientClick:o.default.func};var h=m;n.default=h}}},{package:"$root$"}],[7638,{"./address.component":7637},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./address.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7639,{"../../../../../../contexts/i18n":7844,"../../../../../../helpers/constants/design-system":7868,"../../../../../../selectors":8267,"../../../../../ui/button":7686,"../../../../../ui/typography":7836,"@metamask/etherscan-link":1562,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),s=e("@metamask/etherscan-link"),i=e("../../../../../../selectors"),l=e("../../../../../../contexts/i18n"),u=e("../../../../../../helpers/constants/design-system"),c=f(e("../../../../../ui/button")),d=f(e("../../../../../ui/typography"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const m=({fetchVia:e,address:t})=>{const n=(0,a.useContext)(l.I18nContext),o=(0,r.useSelector)(i.getCurrentChainId),f=(0,r.useSelector)(i.getRpcPrefsForCurrentProvider),p=(0,s.getAccountLink)(t,o,f),m=()=>a.default.createElement(a.default.Fragment,null,a.default.createElement(d.default,{variant:u.TYPOGRAPHY.H7,className:"accreditation__prefix",boxProps:{margin:0}},n("transactionDecodingAccreditationVerified",[a.default.createElement(c.default,{type:"link",className:"accreditation__link",onClick:()=>{global.platform.openTab({url:p})},target:"_blank",rel:"noopener noreferrer",title:n("etherscanView"),key:"accreditation-link-button"},e)])),a.default.createElement(d.default,{variant:u.TYPOGRAPHY.H7,boxProps:{margin:0}},n("transactionDecodingAccreditationDecoded")));return a.default.createElement("div",{className:"accreditation"},a.default.createElement("div",{className:"accreditation__icon"},a.default.createElement("i",{className:"fa fa-info-circle"})),a.default.createElement("div",{className:"accreditation__info"},a.default.createElement(m,null)))};m.propTypes={fetchVia:o.default.string.isRequired,address:o.default.string.isRequired};var h=m;n.default=h}}},{package:"$root$"}],[7640,{"./accreditation.component":7639},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./accreditation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7641,{"../../../../../../contexts/i18n":7844,"../../../../../../hooks/useCopyToClipboard":7921,"../../../../../ui/icon/copy-icon.component":7726,"../../../../../ui/tooltip/tooltip":7833,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=u(e("prop-types")),o=u(e("../../../../../ui/tooltip/tooltip")),s=u(e("../../../../../ui/icon/copy-icon.component")),i=e("../../../../../../contexts/i18n"),l=e("../../../../../../hooks/useCopyToClipboard");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=({data:e})=>{const t=(0,a.useContext)(i.I18nContext),[n,r]=(0,l.useCopyToClipboard)();return a.default.createElement("div",{className:"copy-raw-data"},a.default.createElement(o.default,{position:"right",title:n?t("copiedExclamation"):""},a.default.createElement("button",{onClick:()=>{r(e)},className:"copy-raw-data__button"},a.default.createElement("div",{className:"copy-raw-data__icon"},a.default.createElement(s.default,{size:12,color:"var(--color-icon-default)"})),a.default.createElement("div",{className:"copy-raw-data__label"},t("copyRawTransactionData")))))};d.propTypes={data:r.default.string.isRequired};var f=d;n.default=f}}},{package:"$root$"}],[7642,{"./copy-raw-data.component":7641},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./copy-raw-data.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7643,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FETCH_SUPPORTED_NETWORKS_URI=n.FETCH_PROJECT_INFO_URI=void 0;const a="https://tx-insights.metaswap.codefi.network",r=`${a}/fetch-project`;n.FETCH_PROJECT_INFO_URI=r;const o=`${a}/networks`;n.FETCH_SUPPORTED_NETWORKS_URI=o}}},{package:"$root$"}],[7644,{"./transaction-decoding.component":7645},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-decoding.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7645,{"../../../../shared/modules/hexstring-utils":7336,"../../../contexts/i18n":7844,"../../../helpers/utils/conversions.util":7888,"../../../helpers/utils/fetch-with-cache":7890,"../../../selectors":8267,"../../ui/error-message":7712,"../../ui/spinner":7816,"./components/decoding/address":7638,"./components/ui/accreditation":7640,"./components/ui/copy-raw-data":7642,"./constants":7643,"./transaction-decoding.util":7646,"@truffle/codec":1907,"@truffle/decoder":1941,"browser-util-inspect":2403,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=O(e("react")),r=b(e("prop-types")),o=b(e("browser-util-inspect")),s=e("@truffle/decoder"),i=e("react-redux"),l=O(e("@truffle/codec")),u=b(e("../../ui/spinner")),c=b(e("../../ui/error-message")),d=b(e("../../../helpers/utils/fetch-with-cache")),f=e("../../../selectors"),p=e("../../../helpers/utils/conversions.util"),m=e("../../../contexts/i18n"),h=e("../../../../shared/modules/hexstring-utils"),_=e("./transaction-decoding.util"),g=e("./constants"),y=b(e("./components/decoding/address")),E=b(e("./components/ui/copy-raw-data")),v=b(e("./components/ui/accreditation"));function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function P({to:e="",inputData:t=""}){const n=(0,a.useContext)(m.I18nContext),[r,b]=(0,a.useState)([]),[T,O]=(0,a.useState)(""),[P,k]=(0,a.useState)(""),{address:w}=(0,i.useSelector)(f.getSelectedAccount),N=(0,p.hexToDecimal)((0,i.useSelector)(f.getCurrentChainId)),[S,C]=(0,a.useState)(!1),[M,x]=(0,a.useState)(!1),[A,R]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{C(!0);try{if(!(await(0,d.default)(g.FETCH_SUPPORTED_NETWORKS_URI,{method:"GET"})).some((e=>e.active&&Number(e.chainId)===Number(N))))throw new Error(n("transactionDecodingUnsupportedNetworkError",[N]));const a=`${g.FETCH_PROJECT_INFO_URI}?${new URLSearchParams({to:e,"network-id":N})}`,r=await(0,d.default)(a,{method:"GET"}),{info:o,fetchedVia:i,address:l}=r;l&&O(l),i&&k(i);const u=await(0,s.forAddress)(e,{provider:global.ethereumProvider,projectInfo:o}),c=await u.decodeTransaction({from:w,to:e,input:t,blockNumber:null}),f=(0,_.transformTxDecoding)(null==c?void 0:c.arguments);b(f),C(!1)}catch(e){C(!1),x(!0),null!=e&&e.message.match("400")?R(n("txInsightsNotSupported")):R(null==e?void 0:e.message)}})()}),[n,w,e,N,t]);const I=({name:e,kind:t,typeClass:r,value:s})=>{if("error"===t)return a.default.createElement("span",{className:"sol-item solidity-error"},a.default.createElement("span",null,n("malformedData")));switch(r){case"int":return a.default.createElement("span",{className:"sol-item solidity-int"},[s.asBN||s.asString].toString());case"uint":return a.default.createElement("span",{className:"sol-item solidity-uint"},[s.asBN||s.asString].toString());case"bytes":return a.default.createElement("span",{className:"sol-item solidity-bytes"},s.asHex);case"array":return a.default.createElement("details",null,a.default.createElement("summary",{className:"typography--color-black"},e,": "),a.default.createElement("ol",null,s.map(((e,t)=>{var n,r;return a.default.createElement("li",{key:`${null===(n=e.type)||void 0===n?void 0:n.typeClass}-${t}`},I({typeClass:null===(r=e.type)||void 0===r?void 0:r.typeClass,value:e.value,kind:e.kind}))}))));case"address":{const e=null==s?void 0:s.asAddress;(0,i.useSelector)(getQtumAddress,e);return a.default.createElement(y.default,{addressOnly:!0,checksummedRecipientAddress:(0,h.toChecksumHexAddress)(e),qtumAddress:!0})}default:return a.default.createElement("pre",{className:"sol-item solidity-raw"},(0,o.default)(new l.Format.Utils.Inspect.ResultInspector(s)))}},j=({name:e,kind:t,typeClass:n,type:r,value:o,children:s},i)=>s?a.default.createElement("li",{key:`${n}-${i}`},a.default.createElement("details",{open:0===i?"open":""},a.default.createElement("summary",null,e,": "),a.default.createElement("ol",null,s.map(j)))):a.default.createElement("li",{className:"solidity-value",key:`solidity-value-${i}`},a.default.createElement("div",{className:"solidity-named-item solidity-item"},"array"===n||Array.isArray(o)?null:a.default.createElement("span",{className:"param-name typography--color-black"},e,": "),a.default.createElement("span",{className:"sol-item solidity-uint"},I({name:e,typeClass:n,type:r,value:o,kind:t}))));return a.default.createElement("div",{className:"tx-insight"},S?a.default.createElement("div",{className:"tx-insight-loading"},a.default.createElement(u.default,{color:"var(--color-warning-default)"})):M?a.default.createElement("div",{className:"tx-insight-error"},a.default.createElement(c.default,{errorMessage:A})):a.default.createElement("div",{className:"tx-insight-content"},a.default.createElement("div",{className:"tx-insight-content__tree-component"},a.default.createElement("ol",null,r.map(j))),a.default.createElement("div",{className:"tx-insight-content__copy-raw-tx"},a.default.createElement(E.default,{data:t})),P&&T?a.default.createElement("div",{className:"tx-insight-content__accreditation"},a.default.createElement(v.default,{address:T,fetchVia:P})):null))}P.propTypes={to:r.default.string,inputData:r.default.string.isRequired}}}},{package:"$root$"}],[7646,{},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.transformTxDecoding=void 0;const a=e=>e.map((e=>{const t=e.name,n=e.value,r=n.kind,o=n.type.typeClass,s={name:t,kind:r,typeClass:o,type:n.type};return"struct"===o?{...s,children:a(n.value)}:{...s,value:n.value?n.value:n}}));n.transformTxDecoding=a}}},{package:"$root$"}],[7647,{"../../../helpers/constants/design-system":7868,"../../ui/typography/typography":7837,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=l(e("../../ui/typography/typography")),i=e("../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function u({detailTitle:e="",detailText:t="",detailTitleColor:n=i.COLORS.BLACK200,detailTotal:r="",subTitle:l="",subText:u="",boldHeadings:c=!0,flexWidthValues:d=!1}){return a.default.createElement("div",{className:"transaction-detail-item"},a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.createElement(s.default,{color:n,variant:i.TYPOGRAPHY.H4,fontWeight:c?i.FONT_WEIGHT.BOLD:i.FONT_WEIGHT.NORMAL,variant:i.TYPOGRAPHY.H6,boxProps:{display:i.DISPLAY.FLEX,flexWrap:i.FLEX_WRAP.NO_WRAP,alignItems:i.ALIGN_ITEMS.CENTER},fontSize:"20px"},e),a.default.createElement("div",{className:(0,o.default)("transaction-detail-item__detail-values",{"transaction-detail-item__detail-values--flex-width":d})},t&&a.default.createElement(s.default,{variant:i.TYPOGRAPHY.H5,color:i.COLORS.UI4,fontSize:"16px"},t),a.default.createElement(s.default,{color:i.COLORS.BLACK,fontWeight:c?i.FONT_WEIGHT.BOLD:i.FONT_WEIGHT.NORMAL,variant:i.TYPOGRAPHY.H5,margin:[1,0,1,1],fontSize:"16px",boxProps:{textAlign:i.TEXT_ALIGN.RIGHT}},r))),a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.isValidElement(l)?a.default.createElement("div",null,l):a.default.createElement(s.default,{variant:i.TYPOGRAPHY.H5,color:i.COLORS.BLACK200},l),a.default.createElement(s.default,{color:"#838595",fontSize:"16px",align:"end",className:"transaction-detail-item__row-subText"},u)))}u.propTypes={detailTitle:r.default.oneOfType([r.default.string,r.default.node]),detailTitleColor:r.default.string,detailText:r.default.oneOfType([r.default.string,r.default.node]),detailTotal:r.default.oneOfType([r.default.string,r.default.node]),subTitle:r.default.oneOfType([r.default.string,r.default.node]),subText:r.default.oneOfType([r.default.string,r.default.node]),boldHeadings:r.default.bool,flexWidthValues:r.default.bool}}}},{package:"$root$"}],[7648,{"../../../contexts/gasFee":7843,"../../../hooks/useI18nContext":7927,"../../ui/box":7682,"../edit-gas-fee-button":7453,"../transaction-detail-item/transaction-detail-item.component":7647,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../contexts/gasFee"),s=e("../../../hooks/useI18nContext"),i=c(e("../../ui/box")),l=c(e("../edit-gas-fee-button")),u=c(e("../transaction-detail-item/transaction-detail-item.component"));function c(e){return e&&e.__esModule?e:{default:e}}function d({rows:e=[],onEdit:t,userAcknowledgedGasMissing:n=!1,disableEditGasFeeButton:r=!1}){const u=(0,s.useI18nContext)(),{supportsEIP1559V2:c}=(0,o.useGasFeeContext)();return a.default.createElement("div",{className:"transaction-detail"},c&&!r&&a.default.createElement(i.default,{display:"flex",justifyContent:"flex-end",paddingTop:5},a.default.createElement(l.default,{userAcknowledgedGasMissing:n})),!c&&t&&a.default.createElement("div",{className:"transaction-detail-edit"},a.default.createElement("button",{onClick:t},a.default.createElement("i",{className:"fa fa-pencil-alt"})," ",u("edit"))),a.default.createElement("div",{className:"transaction-detail-rows"},e))}d.propTypes={rows:r.default.arrayOf(u.default).isRequired,onEdit:r.default.func,userAcknowledgedGasMissing:r.default.bool,disableEditGasFeeButton:r.default.bool}}}},{package:"$root$"}],[7649,{"./transaction-icon":7650},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-icon"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7650,{"../../../../shared/constants/transaction":7329,"../../../store/actions":8273,"../../ui/icon/approve-icon.component":7725,"../../ui/icon/interaction-icon.component":7741,"../../ui/icon/receive-icon.component":7744,"../../ui/icon/send-icon.component":7746,"../../ui/icon/sign-icon.component":7747,"../../ui/icon/swap-icon-for-list.component":7749,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=m(e("react")),r=e("react-redux"),o=m(e("prop-types")),s=m(e("../../ui/icon/approve-icon.component")),i=m(e("../../ui/icon/interaction-icon.component")),l=m(e("../../ui/icon/receive-icon.component")),u=m(e("../../ui/icon/send-icon.component")),c=m(e("../../ui/icon/sign-icon.component")),d=m(e("../../ui/icon/swap-icon-for-list.component")),f=e("../../../../shared/constants/transaction"),p=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}const h={[f.TRANSACTION_GROUP_CATEGORIES.APPROVAL]:s.default,[f.TRANSACTION_GROUP_CATEGORIES.INTERACTION]:i.default,[f.TRANSACTION_GROUP_CATEGORIES.RECEIVE]:l.default,[f.TRANSACTION_GROUP_CATEGORIES.SEND]:u.default,[f.TRANSACTION_GROUP_CATEGORIES.SIGNATURE_REQUEST]:c.default,[f.TRANSACTION_GROUP_CATEGORIES.SWAP]:d.default},_="var(--color-error-default)",g="var(--color-icon-default)",y={[f.TRANSACTION_GROUP_STATUSES.PENDING]:g,[f.TRANSACTION_GROUP_STATUSES.CANCELLED]:_,[f.TRANSACTION_STATUSES.APPROVED]:g,[f.TRANSACTION_STATUSES.DROPPED]:_,[f.TRANSACTION_STATUSES.FAILED]:_,[f.TRANSACTION_STATUSES.REJECTED]:_,[f.TRANSACTION_STATUSES.SUBMITTED]:g,[f.TRANSACTION_STATUSES.UNAPPROVED]:g};function E({status:e,category:t}){const n=(0,r.useDispatch)(),o=y[e]||"var(--color-primary-default)",s=h[t];return s?a.default.createElement(s,{color:o,size:28}):(n((0,p.captureSingleException)(`The category prop passed to TransactionIcon is not supported. The prop is: ${t}`)),a.default.createElement("div",{className:"transaction-icon__grey-circle"}))}E.propTypes={status:o.default.oneOf([f.TRANSACTION_GROUP_STATUSES.CANCELLED,f.TRANSACTION_GROUP_STATUSES.PENDING,f.TRANSACTION_STATUSES.APPROVED,f.TRANSACTION_STATUSES.CONFIRMED,f.TRANSACTION_STATUSES.DROPPED,f.TRANSACTION_STATUSES.FAILED,f.TRANSACTION_STATUSES.REJECTED,f.TRANSACTION_STATUSES.SUBMITTED,f.TRANSACTION_STATUSES.UNAPPROVED]).isRequired,category:o.default.oneOf([f.TRANSACTION_GROUP_CATEGORIES.APPROVAL,f.TRANSACTION_GROUP_CATEGORIES.INTERACTION,f.TRANSACTION_GROUP_CATEGORIES.RECEIVE,f.TRANSACTION_GROUP_CATEGORIES.SEND,f.TRANSACTION_GROUP_CATEGORIES.SIGNATURE_REQUEST,f.TRANSACTION_GROUP_CATEGORIES.SWAP]).isRequired}}}},{package:"$root$"}],[7651,{"./transaction-list-item-details.container":7653},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list-item-details.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7652,{"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/time":7327,"../../../../shared/constants/transaction":7329,"../../../helpers/constants/routes":7872,"../../../helpers/utils/util":7907,"../../ui/button":7686,"../../ui/disclosure":7706,"../../ui/popover":7798,"../../ui/sender-to-recipient":7805,"../../ui/sender-to-recipient/sender-to-recipient.constants":7807,"../../ui/tooltip":7832,"../cancel-button":7390,"../transaction-activity-log":7625,"../transaction-breakdown":7632,"../transaction-decoding":7644,"@metamask/etherscan-link":1562,"copy-to-clipboard":2518,"ethereumjs-util":2891,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=O(e("prop-types")),o=O(e("copy-to-clipboard")),s=e("@metamask/etherscan-link"),i=e("ethereumjs-util"),l=O(e("../../ui/sender-to-recipient")),u=e("../../ui/sender-to-recipient/sender-to-recipient.constants"),c=O(e("../../ui/disclosure")),d=O(e("../transaction-activity-log")),f=O(e("../transaction-breakdown")),p=O(e("../../ui/button")),m=O(e("../../ui/tooltip")),h=O(e("../cancel-button")),_=O(e("../../ui/popover")),g=e("../../../../shared/constants/time"),y=e("../../../../shared/constants/metametrics"),E=e("../../../../shared/constants/transaction"),v=e("../../../helpers/utils/util"),b=O(e("../transaction-decoding")),T=e("../../../helpers/constants/routes");function O(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends a.PureComponent{constructor(...e){super(...e),k(this,"state",{justCopied:!1}),k(this,"handleBlockExplorerClick",(()=>{const{transactionGroup:{primaryTransaction:e},rpcPrefs:t,isCustomNetwork:n,history:a,onClose:r}=this.props,o=(0,s.getBlockExplorerLink)({hash:(0,i.stripHexPrefix)(e.hash),chainId:e.chainId},t);!t.blockExplorerUrl&&n?(r(),a.push(`${T.NETWORKS_ROUTE}#blockExplorerUrl`)):(this.context.trackEvent({category:y.EVENT.CATEGORIES.TRANSACTIONS,event:"Clicked Block Explorer Link",properties:{link_type:"Transaction Block Explorer",action:"Transaction Details",block_explorer_domain:(0,v.getURLHostName)(o)}}),global.platform.openTab({url:o}))})),k(this,"handleCancel",(e=>{const{onCancel:t,onClose:n}=this.props;t(e),n()})),k(this,"handleRetry",(e=>{const{onClose:t,onRetry:n}=this.props;n(e),t()})),k(this,"handleCopyTxId",(()=>{const{transactionGroup:e}=this.props,{primaryTransaction:t}=e,{hash:n}=t;this.context.trackEvent({category:y.EVENT.CATEGORIES.NAVIGATION,event:"Copied Transaction ID",properties:{action:"Activity Log",legacy_event:!0}}),this.setState({justCopied:!0},(()=>{(0,o.default)(n),setTimeout((()=>this.setState({justCopied:!1})),g.SECOND)}))}))}componentDidMount(){const{recipientAddress:e,tryReverseResolveAddress:t}=this.props;e&&t(e)}render(){var e,t,n,r;const{t:o}=this.context,{justCopied:s}=this.state,{transactionGroup:i,primaryCurrency:g,showSpeedUp:v,showRetry:T,recipientEns:O,recipientAddress:P,senderAddress:k,isEarliestNonce:w,senderNickname:N,title:S,onClose:C,recipientNickname:M,showCancel:x,transactionStatus:A,blockExplorerLinkText:R}=this.props,{primaryTransaction:I,initialTransaction:{type:j}}=i,{hash:D}=I;return a.default.createElement(_.default,{title:S,onClose:C},a.default.createElement("div",{className:"transaction-list-item-details"},a.default.createElement("div",{className:"transaction-list-item-details__header"},a.default.createElement("div",{className:"transaction-list-item-details__header-buttons"},v&&a.default.createElement(p.default,{type:"primary",onClick:this.handleRetry,className:"transaction-list-item-details__header-button-rounded-button"},o("speedUp")),x&&a.default.createElement(h.default,{transaction:I,cancelTransaction:this.handleCancel,detailsModal:!0}),a.default.createElement(m.default,{wrapperClassName:"transaction-list-item-details__header-button",containerClassName:"transaction-list-item-details__header-button-tooltip-container",title:o(s?"copiedTransactionId":"copyTransactionId")},a.default.createElement(p.default,{type:"raised",onClick:this.handleCopyTxId,disabled:!D,className:"transaction-list-item-details__header-rounded-button"},a.default.createElement("img",{src:"./images/icons/copy-line.svg",alt:""}))),a.default.createElement(m.default,{wrapperClassName:"transaction-list-item-details__header-button",containerClassName:"transaction-list-item-details__header-button-tooltip-container",title:s?o("copiedExclamation"):null},a.default.createElement(p.default,{type:"raised",onClick:this.handleBlockExplorerClick,disabled:!D,className:"transaction-list-item-details__header-rounded-button"},a.default.createElement("img",{src:"./images/icons/send-alt.svg",alt:""}))),T&&a.default.createElement(m.default,{title:o("retryTransaction")},a.default.createElement(p.default,{type:"raised",onClick:this.handleRetry,className:"transaction-list-item-details__header-button"},a.default.createElement("i",{className:"fa fa-sync"}))))),a.default.createElement("div",{className:"transaction-list-item-details__header"},a.default.createElement("div",{className:"transaction-list-item-details__tx-status"},a.default.createElement("div",null,o("status")),a.default.createElement("div",null,a.default.createElement(A,null))),a.default.createElement("div",{className:"transaction-list-item-details__tx-hash"},a.default.createElement("div",null,a.default.createElement(p.default,{type:"link",onClick:this.handleBlockExplorerClick,disabled:!D},"addBlockExplorer"===R.firstPart?o("addBlockExplorer"):o("viewOnBlockExplorer"))),a.default.createElement("div",null,a.default.createElement(m.default,{wrapperClassName:"transaction-list-item-details__header-button",containerClassName:"transaction-list-item-details__header-button-tooltip-container",title:s?o("copiedExclamation"):null},a.default.createElement(p.default,{type:"link",onClick:this.handleCopyTxId,disabled:!D},o("copyTransactionId")))))),a.default.createElement("div",{className:"transaction-list-item-details__body"},a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-header"},a.default.createElement("div",null,o("from")),a.default.createElement("div",null,o("to"))),a.default.createElement("div",{className:"transaction-list-item-details__sender-to-recipient-container"},a.default.createElement(l.default,{warnUserOnAccountMismatch:!1,variant:u.DEFAULT_VARIANT,addressOnly:!0,recipientEns:O,recipientAddress:P,recipientNickname:M,senderName:N,senderAddress:k,onRecipientClick:()=>{this.context.trackEvent({category:y.EVENT.CATEGORIES.NAVIGATION,event:'Copied "To" Address',properties:{action:"Activity Log",legacy_event:!0}})},onSenderClick:()=>{this.context.trackEvent({category:y.EVENT.CATEGORIES.NAVIGATION,event:'Copied "From" Address',properties:{action:"Activity Log",legacy_event:!0}})}})),a.default.createElement("div",{className:"transaction-list-item-details__cards-container"},a.default.createElement(f.default,{nonce:i.initialTransaction.txParams.nonce,isTokenApprove:j===E.TRANSACTION_TYPES.TOKEN_METHOD_APPROVE||j===E.TRANSACTION_TYPES.TOKEN_METHOD_SET_APPROVAL_FOR_ALL,transaction:I,primaryCurrency:g,className:"transaction-list-item-details__transaction-breakdown"}),i.initialTransaction.type!==E.TRANSACTION_TYPES.INCOMING&&a.default.createElement(c.default,{title:o("activityLog"),size:"small"},a.default.createElement(d.default,{transactionGroup:i,className:"transaction-list-item-details__transaction-activity-log",onCancel:this.handleCancel,onRetry:this.handleRetry,isEarliestNonce:w})),null!==(e=i.initialTransaction)&&void 0!==e&&null!==(t=e.txParams)&&void 0!==t&&t.data?a.default.createElement(c.default,{title:"Transaction data",size:"small"},a.default.createElement(b.default,{title:o("transactionData"),to:null===(n=i.initialTransaction.txParams)||void 0===n?void 0:n.to,inputData:null===(r=i.initialTransaction.txParams)||void 0===r?void 0:r.data})):null))))}}n.default=w,k(w,"contextTypes",{t:r.default.func,trackEvent:r.default.func}),k(w,"defaultProps",{recipientEns:null}),k(w,"propTypes",{onCancel:r.default.func,onRetry:r.default.func,showCancel:r.default.bool,showSpeedUp:r.default.bool,showRetry:r.default.bool,isEarliestNonce:r.default.bool,primaryCurrency:r.default.string,transactionGroup:r.default.object,title:r.default.string.isRequired,onClose:r.default.func.isRequired,recipientEns:r.default.string,recipientAddress:r.default.string,rpcPrefs:r.default.object,senderAddress:r.default.string.isRequired,tryReverseResolveAddress:r.default.func.isRequired,senderNickname:r.default.string.isRequired,recipientNickname:r.default.string,transactionStatus:r.default.func,isCustomNetwork:r.default.bool,history:r.default.object,blockExplorerLinkText:r.default.object})}}},{package:"$root$"}],[7653,{"../../../../shared/modules/hexstring-utils":7336,"../../../selectors":8267,"../../../store/actions":8273,"./transaction-list-item-details.component":7652,"react-redux":6775,"react-router-dom":6795,redux:6852},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../store/actions"),l=e("../../../selectors"),u=e("../../../../shared/modules/hexstring-utils"),c=(a=e("./transaction-list-item-details.component"))&&a.__esModule?a:{default:a};var d=(0,o.compose)(s.withRouter,(0,r.connect)(((e,t)=>{const{recipientAddress:n,senderAddress:a}=t;let r;if(n){const t=(0,u.toChecksumHexAddress)(n);r=(0,l.getEnsResolutionByAddress)(e,t)}const o=(0,l.getAddressBook)(e),s=e=>{const t=o.find((t=>e.toLowerCase()===t.address.toLowerCase()));return t&&t.name||""},i=(0,l.getRpcPrefsForCurrentProvider)(e),c=(0,l.getIsCustomNetwork)(e);return{rpcPrefs:i,recipientEns:r,senderNickname:s(a),recipientNickname:n?s(n):null,isCustomNetwork:c,blockExplorerLinkText:(0,l.getBlockExplorerLinkText)(e)}}),(e=>({tryReverseResolveAddress:t=>e((0,i.tryReverseResolveAddress)(t))}))))(c.default);n.default=d}}},{package:"$root$"}],[7654,{"./transaction-list-item.component":7656},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7655,{"../../../../shared/constants/transaction":7329,"../../../ducks/swaps/swaps":7863,"../../../helpers/utils/util":7907,"../../../hooks/useI18nContext":7927,"../../../hooks/useTransactionDisplayData":7942,"../../ui/list-item":7761,"../../ui/site-origin":7812,"../cancel-button":7390,"../transaction-icon":7649,"../transaction-list-item-details":7651,"../transaction-status/transaction-status.component":7659,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=g(e("../../ui/list-item")),i=g(e("../transaction-status/transaction-status.component")),l=g(e("../transaction-icon")),u=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionDisplayData"),d=e("../../../helpers/utils/util"),f=e("../../../../shared/constants/transaction"),p=g(e("../cancel-button")),m=e("../../../ducks/swaps/swaps"),h=g(e("../../ui/site-origin")),_=g(e("../transaction-list-item-details"));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E({smartTransaction:e,transactionGroup:t,isEarliestNonce:n=!1}){const r=(0,o.useDispatch)(),g=(0,u.useI18nContext)(),[y,E]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),{primaryCurrency:T,recipientAddress:O,isPending:P,senderAddress:k}=(0,c.useTransactionDisplayData)(t),{sourceTokenSymbol:w,destinationTokenSymbol:N,time:S,status:C}=e,M=f.TRANSACTION_GROUP_CATEGORIES.SWAP,x=g("swapTokenToToken",[w,N]),A="metamask",R=(0,d.formatDateWithYearContext)(S);let I;C===f.SMART_TRANSACTION_STATUSES.PENDING?I=f.TRANSACTION_GROUP_STATUSES.PENDING:null!=C&&C.startsWith(f.SMART_TRANSACTION_STATUSES.CANCELLED)&&(I=f.TRANSACTION_GROUP_STATUSES.CANCELLED);const j=e.cancellable&&!y,D=(0,a.useCallback)((()=>{b((e=>!e))}),[]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"transaction-list-item transaction-list-item--unconfirmed",title:x,onClick:D,icon:a.default.createElement(l.default,{category:M,status:I}),subtitle:a.default.createElement("h3",null,a.default.createElement(i.default,{isPending:!0,isEarliestNonce:n,date:R,status:I}),a.default.createElement(h.default,{className:"transaction-list-item__origin",siteOrigin:A,title:A}))},I===f.TRANSACTION_GROUP_STATUSES.PENDING&&j&&a.default.createElement("div",{className:"transaction-list-item__pending-actions"},a.default.createElement(p.default,{transaction:e.uuid,cancelTransaction:t=>{null==t||t.preventDefault(),r((0,m.cancelSwapsSmartTransaction)(e.uuid)),E(!0)}}))),v&&a.default.createElement(_.default,{title:x,onClose:D,senderAddress:k,recipientAddress:O,primaryCurrency:T,isEarliestNonce:n,transactionGroup:t,transactionStatus:()=>a.default.createElement(i.default,{isPending:P,isEarliestNonce:n,date:R,status:I,statusOnly:!0})}))}E.propTypes={smartTransaction:r.default.object.isRequired,isEarliestNonce:r.default.bool,transactionGroup:r.default.object}}}},{package:"$root$"}],[7656,{"../../../../shared/constants/gas":7318,"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/transaction":7329,"../../../contexts/gasFee":7843,"../../../contexts/metametrics":7845,"../../../contexts/transaction-modal":7846,"../../../helpers/constants/routes":7872,"../../../helpers/utils/transactions.util":7905,"../../../hooks/useI18nContext":7927,"../../../hooks/useShouldShowSpeedUp":7934,"../../../hooks/useTransactionDisplayData":7942,"../../../selectors":8267,"../../ui/button":7686,"../../ui/list-item":7761,"../../ui/site-origin":7812,"../advanced-gas-fee-popover":7372,"../cancel-button":7390,"../cancel-speedup-popover":7392,"../edit-gas-fee-popover":7460,"../edit-gas-popover":7467,"../transaction-icon":7649,"../transaction-list-item-details":7651,"../transaction-status/transaction-status.component":7659,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=x(e("prop-types")),o=x(e("classnames")),s=e("react-router-dom"),i=e("react-redux"),l=x(e("../../ui/list-item")),u=e("../../../hooks/useTransactionDisplayData"),c=e("../../../hooks/useI18nContext"),d=x(e("../transaction-list-item-details")),f=e("../../../helpers/constants/routes"),p=e("../../../hooks/useShouldShowSpeedUp"),m=x(e("../transaction-status/transaction-status.component")),h=x(e("../transaction-icon")),_=e("../../../../shared/constants/metametrics"),g=e("../../../../shared/constants/transaction"),y=e("../../../../shared/constants/gas"),E=e("../../../contexts/gasFee"),v=e("../../../contexts/transaction-modal"),b=e("../../../selectors"),T=e("../../../helpers/utils/transactions.util"),O=x(e("../../ui/button")),P=x(e("../advanced-gas-fee-popover")),k=x(e("../cancel-button")),w=x(e("../cancel-speedup-popover")),N=x(e("../edit-gas-fee-popover")),S=x(e("../edit-gas-popover")),C=e("../../../contexts/metametrics"),M=x(e("../../ui/site-origin"));function x(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},R.apply(this,arguments)}function I({transactionGroup:e,setEditGasMode:t,isEarliestNonce:n=!1}){const r=(0,c.useI18nContext)(),i=(0,s.useHistory)(),{hasCancelled:b}=e,[T,P]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[x,A]=(0,a.useState)(!1),{supportsEIP1559V2:R}=(0,E.useGasFeeContext)(),{openModal:I}=(0,v.useTransactionModalContext)(),{initialTransaction:{id:j},primaryTransaction:{err:D,status:G}}=e,L=(0,a.useContext)(C.MetaMetricsContext),$=(0,a.useCallback)((async e=>{e.stopPropagation(),L({event:'Clicked "Speed Up"',category:_.EVENT.CATEGORIES.NAVIGATION,properties:{action:"Activity Log",legacy_event:!0}}),R?(t(y.EDIT_GAS_MODES.SPEED_UP),I("cancelSpeedUpTransaction")):A(!0)}),[I,t,L,R]),W=(0,a.useCallback)((e=>{e.stopPropagation(),L({event:'Clicked "Cancel"',category:_.EVENT.CATEGORIES.NAVIGATION,properties:{action:"Activity Log",legacy_event:!0}}),R?(t(y.EDIT_GAS_MODES.CANCEL),I("cancelSpeedUpTransaction")):N(!0)}),[L,I,t,R]),F=(0,p.useShouldShowSpeedUp)(e,n),{title:U,subtitle:q,subtitleContainsOrigin:H,date:B,category:Y,primaryCurrency:V,recipientAddress:K,secondaryCurrency:z,displayedStatusKey:Q,isPending:X,senderAddress:Z}=(0,u.useTransactionDisplayData)(e),J=Y===g.TRANSACTION_GROUP_CATEGORIES.SIGNATURE_REQUEST,ee=Y===g.TRANSACTION_GROUP_CATEGORIES.APPROVAL,te=G===g.TRANSACTION_STATUSES.UNAPPROVED,ne=Y===g.TRANSACTION_GROUP_CATEGORIES.SWAP,ae=(0,o.default)("transaction-list-item",{"transaction-list-item--unconfirmed":X||[g.TRANSACTION_STATUSES.FAILED,g.TRANSACTION_STATUSES.DROPPED,g.TRANSACTION_STATUSES.REJECTED].includes(Q)}),re=(0,a.useCallback)((()=>{te?i.push(`${f.CONFIRM_TRANSACTION_ROUTE}/${j}`):P((e=>!e))}),[te,i,j]),oe=(0,a.useMemo)((()=>F&&X&&!te?a.default.createElement(O.default,{type:"primary",onClick:b?W:$,style:b?{width:"auto"}:null},r(b?"speedUpCancellation":"speedUp")):null),[F,te,r,X,b,$,W]),se=!b&&X&&!te;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{onClick:re,className:ae,title:U,icon:a.default.createElement(h.default,{category:Y,status:Q}),subtitle:a.default.createElement("h3",null,a.default.createElement(m.default,{isPending:X,isEarliestNonce:n,error:D,date:B,status:Q}),H?a.default.createElement(M.default,{siteOrigin:q}):a.default.createElement("span",{className:"transaction-list-item__address",title:q},q)),rightContent:!J&&!ee&&a.default.createElement(a.default.Fragment,null,a.default.createElement("h2",{title:V,className:"transaction-list-item__primary-currency"},V),a.default.createElement("h3",{className:"transaction-list-item__secondary-currency"},z))},a.default.createElement("div",{className:"transaction-list-item__pending-actions"},oe,se&&a.default.createElement(k.default,{transaction:e.primaryTransaction,cancelTransaction:W}))),T&&a.default.createElement(d.default,{title:U,onClose:re,transactionGroup:e,primaryCurrency:V,senderAddress:Z,recipientAddress:K,onRetry:$,showRetry:G===g.TRANSACTION_STATUSES.FAILED&&!ne,showSpeedUp:F,isEarliestNonce:n,onCancel:W,showCancel:X&&!b,transactionStatus:()=>a.default.createElement(m.default,{isPending:X,isEarliestNonce:n,error:D,date:B,status:Q,statusOnly:!0})}),!R&&x&&a.default.createElement(S.default,{onClose:()=>A(!1),mode:y.EDIT_GAS_MODES.SPEED_UP,transaction:e.primaryTransaction}),!R&&w&&a.default.createElement(S.default,{onClose:()=>N(!1),mode:y.EDIT_GAS_MODES.CANCEL,transaction:e.primaryTransaction}))}I.propTypes={transactionGroup:r.default.object.isRequired,isEarliestNonce:r.default.bool,setEditGasMode:r.default.func};const j=e=>{const{transactionGroup:t}=e,[n,r]=(0,a.useState)(),o=t.primaryTransaction,s=(0,i.useSelector)(b.getEIP1559V2Enabled),l=(0,i.useSelector)(b.checkNetworkAndAccountSupports1559)&&!(0,T.isLegacyTransaction)(null==o?void 0:o.txParams),u=s&&l;return a.default.createElement(E.GasFeeContextProvider,{transaction:t.primaryTransaction,editGasMode:n},a.default.createElement(v.TransactionModalContextProvider,null,a.default.createElement(I,R({},e,{setEditGasMode:r})),u&&a.default.createElement(a.default.Fragment,null,a.default.createElement(w.default,null),a.default.createElement(N.default,null),a.default.createElement(P.default,null))))};j.propTypes={transactionGroup:r.default.object.isRequired};var D=j;n.default=D}}},{package:"$root$"}],[7657,{"./transaction-list.component":7658},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7658,{"../../../../shared/constants/swaps":7326,"../../../../shared/constants/transaction":7329,"../../../../shared/modules/string-utils":7343,"../../../helpers/constants/transactions":7874,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../../../selectors/transactions":8271,"../../ui/button":7686,"../transaction-list-item":7654,"../transaction-list-item/smart-transaction-list-item.component":7655,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=_(e("prop-types")),o=e("react-redux"),s=e("../../../selectors/transactions"),i=e("../../../selectors"),l=e("../../../hooks/useI18nContext"),u=_(e("../transaction-list-item")),c=_(e("../transaction-list-item/smart-transaction-list-item.component")),d=_(e("../../ui/button")),f=e("../../../helpers/constants/transactions"),p=e("../../../../shared/constants/swaps"),m=e("../../../../shared/constants/transaction"),h=e("../../../../shared/modules/string-utils");function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const y=({initialTransaction:{type:e,destinationTokenSymbol:t,sourceTokenSymbol:n}})=>!f.TOKEN_CATEGORY_HASH[e]&&(e!==m.TRANSACTION_TYPES.SWAP||("ETH"===t||"ETH"===n)),E=(e,t,n,a)=>t?e.filter(y):n?e.filter(((e,t)=>({initialTransaction:{txParams:n}})=>(0,h.isEqualCaseInsensitive)(null==n?void 0:n.to,e)||(null==n?void 0:n.to)===p.SWAPS_CHAINID_CONTRACT_ADDRESS_MAP[t]&&n.data.match(e.slice(2)))(n,a)):e;function v({hideTokenTransactions:e,tokenAddress:t}){const[n,r]=(0,a.useState)(10),f=(0,l.useI18nContext)(),p=(0,o.useSelector)(s.nonceSortedPendingTransactionsSelector),h=(0,o.useSelector)(s.nonceSortedCompletedTransactionsSelector),_=(0,o.useSelector)(i.getCurrentChainId),g=(0,a.useMemo)((()=>E(p,e,t,_)),[e,t,p,_]),y=(0,a.useMemo)((()=>E(h,e,t,_)),[e,t,h,_]),v=(0,a.useCallback)((()=>r((e=>e+10))),[]);return a.default.createElement("div",{className:"transaction-list"},a.default.createElement("div",{className:"transaction-list__transactions"},g.length>0&&a.default.createElement("div",{className:"transaction-list__pending-transactions"},a.default.createElement("div",{className:"transaction-list__header"},`${f("queue")} (${g.length})`),g.map(((e,t)=>e.initialTransaction.transactionType===m.TRANSACTION_TYPES.SMART?a.default.createElement(c.default,{isEarliestNonce:0===t,smartTransaction:e.initialTransaction,transactionGroup:e,key:`${e.nonce}:${t}`}):a.default.createElement(u.default,{isEarliestNonce:0===t,transactionGroup:e,key:`${e.nonce}:${t}`})))),a.default.createElement("div",{className:"transaction-list__completed-transactions"},g.length>0?a.default.createElement("div",{className:"transaction-list__header"},f("history")):null,y.length>0?y.slice(0,n).map(((e,t)=>{var r;return"smart"===(null===(r=e.initialTransaction)||void 0===r?void 0:r.transactionType)?a.default.createElement(c.default,{transactionGroup:e,smartTransaction:e.initialTransaction,key:`${e.nonce}:${t}`}):a.default.createElement(u.default,{transactionGroup:e,key:`${e.nonce}:${n+t-10}`})})):a.default.createElement("div",{className:"transaction-list__empty"},a.default.createElement("div",{className:"transaction-list__empty-text"},f("noTransactions"))),y.length>n&&a.default.createElement(d.default,{className:"transaction-list__view-more",type:"secondary",onClick:v},f("viewMore")))))}v.propTypes={hideTokenTransactions:r.default.bool,tokenAddress:r.default.string},v.defaultProps={hideTokenTransactions:!1,tokenAddress:undefined}}}},{package:"$root$"}],[7659,{"../../../../shared/constants/transaction":7329,"../../../hooks/useI18nContext":7927,"../../ui/tooltip":7832,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=u(e("react")),r=u(e("prop-types")),o=u(e("classnames")),s=u(e("../../ui/tooltip")),i=e("../../../hooks/useI18nContext"),l=e("../../../../shared/constants/transaction");function u(e){return e&&e.__esModule?e:{default:e}}const c="queued",d={[l.TRANSACTION_STATUSES.SUBMITTED]:l.TRANSACTION_GROUP_STATUSES.PENDING,[l.TRANSACTION_STATUSES.APPROVED]:l.TRANSACTION_GROUP_STATUSES.PENDING,[l.TRANSACTION_STATUSES.SIGNED]:l.TRANSACTION_GROUP_STATUSES.PENDING},f={[l.TRANSACTION_STATUSES.UNAPPROVED]:"transaction-status--unapproved",[l.TRANSACTION_STATUSES.REJECTED]:"transaction-status--rejected",[l.TRANSACTION_STATUSES.FAILED]:"transaction-status--failed",[l.TRANSACTION_STATUSES.DROPPED]:"transaction-status--dropped",[l.TRANSACTION_GROUP_STATUSES.CANCELLED]:"transaction-status--cancelled",[c]:"transaction-status--queued",[l.TRANSACTION_GROUP_STATUSES.PENDING]:"transaction-status--pending"};function p({status:e,date:t,error:n,isEarliestNonce:r,className:u,statusOnly:p}){var m;const h=(0,i.useI18nContext)(),_=(null==n||null===(m=n.rpc)||void 0===m?void 0:m.message)||(null==n?void 0:n.message);let g=e;d[e]&&(g=r?l.TRANSACTION_GROUP_STATUSES.PENDING:c);const y=g!==l.TRANSACTION_STATUSES.CONFIRMED||p?g&&h(g):t;return a.default.createElement(s.default,{position:"top",title:_,wrapperClassName:(0,o.default)("transaction-status",`transaction-status--${g}`,u,f[g])},y)}p.propTypes={status:r.default.string,className:r.default.string,date:r.default.string,error:r.default.object,isEarliestNonce:r.default.bool,statusOnly:r.default.bool}}}},{package:"$root$"}],[7660,{"../../../helpers/constants/design-system":7868,"../../ui/typography/typography":7837,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var a=i(e("react")),r=i(e("prop-types")),o=i(e("../../ui/typography/typography")),s=e("../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}function l({total:e="",detail:t="",timing:n}){return a.default.createElement("div",{className:"transaction-total-banner"},a.default.createElement(o.default,{color:s.COLORS.TEXT_DEFAULT,variant:s.TYPOGRAPHY.H1},e),t&&a.default.createElement(o.default,{color:s.COLORS.TEXT_DEFAULT,variant:s.TYPOGRAPHY.H6,className:"transaction-total-banner__detail"},t),n)}l.propTypes={total:r.default.oneOfType([r.default.string,r.default.node]),detail:r.default.oneOfType([r.default.string,r.default.node]),timing:r.default.oneOfType([r.default.string,r.default.node])}}}},{package:"$root$"}],[7661,{"./user-preferenced-currency-display.component":7662},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-currency-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7662,{"../../../helpers/constants/common":7865,"../../../hooks/useUserPreferencedCurrency":7944,"../../ui/currency-display":7701,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=l(e("prop-types")),o=e("../../../helpers/constants/common"),s=l(e("../../ui/currency-display")),i=e("../../../hooks/useUserPreferencedCurrency");function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function d({"data-testid":e,ethLogoHeight:t=14,ethNumberOfDecimals:n,fiatNumberOfDecimals:r,numberOfDecimals:l,showEthLogo:u,type:d,showFiat:f,showCurrencySuffix:p,...m}){const{currency:h,numberOfDecimals:_}=(0,i.useUserPreferencedCurrency)(d,{ethNumberOfDecimals:n,fiatNumberOfDecimals:r,numberOfDecimals:l,showFiatOverride:f}),g=(0,a.useMemo)((()=>h===o.ETH&&u&&a.default.createElement("i",{className:"fab fa-ethereum",style:{color:"var(--color-icon-default)",fontSize:t}})),[h,u,t]);return a.default.createElement(s.default,c({},m,{currency:h,"data-testid":e,numberOfDecimals:_,prefixComponent:g,suffix:p&&!u&&h}))}d.propTypes={className:r.default.string,"data-testid":r.default.string,prefix:r.default.string,value:r.default.string,numberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),hideLabel:r.default.bool,hideTitle:r.default.bool,style:r.default.object,showEthLogo:r.default.bool,ethLogoHeight:r.default.number,type:r.default.oneOf([o.PRIMARY,o.SECONDARY]),ethNumberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),fiatNumberOfDecimals:r.default.oneOfType([r.default.string,r.default.number]),showFiat:r.default.bool,showCurrencySuffix:r.default.bool}}}},{package:"$root$"}],[7663,{"./user-preferenced-currency-input.container":7665},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-currency-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7664,{"../currency-input":7438,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=u(e("prop-types")),l=u(e("../currency-input"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}class f extends s.PureComponent{render(){const{useNativeCurrencyAsPrimaryCurrency:e,sendInputCurrencySwitched:t,...n}=this.props;return s.default.createElement(l.default,d({},n,{featureSecondary:Boolean(e&&t||!e&&!t)}))}}n.default=f,a=f,r="propTypes",o={useNativeCurrencyAsPrimaryCurrency:i.default.bool,sendInputCurrencySwitched:i.default.bool},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7665,{"../../../ducks/app/app":7851,"../../../selectors":8267,"./user-preferenced-currency-input.component":7664,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../../ducks/app/app"),s=e("../../../selectors"),i=(a=e("./user-preferenced-currency-input.component"))&&a.__esModule?a:{default:a};var l=(0,r.connect)((e=>{const{useNativeCurrencyAsPrimaryCurrency:t}=(0,s.getPreferences)(e);return{useNativeCurrencyAsPrimaryCurrency:t,sendInputCurrencySwitched:e.appState.sendInputCurrencySwitched}}),(e=>({onPreferenceToggle:()=>e((0,o.toggleCurrencySwitch)())})))(i.default);n.default=l}}},{package:"$root$"}],[7666,{"./user-preferenced-token-input.container":7668},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./user-preferenced-token-input.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7667,{"../../ui/token-input":7829,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r,o,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),i=u(e("prop-types")),l=u(e("../../ui/token-input"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}class f extends s.PureComponent{render(){const{useNativeCurrencyAsPrimaryCurrency:e,...t}=this.props;return s.default.createElement(l.default,d({},t,{showFiat:!e}))}}n.default=f,a=f,r="propTypes",o={token:i.default.shape({address:i.default.string.isRequired,decimals:i.default.number,symbol:i.default.string}).isRequired,useNativeCurrencyAsPrimaryCurrency:i.default.bool},r in a?Object.defineProperty(a,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[r]=o}}},{package:"$root$"}],[7668,{"../../../selectors":8267,"./user-preferenced-token-input.component":7667,"prop-types":5840,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),r=i(e("prop-types")),o=e("../../../selectors"),s=i(e("./user-preferenced-token-input.component"));function i(e){return e&&e.__esModule?e:{default:e}}const l=(0,a.connect)((e=>{const{useNativeCurrencyAsPrimaryCurrency:t}=(0,o.getPreferences)(e);return{useNativeCurrencyAsPrimaryCurrency:t}}))(s.default);l.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired};var u=l;n.default=u}}},{package:"$root$"}],[7669,{"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/transaction":7329,"../../../contexts/i18n":7844,"../../../contexts/metametrics":7845,"../../../ducks/send":7861,"../../../ducks/swaps/swaps":7863,"../../../helpers/constants/common":7865,"../../../helpers/constants/routes":7872,"../../../helpers/utils/hardware":7893,"../../../selectors/selectors":8270,"../../../store/actions":8273,"../../ui/icon-button":7722,"../../ui/icon/overview-buy-icon.component":7742,"../../ui/icon/overview-send-icon.component":7743,"../../ui/icon/swap-icon.component":7750,"../../ui/identicon":7755,"../../ui/spinner":7816,"../../ui/tooltip":7832,"../user-preferenced-currency-display":7661,"./wallet-overview":7672,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=O(e("prop-types")),o=e("react-redux"),s=O(e("classnames")),i=e("react-router-dom"),l=O(e("../../ui/identicon")),u=e("../../../contexts/i18n"),c=e("../../../helpers/constants/routes"),d=O(e("../../ui/tooltip")),f=O(e("../user-preferenced-currency-display")),p=e("../../../helpers/constants/common"),m=(e("../../../store/actions"),e("../../../selectors/selectors")),h=(O(e("../../ui/icon/swap-icon.component")),O(e("../../ui/icon/overview-buy-icon.component")),O(e("../../ui/icon/overview-send-icon.component")),e("../../../ducks/swaps/swaps"),O(e("../../ui/icon-button"))),_=e("../../../helpers/utils/hardware"),g=e("../../../contexts/metametrics"),y=e("../../../../shared/constants/metametrics"),E=O(e("../../ui/spinner")),v=e("../../../ducks/send"),b=e("../../../../shared/constants/transaction"),T=O(e("./wallet-overview"));function O(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const k=({className:e})=>{const t=(0,o.useDispatch)(),n=(0,a.useContext)(u.I18nContext),r=(0,a.useContext)(g.MetaMetricsContext),O=(0,i.useHistory)(),P=(0,o.useSelector)(m.getCurrentKeyring),k=((0,_.isHardwareKeyring)(null==P?void 0:P.type),(0,o.useSelector)(m.isBalanceCached)),w=(0,o.useSelector)(m.getShouldShowFiat),N=(0,o.useSelector)(m.getSelectedAccountCachedBalance),S=((0,o.useSelector)(m.getIsSwapsChain),(0,o.useSelector)(m.getIsBuyableChain),(0,o.useSelector)(m.getNativeCurrencyImage));(0,o.useSelector)(m.getSwapsDefaultToken);return a.default.createElement(T.default,{loading:!N,balance:a.default.createElement(d.default,{position:"top",title:n("balanceOutdated"),disabled:!k},a.default.createElement("div",{className:"eth-overview__balance"},a.default.createElement("div",{className:"eth-overview__primary-container"},N?a.default.createElement(f.default,{className:(0,s.default)("eth-overview__primary-balance",{"eth-overview__cached-balance":k}),"data-testid":"eth-overview__primary-currency",value:N,type:p.PRIMARY,ethNumberOfDecimals:4,hideTitle:!0}):a.default.createElement(E.default,{color:"var(--color-secondary-default)",className:"loading-overlay__spinner"}),k?a.default.createElement("span",{className:"eth-overview__cached-star"},"*"):null),w&&N&&a.default.createElement(f.default,{className:(0,s.default)({"eth-overview__cached-secondary-balance":k,"eth-overview__secondary-balance":!k}),"data-testid":"eth-overview__secondary-currency",value:N,type:p.SECONDARY,ethNumberOfDecimals:4,hideTitle:!0}))),buttons:a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,{className:"eth-overview__button","data-testid":"eth-overview-send",Icon:a.default.createElement("img",{src:"./images/icons/eth_send.svg",alt:"",style:{height:26,width:20}}),label:n("send"),onClick:()=>{r({event:y.EVENT_NAMES.NAV_SEND_BUTTON_CLICKED,category:y.EVENT.CATEGORIES.NAVIGATION,properties:{token_symbol:"ETH",location:"Home",text:"Send"}}),t((0,v.startNewDraftTransaction)({type:b.ASSET_TYPES.NATIVE})).then((()=>{O.push(c.SEND_ROUTE)}))}})),className:e,icon:a.default.createElement(l.default,{diameter:32,image:S})})};k.propTypes={className:r.default.string},k.defaultProps={className:undefined};var w=k;n.default=w}}},{package:"$root$"}],[7670,{"./eth-overview":7669,"./token-overview":7671},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"EthOverview",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"TokenOverview",{enumerable:!0,get:function(){return r.default}});var a=o(e("./eth-overview")),r=o(e("./token-overview"));function o(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$"}],[7671,{"../../../../shared/constants/metametrics":7321,"../../../../shared/constants/transaction":7329,"../../../contexts/i18n":7844,"../../../contexts/metametrics":7845,"../../../ducks/send":7861,"../../../ducks/swaps/swaps":7863,"../../../helpers/constants/error-keys":7869,"../../../helpers/constants/routes":7872,"../../../helpers/utils/hardware":7893,"../../../hooks/useTokenFiatAmount":7939,"../../../hooks/useTokenTracker":7940,"../../../selectors/selectors":8270,"../../../store/actions":8273,"../../ui/currency-display":7701,"../../ui/icon-button":7722,"../../ui/identicon":7755,"../../ui/tooltip":7832,"./wallet-overview":7672,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=T(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=T(e("../../ui/identicon")),l=(T(e("../../ui/tooltip")),T(e("../../ui/currency-display"))),u=e("../../../contexts/i18n"),c=e("../../../helpers/utils/hardware"),d=e("../../../helpers/constants/routes"),f=e("../../../hooks/useTokenTracker"),p=e("../../../hooks/useTokenFiatAmount"),m=e("../../../ducks/send"),h=(e("../../../ducks/swaps/swaps"),e("../../../selectors/selectors")),_=T(e("../../ui/icon-button")),g=e("../../../helpers/constants/error-keys"),y=(e("../../../store/actions"),e("../../../contexts/metametrics")),E=e("../../../../shared/constants/metametrics"),v=e("../../../../shared/constants/transaction"),b=T(e("./wallet-overview"));function T(e){return e&&e.__esModule?e:{default:e}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const P=({className:e,token:t})=>{var n,r;const T=(0,o.useDispatch)(),O=(0,a.useContext)(u.I18nContext),P=(0,a.useContext)(y.MetaMetricsContext),k=(0,s.useHistory)(),w=(0,o.useSelector)(h.getCurrentKeyring),{tokensWithBalances:N}=((0,c.isHardwareKeyring)(w.type),(0,f.useTokenTracker)([t])),S=null===(n=N[0])||void 0===n?void 0:n.string,C=(null===(r=N[0])||void 0===r||r.balance,(0,p.useTokenFiatAmount)(t.address,S,t.symbol));(0,o.useSelector)(h.getIsSwapsChain);return(0,a.useEffect)((()=>{t.isERC721,0}),[t.isERC721,t.address,T]),a.default.createElement(b.default,{balance:a.default.createElement("div",{className:"token-overview__balance"},a.default.createElement(l.default,{className:"token-overview__primary-balance",displayValue:S,suffix:t.symbol}),C?a.default.createElement(l.default,{className:"token-overview__secondary-balance",displayValue:C,hideLabel:!0}):null),buttons:a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,{className:"token-overview__button",onClick:async()=>{P({event:E.EVENT_NAMES.NAV_SEND_BUTTON_CLICKED,category:E.EVENT.CATEGORIES.NAVIGATION,properties:{token_symbol:t.symbol,location:E.EVENT.SOURCE.SWAPS.TOKEN_VIEW,text:"Send"}});try{await T((0,m.startNewDraftTransaction)({type:v.ASSET_TYPES.TOKEN,details:t})),k.push(d.SEND_ROUTE)}catch(e){if(!e.message.includes(g.INVALID_ASSET_TYPE))throw e}},Icon:a.default.createElement("img",{src:"./images/icons/eth_send.svg",alt:"",style:{height:26,width:20}}),label:O("send"),"data-testid":"eth-overview-send",disabled:t.isERC721})),className:e,icon:a.default.createElement(i.default,{diameter:32,address:t.address,image:t.image})})};P.propTypes={className:r.default.string,token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,image:r.default.string,isERC721:r.default.bool}).isRequired},P.defaultProps={className:undefined};var k=P;n.default=k}}},{package:"$root$"}],[7672,{classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("classnames"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({balance:e,buttons:t,className:n,icon:r,loading:s})=>a.default.createElement("div",{className:(0,o.default)("wallet-overview",n)},a.default.createElement("div",{className:"wallet-overview__balance"},s?null:r,e),a.default.createElement("div",{className:"wallet-overview__buttons"},t));i.propTypes={balance:r.default.element.isRequired,buttons:r.default.element.isRequired,className:r.default.string,icon:r.default.element.isRequired,loading:r.default.bool},i.defaultProps={className:undefined};var l=i;n.default=l}}},{package:"$root$"}],[7673,{"./whats-new-popup":7674},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./whats-new-popup"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7674,{"../../../../shared/notifications":7346,"../../../contexts/i18n":7844,"../../../ducks/metamask/metamask":7859,"../../../helpers/constants/design-system":7868,"../../../helpers/constants/routes":7872,"../../../helpers/constants/zendesk-url":7875,"../../../hooks/useEqualityCheck":7924,"../../../selectors":8267,"../../../store/actions":8273,"../../ui/button":7686,"../../ui/popover":7798,"../../ui/typography":7836,classnames:2484,"prop-types":5840,react:6817,"react-redux":6775,"react-router-dom":6795},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(e("react")),r=e("react-router-dom"),o=e("react-redux"),s=v(e("prop-types")),i=v(e("classnames")),l=e("../../../ducks/metamask/metamask"),u=e("../../../contexts/i18n"),c=e("../../../hooks/useEqualityCheck"),d=v(e("../../ui/button")),f=v(e("../../ui/popover")),p=v(e("../../ui/typography")),m=e("../../../store/actions"),h=e("../../../../shared/notifications"),_=e("../../../selectors"),g=e("../../../helpers/constants/routes"),y=e("../../../helpers/constants/design-system"),E=v(e("../../../helpers/constants/zendesk-url"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(e,t){return{2:()=>{global.platform.openTab({url:"https://survey.alchemer.com/s3/6173069/MetaMask-Extension-NPS-January-2021"})},3:()=>{global.platform.openTab({url:"https://community.metamask.io/t/about-the-security-category/72"})},4:()=>{(0,m.updateViewedNotifications)({4:!0}),t.push(g.BUILD_QUOTE_ROUTE)},5:()=>{(0,m.updateViewedNotifications)({5:!0}),global.platform.openTab({url:E.default.SECRET_RECOVERY_PHRASE})},8:()=>{(0,m.updateViewedNotifications)({8:!0}),t.push(g.ADVANCED_ROUTE)},10:()=>{(0,m.updateViewedNotifications)({10:!0}),t.push(`${g.ADVANCED_ROUTE}#token-description`)},12:()=>{(0,m.updateViewedNotifications)({12:!0}),t.push(g.EXPERIMENTAL_ROUTE)},13:()=>{(0,m.updateViewedNotifications)({13:!0}),t.push(`${g.EXPERIMENTAL_ROUTE}#show-custom-network`)}}[e]}const O=e=>Array.isArray(e)?a.default.createElement(a.default.Fragment,null,e.map(((t,n)=>{const r=n===e.length-1;return a.default.createElement(p.default,{key:`item-${n}`,variant:y.TYPOGRAPHY.Paragraph,boxProps:{marginBottom:r?0:2}},t)}))):a.default.createElement(p.default,{variant:y.TYPOGRAPHY.Paragraph},e);function P({onClose:e}){const t=(0,a.useContext)(u.I18nContext),n=(0,r.useHistory)(),s=(0,o.useSelector)(_.getSortedAnnouncementsToShow),p=(0,o.useSelector)(l.getCurrentLocale),[g,y]=(0,a.useState)({}),E=(0,a.useRef)(),v=(0,c.useEqualityCheck)(s),b=(0,a.useMemo)((()=>v.reduce(((e,t)=>({...e,[t.id]:a.default.createRef()})),{})),[v]);return(0,a.useEffect)((()=>{const e=new window.IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const[n,a]=Object.entries(b).find((([t,n])=>n.current.isSameNode(e.target)));y((e=>({...e,[n]:!0}))),t.unobserve(a.current)}}))}),{root:E.current,threshold:1});return Object.values(b).forEach((t=>{e.observe(t.current)})),()=>{e.disconnect()}}),[b,y]),a.default.createElement(f.default,{className:"whats-new-popup__popover",title:t("whatsNew"),onClose:()=>{(0,m.updateViewedNotifications)(g),e()},popoverRef:E},a.default.createElement("div",{className:"whats-new-popup__notifications"},s.map((({id:e},r)=>{const o=(0,h.getTranslatedUINotifications)(t,p)[e],l=r===s.length-1;return 0===r||1===e?((e,t,n,r)=>{const{id:o,date:s,title:l,description:u,image:c,actionText:f}=e,p=T(o,n),m=c&&a.default.createElement("img",{className:"whats-new-popup__notification-image",src:c.src,height:c.height,width:c.width}),h=null==c?void 0:c.placeImageBelowDescription;return a.default.createElement("div",{className:(0,i.default)("whats-new-popup__notification whats-new-popup__first-notification",{"whats-new-popup__last-notification":r}),key:`whats-new-popop-notification-${o}`},!h&&m,a.default.createElement("div",{className:"whats-new-popup__notification-title"},l),a.default.createElement("div",{className:"whats-new-popup__description-and-date"},a.default.createElement("div",{className:"whats-new-popup__notification-description"},O(u)),a.default.createElement("div",{className:"whats-new-popup__notification-date"},s)),h&&m,f&&a.default.createElement(d.default,{type:"secondary",className:"whats-new-popup__button",onClick:p},f),a.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[o]}))})(o,b,n,l):((e,t,n,r)=>{const{id:o,date:s,title:l,description:u,actionText:c}=e,d=T(o,n);return a.default.createElement("div",{className:(0,i.default)("whats-new-popup__notification",{"whats-new-popup__last-notification":r}),key:`whats-new-popop-notification-${o}`},a.default.createElement("div",{className:"whats-new-popup__notification-title"},l),a.default.createElement("div",{className:"whats-new-popup__description-and-date"},a.default.createElement("div",{className:"whats-new-popup__notification-description"},O(u)),a.default.createElement("div",{className:"whats-new-popup__notification-date"},s)),c&&a.default.createElement("div",{className:"whats-new-popup__link",onClick:d},`${c} >`),a.default.createElement("div",{className:"whats-new-popup__intersection-observable",ref:t[o]}))})(o,b,n,l)}))))}P.propTypes={onClose:s.default.func.isRequired}}}},{package:"$root$"}],[7675,{"../../../helpers/constants/common":7865,"../../../hooks/useI18nContext":7927,"../../app/user-preferenced-currency-display":7661,"../check-box":7692,"../identicon":7755,"../tooltip":7832,classnames:2484,"prop-types":5840,react:6817},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=e("../../../hooks/useI18nContext"),i=m(e("../check-box")),l=f(e("../identicon")),u=f(e("../../app/user-preferenced-currency-display")),c=e("../../../helpers/constants/common"),d=f(e("../tooltip"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}const h=({selectNewAccountViaModal:e,accounts:t,addressLastConnectedMap:n,selectedAccounts:r,nativeCurrency:f,allAreSelected:p,deselectAll:m,selectAll:h,handleAccountClick:_})=>{const g=(0,s.useI18nContext)(),y=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[]);const E=()=>{let n;return n=p()?i.CHECKED:0===r.size?i.UNCHECKED:i.INDETERMINATE,a.default.createElement("div",{className:(0,o.default)({"choose-account-list__header--one-item":1===t.length,"choose-account-list__header--multiple-items":t.length>1})},t.length>1?a.default.createElement("div",{className:"choose-account-list__select-all"},a.default.createElement(i.default,{className:"choose-account-list__header-check-box",checked:n,onClick:()=>p()?m():h()}),a.default.createElement("div",{className:"choose-account-list__text-grey"},g("selectAll")),a.default.createElement(d.default,{position:"bottom",html:a.default.createElement("div",{style:{width:200,padding:4}},g("selectingAllWillAllow"))},a.default.createElement("i",{className:"fa fa-info-circle"}))):null,a.default.createElement("div",{className:"choose-account-list__text-blue",onClick:()=>e(_)},g("newAccount")))},v=()=>a.default.createElement("div",{className:"choose-account-list__wrapper"},a.default.createElement("div",{className:"choose-account-list__list"},t.map(((e,t)=>{const{address:o,addressLabel:s,balance:p}=e,m=r.has(o);return a.default.createElement("div",{key:`choose-account-list-${t}`,onClick:()=>_(o),className:"choose-account-list__account",ref:m?y:null},a.default.createElement("div",{className:"choose-account-list__account-info-wrapper"},a.default.createElement(i.default,{className:"choose-account-list__list-check-box",checked:m}),a.default.createElement(l.default,{diameter:34,address:o}),a.default.createElement("div",{className:"choose-account-list__account__info"},a.default.createElement("div",{className:"choose-account-list__account__label"},s),a.default.createElement(u.default,{className:"choose-account-list__account__balance",type:c.PRIMARY,value:p,style:{color:"var(--color-text-alternative)"},suffix:f}))),n[o]?a.default.createElement(d.default,{title:`${g("lastConnected")} ${n[o]}`},a.default.createElement("i",{className:"fa fa-info-circle"})):null)}))));return a.default.createElement("div",{className:"choose-account-list"},a.default.createElement(E,null),a.default.createElement(v,null))};h.propTypes={accounts:r.default.arrayOf(r.default.shape({address:r.default.string,addressLabel:r.default.string,lastConnectedDate:r.default.string,balance:r.default.string})).isRequired,selectNewAccountViaModal:r.default.func.isRequired,addressLastConnectedMap:r.default.object,nativeCurrency:r.default.string.isRequired,selectedAccounts:r.default.object.isRequired,allAreSelected:r.default.func.isRequired,deselectAll:r.default.func.isRequired,selectAll:r.default.func.isRequired,handleAccountClick:r.default.func.isRequired};var _=h;n.default=_}}},{package:"$root$"}],[7676,{"./account-list":7675},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./account-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$"}],[7677,{"../../../helpers/constants/design-system":7868,"../../../hooks/useI18nContext":7927,"../../../selectors":8267,"../icon/info-icon.component":7740,"../tooltip":7832,"prop-types":5840,react:6817,"react-redux":6775},function(){with(this)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=d(e("react")),r=e("react-redux"),o=d(e("prop-types")),s=d(e("../tooltip")),i=e("../../../selectors"),l=d(e("../icon/info-icon.component")),u=e("../../../hooks/useI18nContext"),c=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function f({address:e}){const t=(0,r.useSelector)(i.getSelectedAccount),n=(0,u.useI18nContext)();return t.address===e?null:a.default.createElement(s.default,{position:"bottom",html:a.default.createElement("p",null,n("notCurrentAccount")),wrapperClassName:"account-mismatch-warning__tooltip-wrapper",containerClassName:"account-mismatch-warning__tooltip-container"},a.default.createElement("div",{className:"account-mismatch-warning__tooltip-container-icon"},a.default.createElement(l.default,{severity:c.SEVERITIES.WARNING})))}f.propTypes={address:o.default.string.isRequired}}}},{package:"$root$"}]],[],{});